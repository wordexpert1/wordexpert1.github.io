"use strict";(self.webpackChunkwordsexpert=self.webpackChunkwordsexpert||[]).push([[179],{6304:(Ve,_e,N)=>{N.d(_e,{Dh:()=>se,GT:()=>z,cc:()=>me,hO:()=>ne,on:()=>P,pX:()=>ee,xv:()=>Q});var d=N(5879),X=N(7142),O=N(5396);Ve=N.hmd(Ve);const te=["ngOnDestroy"],ee=(Se,Ue,Ie,le={})=>new Proxy(Se,{get:(Ke,Ne)=>Ie.runOutsideAngular(()=>{var He;if(Se[Ne])return!(null===(He=le?.spy)||void 0===He)&&He.get&&le.spy.get(Ne,Se[Ne]),Se[Ne];if(te.indexOf(Ne)>-1)return()=>{};const je=Ue.toPromise().then(nt=>{const dt=nt&&nt[Ne];return"function"==typeof dt?dt.bind(nt):dt&&dt.then?dt.then(pt=>Ie.run(()=>pt)):Ie.run(()=>dt)});return new Proxy(()=>{},{get:(nt,dt)=>je[dt],apply:(nt,dt,pt)=>je.then(zt=>{var Br;const ei=zt&&zt(...pt);return!(null===(Br=le?.spy)||void 0===Br)&&Br.apply&&le.spy.apply(Ne,pt,ei),ei})})})}),z=(Se,Ue)=>{Ue.forEach(Ie=>{Object.getOwnPropertyNames(Ie.prototype||Ie).forEach(le=>{Object.defineProperty(Se.prototype,le,Object.getOwnPropertyDescriptor(Ie.prototype||Ie,le))})})};class he{constructor(Ue){return Ue}}const se=new d.OlP("angularfire2.app.options"),Q=new d.OlP("angularfire2.app.name");function P(Se,Ue,Ie){const Ke="object"==typeof Ie&&Ie||{};Ke.name=Ke.name||"string"==typeof Ie&&Ie||"[DEFAULT]";const He=X.Z.apps.filter(je=>je&&je.name===Ke.name)[0]||Ue.runOutsideAngular(()=>X.Z.initializeApp(Se,Ke));try{JSON.stringify(Se)!==JSON.stringify(He.options)&&F("error",`${He.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(He)}const F=(Se,...Ue)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...Ue)},j={provide:he,useFactory:P,deps:[se,d.R0b,[new d.FiY,Q]]};let ne=(()=>{class Se{constructor(Ie){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",d.q4F.full,Ie.toString())}static initializeApp(Ie,le){return{ngModule:Se,providers:[{provide:se,useValue:Ie},{provide:Q,useValue:le}]}}}return Se.\u0275fac=function(Ie){return new(Ie||Se)(d.LFG(d.Lbi))},Se.\u0275mod=d.oAB({type:Se}),Se.\u0275inj=d.cJS({providers:[j]}),Se})();function me(Se,Ue,Ie,le,Ke){const[,Ne,He]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Se)||[];if(Ne)return function We(Se,Ue){try{return Se.toString()===Ue.toString()}catch{return Se===Ue}}(Ke,He)||(be("error",`${Ue} was already initialized on the ${Ie} Firebase App with different settings.${ce?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Ke,was:He})),Ne;{const je=le();return globalThis.\u0275AngularfireInstanceCache.push([Se,je,Ke]),je}}const ce=!!Ve.hot,be=(Se,...Ue)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5396:(Ve,_e,N)=>{N.d(_e,{q4:()=>ms,iC:()=>kn,HU:()=>ys,vb:()=>mc,JM:()=>zl});var d=N(5879),X=N(3182),O=N(5861),te=N(534),ee=N(9058),z=N(4537),he=N(7879);const se=(E,C)=>C.some(A=>E instanceof A);let Q,P;const ne=new WeakMap,me=new WeakMap,We=new WeakMap,ce=new WeakMap,be=new WeakMap;let Ie={get(E,C,A){if(E instanceof IDBTransaction){if("done"===C)return me.get(E);if("objectStoreNames"===C)return E.objectStoreNames||We.get(E);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return He(E[C])},set:(E,C,A)=>(E[C]=A,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function Ne(E){return"function"==typeof E?function Ke(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function j(){return P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(je(this),C),He(ne.get(this))}:function(...C){return He(E.apply(je(this),C))}:function(C,...A){const x=E.call(je(this),C,...A);return We.set(x,C.sort?C.sort():[C]),He(x)}}(E):(E instanceof IDBTransaction&&function Ue(E){if(me.has(E))return;const C=new Promise((A,x)=>{const W=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",ae),E.removeEventListener("abort",ae)},Y=()=>{A(),W()},ae=()=>{x(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",Y),E.addEventListener("error",ae),E.addEventListener("abort",ae)});me.set(E,C)}(E),se(E,function F(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Ie):E)}function He(E){if(E instanceof IDBRequest)return function Se(E){const C=new Promise((A,x)=>{const W=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",ae)},Y=()=>{A(He(E.result)),W()},ae=()=>{x(E.error),W()};E.addEventListener("success",Y),E.addEventListener("error",ae)});return C.then(A=>{A instanceof IDBCursor&&ne.set(A,E)}).catch(()=>{}),be.set(C,E),C}(E);if(ce.has(E))return ce.get(E);const C=Ne(E);return C!==E&&(ce.set(E,C),be.set(C,E)),C}const je=E=>be.get(E),pt=["get","getKey","getAll","getAllKeys","count"],zt=["put","add","delete","clear"],Br=new Map;function ei(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Br.get(C))return Br.get(C);const A=C.replace(/FromIndex$/,""),x=C!==A,W=zt.includes(A);if(!(A in(x?IDBIndex:IDBObjectStore).prototype)||!W&&!pt.includes(A))return;const Y=function(){var ae=(0,O.Z)(function*(Re,...Te){const Be=this.transaction(Re,W?"readwrite":"readonly");let et=Be.store;return x&&(et=et.index(Te.shift())),(yield Promise.all([et[A](...Te),W&&Be.done]))[0]});return function(Te){return ae.apply(this,arguments)}}();return Br.set(C,Y),Y}!function le(E){Ie=E(Ie)}(E=>({...E,get:(C,A,x)=>ei(C,A)||E.get(C,A,x),has:(C,A)=>!!ei(C,A)||E.has(C,A)}));const Io="@firebase/installations",Tn="0.6.4",ca=1e4,eu=`w:${Tn}`,Wa="FIS_v2",Us="https://firebaseinstallations.googleapis.com/v1",Ki=36e5,nn=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(E){return E instanceof ee.ZR&&E.code.includes("request-failed")}function bo({projectId:E}){return`${Us}/projects/${E}/installations`}function za(E){return{token:E.token,requestStatus:2,expiresIn:js(E.expiresIn),creationTime:Date.now()}}function sr(E,C){return $t.apply(this,arguments)}function $t(){return($t=(0,O.Z)(function*(E,C){const x=(yield C.json()).error;return nn.create("request-failed",{requestName:E,serverCode:x.code,serverMessage:x.message,serverStatus:x.status})})).apply(this,arguments)}function ua({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function bi(E){return _n.apply(this,arguments)}function _n(){return(_n=(0,O.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function js(E){return Number(E.replace("s","000"))}function or(){return(or=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:A}){const x=bo(E),W=ua(E),Y=C.getImmediate({optional:!0});if(Y){const Be=yield Y.getHeartbeatsHeader();Be&&W.append("x-firebase-client",Be)}const Re={method:"POST",headers:W,body:JSON.stringify({fid:A,authVersion:Wa,appId:E.appId,sdkVersion:eu})},Te=yield bi(()=>fetch(x,Re));if(Te.ok){const Be=yield Te.json();return{fid:Be.fid||A,registrationStatus:2,refreshToken:Be.refreshToken,authToken:za(Be.authToken)}}throw yield sr("Create Installation",Te)})).apply(this,arguments)}function Wt(E){return new Promise(C=>{setTimeout(C,E)})}const Do=/^[cdef][\w-]{21}$/,$e="";function gt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function ue(E){return function Gt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Do.test(A)?A:$e}catch{return $e}}function wt(E){return`${E.appName}!${E.appId}`}const Zt=new Map;function Un(E,C){const A=wt(E);la(A,C),function Lt(E,C){const A=function ct(){return!jn&&"BroadcastChannel"in self&&(jn=new BroadcastChannel("[Firebase] FID Change"),jn.onmessage=E=>{la(E.data.key,E.data.fid)}),jn}();A&&A.postMessage({key:E,fid:C}),function Di(){0===Zt.size&&jn&&(jn.close(),jn=null)}()}(A,C)}function la(E,C){const A=Zt.get(E);if(A)for(const x of A)x(C)}let jn=null;const Ji="firebase-installations-database",Xi=1,Dt="firebase-installations-store";let jt=null;function Ti(){return jt||(jt=function nt(E,C,{blocked:A,upgrade:x,blocking:W,terminated:Y}={}){const ae=indexedDB.open(E,C),Re=He(ae);return x&&ae.addEventListener("upgradeneeded",Te=>{x(He(ae.result),Te.oldVersion,Te.newVersion,He(ae.transaction))}),A&&ae.addEventListener("blocked",()=>A()),Re.then(Te=>{Y&&Te.addEventListener("close",()=>Y()),W&&Te.addEventListener("versionchange",()=>W())}).catch(()=>{}),Re}(Ji,Xi,{upgrade:(E,C)=>{0===C&&E.createObjectStore(Dt)}})),jt}function Ar(E,C){return ar.apply(this,arguments)}function ar(){return(ar=(0,O.Z)(function*(E,C){const A=wt(E),W=(yield Ti()).transaction(Dt,"readwrite"),Y=W.objectStore(Dt),ae=yield Y.get(A);return yield Y.put(C,A),yield W.done,(!ae||ae.fid!==C.fid)&&Un(E,C.fid),C})).apply(this,arguments)}function cn(E){return ti.apply(this,arguments)}function ti(){return(ti=(0,O.Z)(function*(E){const C=wt(E),x=(yield Ti()).transaction(Dt,"readwrite");yield x.objectStore(Dt).delete(C),yield x.done})).apply(this,arguments)}function cr(E,C){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,O.Z)(function*(E,C){const A=wt(E),W=(yield Ti()).transaction(Dt,"readwrite"),Y=W.objectStore(Dt),ae=yield Y.get(A),Re=C(ae);return void 0===Re?yield Y.delete(A):yield Y.put(Re,A),yield W.done,Re&&(!ae||ae.fid!==Re.fid)&&Un(E,Re.fid),Re})).apply(this,arguments)}function $(E){return B.apply(this,arguments)}function B(){return B=(0,O.Z)(function*(E){let C;const A=yield cr(E.appConfig,x=>{const W=function q(E){return it(E||{fid:gt(),registrationStatus:0})}(x),Y=function pe(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(nn.create("app-offline"))};const A={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},x=function ie(E,C){return ke.apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:x}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Je(E)}:{installationEntry:C}}(E,W);return C=Y.registrationPromise,Y.installationEntry});return A.fid===$e?{installationEntry:yield C}:{installationEntry:A,registrationPromise:C}}),B.apply(this,arguments)}function ke(){return ke=(0,O.Z)(function*(E,C){try{const A=yield function Qi(E,C){return or.apply(this,arguments)}(E,C);return Ar(E.appConfig,A)}catch(A){throw Ge(A)&&409===A.customData.serverCode?yield cn(E.appConfig):yield Ar(E.appConfig,{fid:C.fid,registrationStatus:0}),A}}),ke.apply(this,arguments)}function Je(E){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,O.Z)(function*(E){let C=yield Bn(E.appConfig);for(;1===C.registrationStatus;)yield Wt(100),C=yield Bn(E.appConfig);if(0===C.registrationStatus){const{installationEntry:A,registrationPromise:x}=yield $(E);return x||A}return C})).apply(this,arguments)}function Bn(E){return cr(E,C=>{if(!C)throw nn.create("installation-not-found");return it(C)})}function it(E){return function yn(E){return 1===E.registrationStatus&&E.registrationTime+ca<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function rn(){return(rn=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:C},A){const x=function ni(E,{fid:C}){return`${bo(E)}/${C}/authTokens:generate`}(E,A),W=function Ci(E,{refreshToken:C}){const A=ua(E);return A.append("Authorization",function Yi(E){return`${Wa} ${E}`}(C)),A}(E,A),Y=C.getImmediate({optional:!0});if(Y){const Be=yield Y.getHeartbeatsHeader();Be&&W.append("x-firebase-client",Be)}const Re={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:eu,appId:E.appId}})},Te=yield bi(()=>fetch(x,Re));if(Te.ok)return za(yield Te.json());throw yield sr("Generate Auth Token",Te)})).apply(this,arguments)}function Hn(E){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,O.Z)(function*(E,C=!1){let A;const x=yield cr(E.appConfig,Y=>{if(!st(Y))throw nn.create("not-registered");const ae=Y.authToken;if(!C&&function Tt(E){return 2===E.requestStatus&&!function vn(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+Ki}(E)}(ae))return Y;if(1===ae.requestStatus)return A=function oe(E,C){return re.apply(this,arguments)}(E,C),Y;{if(!navigator.onLine)throw nn.create("app-offline");const Re=function fn(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}(Y);return A=function Fe(E,C){return Pe.apply(this,arguments)}(E,Re),Re}});return A?yield A:x.authToken}),Hs.apply(this,arguments)}function re(){return(re=(0,O.Z)(function*(E,C){let A=yield Ee(E.appConfig);for(;1===A.authToken.requestStatus;)yield Wt(100),A=yield Ee(E.appConfig);const x=A.authToken;return 0===x.requestStatus?Hn(E,C):x})).apply(this,arguments)}function Ee(E){return cr(E,C=>{if(!st(C))throw nn.create("not-registered");return function qn(E){return 1===E.requestStatus&&E.requestTime+ca<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Pe(){return Pe=(0,O.Z)(function*(E,C){try{const A=yield function yt(E,C){return rn.apply(this,arguments)}(E,C),x=Object.assign(Object.assign({},C),{authToken:A});return yield Ar(E.appConfig,x),A}catch(A){if(!Ge(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const x=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Ar(E.appConfig,x)}else yield cn(E.appConfig);throw A}}),Pe.apply(this,arguments)}function st(E){return void 0!==E&&2===E.registrationStatus}function ri(){return(ri=(0,O.Z)(function*(E){const C=E,{installationEntry:A,registrationPromise:x}=yield $(C);return x?x.catch(console.error):Hn(C).catch(console.error),A.fid})).apply(this,arguments)}function Hr(){return Hr=(0,O.Z)(function*(E,C=!1){const A=E;return yield function tu(E){return Rn.apply(this,arguments)}(A),(yield Hn(A,C)).token}),Hr.apply(this,arguments)}function Rn(){return(Rn=(0,O.Z)(function*(E){const{registrationPromise:C}=yield $(E);C&&(yield C)})).apply(this,arguments)}function To(E){return nn.create("missing-app-config-values",{valueName:E})}const Vs="installations",eh=E=>{const C=E.getProvider("app").getImmediate(),A=function ur(E){if(!E||!E.options)throw To("App Configuration");if(!E.name)throw To("App Name");const C=["projectId","apiKey","appId"];for(const A of C)if(!E.options[A])throw To(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:A,heartbeatServiceProvider:(0,te._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},$s=E=>{const C=E.getProvider("app").getImmediate(),A=(0,te._getProvider)(C,Vs).getImmediate();return{getId:()=>function Mr(E){return ri.apply(this,arguments)}(A),getToken:W=>function ii(E){return Hr.apply(this,arguments)}(A,W)}};(function np(){(0,te._registerComponent)(new z.wA(Vs,eh,"PUBLIC")),(0,te._registerComponent)(new z.wA("installations-internal",$s,"PRIVATE"))})(),(0,te.registerVersion)(Io,Tn),(0,te.registerVersion)(Io,Tn,"esm2017");const ru="@firebase/remote-config",lr=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class at{constructor(C,A,x,W){this.client=C,this.storage=A,this.storageCache=x,this.logger=W}isCachedDataFresh(C,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const x=Date.now()-A,W=x<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${x}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${W}.`),W}fetch(C){var A=this;return(0,O.Z)(function*(){const[x,W]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(W&&A.isCachedDataFresh(C.cacheMaxAgeMillis,x))return W;C.eTag=W&&W.eTag;const Y=yield A.client.fetch(C),ae=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&ae.push(A.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(ae),Y})()}}function Jt(E=navigator){return E.languages&&E.languages[0]||E.language}class dr{constructor(C,A,x,W,Y,ae){this.firebaseInstallations=C,this.sdkVersion=A,this.namespace=x,this.projectId=W,this.apiKey=Y,this.appId=ae}fetch(C){var A=this;return(0,O.Z)(function*(){const[x,W]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Re={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Te={sdk_version:A.sdkVersion,app_instance_id:x,app_instance_id_token:W,app_id:A.appId,language_code:Jt()},Be={method:"POST",headers:Re,body:JSON.stringify(Te)},et=fetch(ae,Be),tt=new Promise((Wn,fi)=>{C.signal.addEventListener(()=>{const Ou=new Error("The operation was aborted.");Ou.name="AbortError",fi(Ou)})});let _r;try{yield Promise.race([et,tt]),_r=yield et}catch(Wn){let fi="fetch-client-network";throw"AbortError"===Wn?.name&&(fi="fetch-timeout"),lr.create(fi,{originalErrorMessage:Wn?.message})}let Ln=_r.status;const Zr=_r.headers.get("ETag")||void 0;let hi,vc;if(200===_r.status){let Wn;try{Wn=yield _r.json()}catch(fi){throw lr.create("fetch-client-parse",{originalErrorMessage:fi?.message})}hi=Wn.entries,vc=Wn.state}if("INSTANCE_STATE_UNSPECIFIED"===vc?Ln=500:"NO_CHANGE"===vc?Ln=304:("NO_TEMPLATE"===vc||"EMPTY_CONFIG"===vc)&&(hi={}),304!==Ln&&200!==Ln)throw lr.create("fetch-status",{httpStatus:Ln});return{status:Ln,eTag:Zr,config:hi}})()}}class Ao{constructor(C,A){this.client=C,this.storage=A}fetch(C){var A=this;return(0,O.Z)(function*(){const x=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(C,x)})()}attemptFetch(C,{throttleEndTimeMillis:A,backoffCount:x}){var W=this;return(0,O.Z)(function*(){yield function ts(E,C){return new Promise((A,x)=>{const W=Math.max(C-Date.now(),0),Y=setTimeout(A,W);E.addEventListener(()=>{clearTimeout(Y),x(lr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,A);try{const Y=yield W.client.fetch(C);return yield W.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function Qn(E){if(!(E instanceof ee.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(Y))throw Y;const ae={throttleEndTimeMillis:Date.now()+(0,ee.$s)(x),backoffCount:x+1};return yield W.storage.setThrottleMetadata(ae),W.attemptFetch(C,ae)}})()}}class Ws{constructor(C,A,x,W,Y){this.app=C,this._client=A,this._storageCache=x,this._storage=W,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qe(E,C){const A=E.target.error||void 0;return lr.create(C,{originalErrorMessage:A&&A?.message})}const Nr="app_namespace_store";class Mo{constructor(C,A,x,W=function sn(){return new Promise((E,C)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=x=>{C(Qe(x,"storage-open"))},A.onsuccess=x=>{E(x.target.result)},A.onupgradeneeded=x=>{0===x.oldVersion&&x.target.result.createObjectStore(Nr,{keyPath:"compositeKey"})}}catch(A){C(lr.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=C,this.appName=A,this.namespace=x,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var A=this;return(0,O.Z)(function*(){const x=yield A.openDbPromise;return new Promise((W,Y)=>{const Re=x.transaction([Nr],"readonly").objectStore(Nr),Te=A.createCompositeKey(C);try{const Be=Re.get(Te);Be.onerror=et=>{Y(Qe(et,"storage-get"))},Be.onsuccess=et=>{const tt=et.target.result;W(tt?tt.value:void 0)}}catch(Be){Y(lr.create("storage-get",{originalErrorMessage:Be?.message}))}})})()}set(C,A){var x=this;return(0,O.Z)(function*(){const W=yield x.openDbPromise;return new Promise((Y,ae)=>{const Te=W.transaction([Nr],"readwrite").objectStore(Nr),Be=x.createCompositeKey(C);try{const et=Te.put({compositeKey:Be,value:A});et.onerror=tt=>{ae(Qe(tt,"storage-set"))},et.onsuccess=()=>{Y()}}catch(et){ae(lr.create("storage-set",{originalErrorMessage:et?.message}))}})})()}delete(C){var A=this;return(0,O.Z)(function*(){const x=yield A.openDbPromise;return new Promise((W,Y)=>{const Re=x.transaction([Nr],"readwrite").objectStore(Nr),Te=A.createCompositeKey(C);try{const Be=Re.delete(Te);Be.onerror=et=>{Y(Qe(et,"storage-delete"))},Be.onsuccess=()=>{W()}}catch(Be){Y(lr.create("storage-delete",{originalErrorMessage:Be?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class zs{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,O.Z)(function*(){const A=C.storage.getLastFetchStatus(),x=C.storage.getLastSuccessfulFetchTimestampMillis(),W=C.storage.getActiveConfig(),Y=yield A;Y&&(C.lastFetchStatus=Y);const ae=yield x;ae&&(C.lastSuccessfulFetchTimestampMillis=ae);const Re=yield W;Re&&(C.activeConfig=Re)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Ai(){return fr.apply(this,arguments)}function fr(){return(fr=(0,O.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function Er(){(0,te._registerComponent)(new z.wA("remote-config",function E(C,{instanceIdentifier:A}){const x=C.getProvider("app").getImmediate(),W=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw lr.create("registration-window");if(!(0,ee.hl)())throw lr.create("indexed-db-unavailable");const{projectId:Y,apiKey:ae,appId:Re}=x.options;if(!Y)throw lr.create("registration-project-id");if(!ae)throw lr.create("registration-api-key");if(!Re)throw lr.create("registration-app-id");const Te=new Mo(Re,x.name,A=A||"firebase"),Be=new zs(Te),et=new he.Yd(ru);et.logLevel=he.in.ERROR;const tt=new dr(W,te.SDK_VERSION,A,Y,ae,Re),_r=new Ao(tt,Te),Ln=new at(_r,Te,Be,et),Zr=new Ws(x,Ln,Be,Te,et);return function Kn(E){const C=(0,ee.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Zr),Zr},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(ru,"0.4.4"),(0,te.registerVersion)(ru,"0.4.4","esm2017")}();const Po=(E,C)=>C.some(A=>E instanceof A);let oi,mt;const uu=new WeakMap,Pn=new WeakMap,ga=new WeakMap,Mi=new WeakMap,Vr=new WeakMap;let Jn={get(E,C,A){if(E instanceof IDBTransaction){if("done"===C)return Pn.get(E);if("objectStoreNames"===C)return E.objectStoreNames||ga.get(E);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return $r(E[C])},set:(E,C,A)=>(E[C]=A,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function Ri(E){return"function"==typeof E?function lu(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pa(){return mt||(mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(pr(this),C),$r(uu.get(this))}:function(...C){return $r(E.apply(pr(this),C))}:function(C,...A){const x=E.call(pr(this),C,...A);return ga.set(x,C.sort?C.sort():[C]),$r(x)}}(E):(E instanceof IDBTransaction&&function ih(E){if(Pn.has(E))return;const C=new Promise((A,x)=>{const W=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",ae),E.removeEventListener("abort",ae)},Y=()=>{A(),W()},ae=()=>{x(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",Y),E.addEventListener("error",ae),E.addEventListener("abort",ae)});Pn.set(E,C)}(E),Po(E,function ip(){return oi||(oi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Jn):E)}function $r(E){if(E instanceof IDBRequest)return function qt(E){const C=new Promise((A,x)=>{const W=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",ae)},Y=()=>{A($r(E.result)),W()},ae=()=>{x(E.error),W()};E.addEventListener("success",Y),E.addEventListener("error",ae)});return C.then(A=>{A instanceof IDBCursor&&uu.set(A,E)}).catch(()=>{}),Vr.set(C,E),C}(E);if(Mi.has(E))return Mi.get(E);const C=Ri(E);return C!==E&&(Mi.set(E,C),Vr.set(C,E)),C}const pr=E=>Vr.get(E);function Ya(E,C,{blocked:A,upgrade:x,blocking:W,terminated:Y}={}){const ae=indexedDB.open(E,C),Re=$r(ae);return x&&ae.addEventListener("upgradeneeded",Te=>{x($r(ae.result),Te.oldVersion,Te.newVersion,$r(ae.transaction))}),A&&ae.addEventListener("blocked",()=>A()),Re.then(Te=>{Y&&Te.addEventListener("close",()=>Y()),W&&Te.addEventListener("versionchange",()=>W())}).catch(()=>{}),Re}function ma(E,{blocked:C}={}){const A=indexedDB.deleteDatabase(E);return C&&A.addEventListener("blocked",()=>C()),$r(A).then(()=>{})}const sh=["get","getKey","getAll","getAllKeys","count"],Lm=["put","add","delete","clear"],Qa=new Map;function rs(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Qa.get(C))return Qa.get(C);const A=C.replace(/FromIndex$/,""),x=C!==A,W=Lm.includes(A);if(!(A in(x?IDBIndex:IDBObjectStore).prototype)||!W&&!sh.includes(A))return;const Y=function(){var ae=(0,O.Z)(function*(Re,...Te){const Be=this.transaction(Re,W?"readwrite":"readonly");let et=Be.store;return x&&(et=et.index(Te.shift())),(yield Promise.all([et[A](...Te),W&&Be.done]))[0]});return function(Te){return ae.apply(this,arguments)}}();return Qa.set(C,Y),Y}!function Xt(E){Jn=E(Jn)}(E=>({...E,get:(C,A,x)=>rs(C,A)||E.get(C,A,x),has:(C,A)=>!!rs(C,A)||E.has(C,A)}));const sp="/firebase-messaging-sw.js",op="/firebase-cloud-messaging-push-scope",Ja="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xv="https://fcmregistrations.googleapis.com/v1",en="google.c.a.c_id",Gs="google.c.a.c_l",Xa="google.c.a.ts";var du=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(du||{});function is(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fm(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),x=atob(A),W=new Uint8Array(x.length);for(let Y=0;Y<x.length;++Y)W[Y]=x.charCodeAt(Y);return W}const Pi="fcm_token_details_db",oh=5,hu="fcm_token_object_Store";function No(){return No=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(Pi))return null;let C=null;return(yield Ya(Pi,oh,{upgrade:(x=(0,O.Z)(function*(W,Y,ae,Re){var Te;if(Y<2||!W.objectStoreNames.contains(hu))return;const Be=Re.objectStore(hu),et=yield Be.index("fcmSenderId").get(E);if(yield Be.clear(),et)if(2===Y){const tt=et;if(!tt.auth||!tt.p256dh||!tt.endpoint)return;C={token:tt.fcmToken,createTime:null!==(Te=tt.createTime)&&void 0!==Te?Te:Date.now(),subscriptionOptions:{auth:tt.auth,p256dh:tt.p256dh,endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:"string"==typeof tt.vapidKey?tt.vapidKey:is(tt.vapidKey)}}}else if(3===Y){const tt=et;C={token:tt.fcmToken,createTime:tt.createTime,subscriptionOptions:{auth:is(tt.auth),p256dh:is(tt.p256dh),endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:is(tt.vapidKey)}}}else if(4===Y){const tt=et;C={token:tt.fcmToken,createTime:tt.createTime,subscriptionOptions:{auth:is(tt.auth),p256dh:is(tt.p256dh),endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:is(tt.vapidKey)}}}}),function(Y,ae,Re,Te){return x.apply(this,arguments)})})).close(),yield ma(Pi),yield ma("fcm_vapid_details_db"),yield ma("undefined"),function Ni(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var x}),No.apply(this,arguments)}const En="firebase-messaging-database",fu=1,ai="firebase-messaging-store";let gn=null;function ss(){return gn||(gn=Ya(En,fu,{upgrade:(E,C)=>{0===C&&E.createObjectStore(ai)}})),gn}function Xn(E){return xo.apply(this,arguments)}function xo(){return xo=(0,O.Z)(function*(E){const C=Oo(E),x=yield(yield ss()).transaction(ai).objectStore(ai).get(C);if(x)return x;{const W=yield function cp(E){return No.apply(this,arguments)}(E.appConfig.senderId);if(W)return yield pu(E,W),W}}),xo.apply(this,arguments)}function pu(E,C){return _a.apply(this,arguments)}function _a(){return(_a=(0,O.Z)(function*(E,C){const A=Oo(E),W=(yield ss()).transaction(ai,"readwrite");return yield W.objectStore(ai).put(C,A),yield W.done,C})).apply(this,arguments)}function os(){return(os=(0,O.Z)(function*(E){const C=Oo(E),x=(yield ss()).transaction(ai,"readwrite");yield x.objectStore(ai).delete(C),yield x.done})).apply(this,arguments)}function Oo({appConfig:E}){return E.appId}const wn=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gu(E,C){return rc.apply(this,arguments)}function rc(){return(rc=(0,O.Z)(function*(E,C){const A=yield _u(E),x=up(C),W={method:"POST",headers:A,body:JSON.stringify(x)};let Y;try{Y=yield(yield fetch(ya(E.appConfig),W)).json()}catch(ae){throw wn.create("token-subscribe-failed",{errorInfo:ae?.toString()})}if(Y.error)throw wn.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw wn.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function as(){return(as=(0,O.Z)(function*(E,C){const A=yield _u(E),x=up(C.subscriptionOptions),W={method:"PATCH",headers:A,body:JSON.stringify(x)};let Y;try{Y=yield(yield fetch(`${ya(E.appConfig)}/${C.token}`,W)).json()}catch(ae){throw wn.create("token-update-failed",{errorInfo:ae?.toString()})}if(Y.error)throw wn.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw wn.create("token-update-no-token");return Y.token})).apply(this,arguments)}function Zs(E,C){return xi.apply(this,arguments)}function xi(){return(xi=(0,O.Z)(function*(E,C){const x={method:"DELETE",headers:yield _u(E)};try{const Y=yield(yield fetch(`${ya(E.appConfig)}/${C}`,x)).json();if(Y.error)throw wn.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(W){throw wn.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function ya({projectId:E}){return`${xv}/projects/${E}/registrations`}function _u(E){return ic.apply(this,arguments)}function ic(){return(ic=(0,O.Z)(function*({appConfig:E,installations:C}){const A=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function up({p256dh:E,auth:C,endpoint:A,vapidKey:x}){const W={web:{endpoint:A,auth:C,p256dh:E}};return x!==Ja&&(W.web.applicationPubKey=x),W}const Tl=6048e5;function yu(){return yu=(0,O.Z)(function*(E){const C=yield function sc(E,C){return va.apply(this,arguments)}(E.swRegistration,E.vapidKey),A={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:is(C.getKey("auth")),p256dh:is(C.getKey("p256dh"))},x=yield Xn(E.firebaseDependencies);if(x){if(function Al(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}(x.subscriptionOptions,A))return Date.now()>=x.createTime+Tl?function Sl(E,C){return Oi.apply(this,arguments)}(E,{token:x.token,createTime:Date.now(),subscriptionOptions:A}):x.token;try{yield Zs(E.firebaseDependencies,x.token)}catch(W){console.warn(W)}return dp(E.firebaseDependencies,A)}return dp(E.firebaseDependencies,A)}),yu.apply(this,arguments)}function Lo(){return Lo=(0,O.Z)(function*(E){const C=yield Xn(E.firebaseDependencies);C&&(yield Zs(E.firebaseDependencies,C.token),yield function tc(E){return os.apply(this,arguments)}(E.firebaseDependencies));const A=yield E.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Lo.apply(this,arguments)}function Oi(){return Oi=(0,O.Z)(function*(E,C){try{const A=yield function mu(E,C){return as.apply(this,arguments)}(E.firebaseDependencies,C),x=Object.assign(Object.assign({},C),{token:A,createTime:Date.now()});return yield pu(E.firebaseDependencies,x),A}catch(A){throw yield function ko(E){return Lo.apply(this,arguments)}(E),A}}),Oi.apply(this,arguments)}function dp(E,C){return vu.apply(this,arguments)}function vu(){return(vu=(0,O.Z)(function*(E,C){const x={token:yield gu(E,C),createTime:Date.now(),subscriptionOptions:C};return yield pu(E,x),x.token})).apply(this,arguments)}function va(){return(va=(0,O.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fm(C)})})).apply(this,arguments)}function Fo(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Uo(E,C){if(!C.notification)return;E.notification={};const A=C.notification.title;A&&(E.notification.title=A);const x=C.notification.body;x&&(E.notification.body=x);const W=C.notification.image;W&&(E.notification.image=W);const Y=C.notification.icon;Y&&(E.notification.icon=Y)}(C,E),function Eu(E,C){C.data&&(E.data=C.data)}(C,E),function oc(E,C){var A,x,W,Y,ae;if(!(C.fcmOptions||null!==(A=C.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const Re=null!==(W=null===(x=C.fcmOptions)||void 0===x?void 0:x.link)&&void 0!==W?W:null===(Y=C.notification)||void 0===Y?void 0:Y.click_action;Re&&(E.fcmOptions.link=Re);const Te=null===(ae=C.fcmOptions)||void 0===ae?void 0:ae.analytics_label;Te&&(E.fcmOptions.analyticsLabel=Te)}(C,E),C}function Iu(E,C){const A=[];for(let x=0;x<E.length;x++)A.push(E.charAt(x)),x<C.length&&A.push(C.charAt(x));return A.join("")}function ac(E){return wn.create("missing-app-config-values",{valueName:E})}Iu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Iu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ml{constructor(C,A,x){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Cu(E){if(!E||!E.options)throw ac("App Configuration Object");if(!E.name)throw ac("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const x of C)if(!A[x])throw ac(x);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:W,installations:A,analyticsProvider:x}}_delete(){return Promise.resolve()}}function jo(){return(jo=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(sp,{scope:op}),E.swRegistration.update().catch(()=>{})}catch(C){throw wn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function Ks(){return(Ks=(0,O.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield function qs(E){return jo.apply(this,arguments)}(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw wn.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function Ys(){return(Ys=(0,O.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=Ja)})).apply(this,arguments)}function Qs(){return Qs=(0,O.Z)(function*(E,C){if(!navigator)throw wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wn.create("permission-blocked");return yield function cc(E,C){return Ys.apply(this,arguments)}(E,C?.vapidKey),yield function Rl(E,C){return Ks.apply(this,arguments)}(E,C?.serviceWorkerRegistration),function lp(E){return yu.apply(this,arguments)}(E)}),Qs.apply(this,arguments)}function gr(){return(gr=(0,O.Z)(function*(E,C,A){const x=function Nl(E){switch(E){case du.NOTIFICATION_CLICKED:return"notification_open";case du.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(x,{message_id:A[en],message_name:A[Gs],message_time:A[Xa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ft(){return Ft=(0,O.Z)(function*(E,C){const A=C.data;if(!A.isFirebaseMessaging)return;E.onMessageHandler&&A.messageType===du.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Fo(A)):E.onMessageHandler.next(Fo(A)));const x=A.data;(function wu(E){return"object"==typeof E&&!!E&&en in E})(x)&&"1"===x["google.c.a.e"]&&(yield function ah(E,C,A){return gr.apply(this,arguments)}(E,A.messageType,x))}),Ft.apply(this,arguments)}const Js="@firebase/messaging",Vn=E=>{const C=new Ml(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function uc(E,C){return Ft.apply(this,arguments)}(C,A)),C},hp=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:x=>function Pl(E,C){return Qs.apply(this,arguments)}(C,x)}};function cs(){return In.apply(this,arguments)}function In(){return(In=(0,O.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bu(){(0,te._registerComponent)(new z.wA("messaging",Vn,"PUBLIC")),(0,te._registerComponent)(new z.wA("messaging-internal",hp,"PRIVATE")),(0,te.registerVersion)(Js,"0.12.4"),(0,te.registerVersion)(Js,"0.12.4","esm2017")}();const Ea="analytics",Um="firebase_id",Xe="origin",Ol=6e4,jm="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Su="https://www.googletagmanager.com/gtag/js",Nn=new he.Yd("@firebase/analytics"),$n=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ki(E){if(!E.startsWith(Su)){const C=$n.create("invalid-gtag-resource",{gtagURL:E});return Nn.warn(C.message),""}return E}function ls(E){return Promise.all(E.map(C=>C.catch(A=>A)))}function ye(){return(ye=(0,O.Z)(function*(E,C,A,x,W,Y){const ae=x[W];try{if(ae)yield C[ae];else{const Te=(yield ls(A)).find(Be=>Be.measurementId===W);Te&&(yield C[Te.appId])}}catch(Re){Nn.error(Re)}E("config",W,Y)})).apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(E,C,A,x,W){try{let Y=[];if(W&&W.send_to){let ae=W.send_to;Array.isArray(ae)||(ae=[ae]);const Re=yield ls(A);for(const Te of ae){const Be=Re.find(tt=>tt.measurementId===Te),et=Be&&C[Be.appId];if(!et){Y=[];break}Y.push(et)}}0===Y.length&&(Y=Object.values(C)),yield Promise.all(Y),E("event",x,W||{})}catch(Y){Nn.error(Y)}})).apply(this,arguments)}const Li=30,Au=new class Ll{constructor(C={},A=1e3){this.throttleMetadata=C,this.intervalMillis=A}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,A){this.throttleMetadata[C]=A}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function dh(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Bo(){return(Bo=(0,O.Z)(function*(E){var C;const{appId:A,apiKey:x}=E,W={method:"GET",headers:dh(x)},Y=jm.replace("{app-id}",A),ae=yield fetch(Y,W);if(200!==ae.status&&304!==ae.status){let Re="";try{const Te=yield ae.json();null!==(C=Te.error)&&void 0!==C&&C.message&&(Re=Te.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:ae.status,responseMessage:Re})}return ae.json()})).apply(this,arguments)}function xn(){return(xn=(0,O.Z)(function*(E,C=Au,A){const{appId:x,apiKey:W,measurementId:Y}=E.options;if(!x)throw $n.create("no-app-id");if(!W){if(Y)return{measurementId:Y,appId:x};throw $n.create("no-api-key")}const ae=C.getThrottleMetadata(x)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new on;return setTimeout((0,O.Z)(function*(){Re.abort()}),void 0!==A?A:Ol),Fl({appId:x,apiKey:W,measurementId:Y},ae,Re,C)})).apply(this,arguments)}function Fl(E,C,A){return to.apply(this,arguments)}function to(){return to=(0,O.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:A},x,W=Au){var Y;const{appId:ae,measurementId:Re}=E;try{yield function mr(E,C){return new Promise((A,x)=>{const W=Math.max(C-Date.now(),0),Y=setTimeout(A,W);E.addEventListener(()=>{clearTimeout(Y),x($n.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(x,C)}catch(Te){if(Re)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${Te?.message}]`),{appId:ae,measurementId:Re};throw Te}try{const Te=yield function Ov(E){return Bo.apply(this,arguments)}(E);return W.deleteThrottleMetadata(ae),Te}catch(Te){const Be=Te;if(!function hh(E){if(!(E instanceof ee.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(Be)){if(W.deleteThrottleMetadata(ae),Re)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:ae,measurementId:Re};throw Te}const et=503===Number(null===(Y=Be?.customData)||void 0===Y?void 0:Y.httpStatus)?(0,ee.$s)(A,W.intervalMillis,Li):(0,ee.$s)(A,W.intervalMillis),tt={throttleEndTimeMillis:Date.now()+et,backoffCount:A+1};return W.setThrottleMetadata(ae,tt),Nn.debug(`Calling attemptFetch again in ${et} millis`),Fl(E,tt,x,W)}}),to.apply(this,arguments)}class on{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let hc,no;function fc(){return(fc=(0,O.Z)(function*(E,C,A,x,W){if(W&&W.global)E("event",A,x);else{const Y=yield C;E("event",A,Object.assign(Object.assign({},x),{send_to:Y}))}})).apply(this,arguments)}function On(){return(On=(0,O.Z)(function*(){if(!(0,ee.hl)())return Nn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(E){return Nn.warn($n.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function ds(){return ds=(0,O.Z)(function*(E,C,A,x,W,Y,ae){var Re;const Te=function wr(E){return xn.apply(this,arguments)}(E);Te.then(Ln=>{A[Ln.measurementId]=Ln.appId,E.options.measurementId&&Ln.measurementId!==E.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ln=>Nn.error(Ln)),C.push(Te);const Be=function xt(){return On.apply(this,arguments)}().then(Ln=>{if(Ln)return x.getId()}),[et,tt]=yield Promise.all([Te,Be]);(function dc(E){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(Su)&&A.src.includes(E))return A;return null})(Y)||function uh(E,C){const A=function kl(E,C){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,C)),A}("firebase-js-sdk-policy",{createScriptURL:ki}),x=document.createElement("script"),W=`${Su}?l=${E}&id=${C}`;x.src=A?A?.createScriptURL(W):W,x.async=!0,document.head.appendChild(x)}(Y,et.measurementId),no&&(W("consent","default",no),function Pu(E){no=E}(void 0)),W("js",new Date);const _r=null!==(Re=ae?.config)&&void 0!==Re?Re:{};return _r[Xe]="firebase",_r.update=!0,null!=tt&&(_r[Um]=tt),W("config",et.measurementId,_r),hc&&(W("set",hc),function Ze(E){hc=E}(void 0)),et.measurementId}),ds.apply(this,arguments)}class ui{constructor(C){this.app=C}_delete(){return delete Ui[this.app.options.appId],Promise.resolve()}}let Ui={},ro=[];const _t={};let Bi,li,io="dataLayer",Bt=!1;function xr(E,C,A){!function so(){const E=[];if((0,ee.ru)()&&E.push("This is a browser extension environment."),(0,ee.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((x,W)=>`(${W+1}) ${x}`).join(" "),A=$n.create("invalid-analytics-context",{errorInfo:C});Nn.warn(A.message)}}();const x=E.options.appId;if(!x)throw $n.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw $n.create("no-api-key");Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ui[x])throw $n.create("already-exists",{id:x});if(!Bt){!function mp(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(io);const{wrappedGtag:Y,gtagCore:ae}=function Cn(E,C,A,x,W){let Y=function(...ae){window[x].push(arguments)};return window[W]&&"function"==typeof window[W]&&(Y=window[W]),window[W]=function lc(E,C,A,x){function Y(){return Y=(0,O.Z)(function*(ae,...Re){try{if("event"===ae){const[Te,Be]=Re;yield function Ct(E,C,A,x,W){return Wr.apply(this,arguments)}(E,C,A,Te,Be)}else if("config"===ae){const[Te,Be]=Re;yield function lh(E,C,A,x,W,Y){return ye.apply(this,arguments)}(E,C,A,x,Te,Be)}else if("consent"===ae){const[Te]=Re;E("consent","update",Te)}else if("get"===ae){const[Te,Be,et]=Re;E("get",Te,Be,et)}else if("set"===ae){const[Te]=Re;E("set",Te)}else E(ae,...Re)}catch(Te){Nn.error(Te)}}),Y.apply(this,arguments)}return function W(ae){return Y.apply(this,arguments)}}(Y,E,C,A),{gtagCore:Y,wrappedGtag:window[W]}}(Ui,ro,_t,io,"gtag");li=Y,Bi=ae,Bt=!0}return Ui[x]=function Et(E,C,A,x,W,Y,ae){return ds.apply(this,arguments)}(E,ro,_t,C,Bi,io,A),new ui(E)}function ph(){return hs.apply(this,arguments)}function hs(){return(hs=(0,O.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const wa="@firebase/analytics";!function Ia(){(0,te._registerComponent)(new z.wA(Ea,(C,{options:A})=>xr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,te._registerComponent)(new z.wA("analytics-internal",function E(C){try{const A=C.getProvider(Ea).getImmediate();return{logEvent:(x,W,Y)=>function mh(E,C,A,x){E=(0,ee.m9)(E),function Ul(E,C,A,x,W){return fc.apply(this,arguments)}(li,Ui[E.app.options.appId],C,A,x).catch(W=>Nn.error(W))}(A,x,W,Y)}}catch(A){throw $n.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,te.registerVersion)(wa,"0.10.0"),(0,te.registerVersion)(wa,"0.10.0","esm2017")}();var Or=N(6680),ps=N(435),gs=N(2420),Ca=N(2671),ba=N(427);const ms=new d.GfV("7.6.1"),zr="__angularfire_symbol__analyticsIsSupportedValue",Cr="__angularfire_symbol__analyticsIsSupported",Nu="__angularfire_symbol__remoteConfigIsSupportedValue",Da="__angularfire_symbol__remoteConfigIsSupported",$o="__angularfire_symbol__messagingIsSupportedValue",Ta="__angularfire_symbol__messagingIsSupported";function zl(E,C,A){if(C){if(1===C.length)return C[0];const Y=C.filter(ae=>ae.app===A);if(1===Y.length)return Y[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[Cr]||(globalThis[Cr]=ph().then(E=>globalThis[zr]=E).catch(()=>globalThis[zr]=!1)),globalThis[Ta]||(globalThis[Ta]=cs().then(E=>globalThis[$o]=E).catch(()=>globalThis[$o]=!1)),globalThis[Da]||(globalThis[Da]=Ai().then(E=>globalThis[Nu]=E).catch(()=>globalThis[Nu]=!1));const mc=(E,C)=>{const A=C?[C]:(0,X.C6)(),x=[];return A.forEach(W=>{W.container.getProvider(E).instances.forEach(ae=>{x.includes(ae)||x.push(ae)})}),x};function Gr(){}class Sa{constructor(C,A=Or.N){this.zone=C,this.delegate=A}now(){return this.delegate.now()}schedule(C,A,x){const W=this.zone;return this.delegate.schedule(function(ae){W.runGuarded(()=>{C.apply(this,[ae])})},A,x)}}class Wo{constructor(C){this.zone=C,this.task=null}call(C,A){const x=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gr,{},Gr,Gr)),A.pipe((0,gs.b)({next:x,complete:x,error:x})).subscribe(C).add(x)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ys=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Sa(Zone.current)),this.insideAngular=A.run(()=>new Sa(Zone.current,ps.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(d.LFG(d.R0b))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function di(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function kn(E){return di(),function wh(E){return function(A){return(A=A.lift(new Wo(E.ngZone))).pipe((0,Ca.R)(E.outsideAngular),(0,ba.QV)(E.insideAngular))}}(di())(E)}},9058:(Ve,_e,N)=>{N.d(_e,{$s:()=>cn,BH:()=>Ne,DV:()=>js,Dv:()=>la,GJ:()=>bi,L:()=>Q,LL:()=>Ii,Pz:()=>Ke,Sg:()=>He,UG:()=>dt,UI:()=>Qi,US:()=>z,Wj:()=>ct,Wl:()=>za,Yr:()=>ca,ZB:()=>j,ZR:()=>an,aH:()=>le,b$:()=>Br,cI:()=>bo,dS:()=>Ji,eu:()=>Us,g5:()=>O,gK:()=>Lt,gQ:()=>ue,h$:()=>se,hl:()=>Wa,hu:()=>X,jU:()=>pt,lb:()=>Di,m9:()=>Bs,ne:()=>wt,p$:()=>F,pd:()=>gt,r3:()=>_n,ru:()=>zt,tV:()=>P,uI:()=>nt,ug:()=>Xi,vZ:()=>or,w1:()=>Io,w9:()=>Ci,xO:()=>Do,xb:()=>Yi,z$:()=>je,zI:()=>Ki,zd:()=>$e});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},X=function($,B){if(!$)throw O(B)},O=function($){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+$)},te=function($){const B=[];let q=0;for(let pe=0;pe<$.length;pe++){let ie=$.charCodeAt(pe);ie<128?B[q++]=ie:ie<2048?(B[q++]=ie>>6|192,B[q++]=63&ie|128):55296==(64512&ie)&&pe+1<$.length&&56320==(64512&$.charCodeAt(pe+1))?(ie=65536+((1023&ie)<<10)+(1023&$.charCodeAt(++pe)),B[q++]=ie>>18|240,B[q++]=ie>>12&63|128,B[q++]=ie>>6&63|128,B[q++]=63&ie|128):(B[q++]=ie>>12|224,B[q++]=ie>>6&63|128,B[q++]=63&ie|128)}return B},z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,B){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let ie=0;ie<$.length;ie+=3){const ke=$[ie],Je=ie+1<$.length,Ye=Je?$[ie+1]:0,Bn=ie+2<$.length,it=Bn?$[ie+2]:0;let rn=(15&Ye)<<2|it>>6,ni=63&it;Bn||(ni=64,Je||(rn=64)),pe.push(q[ke>>2],q[(3&ke)<<4|Ye>>4],q[rn],q[ni])}return pe.join("")},encodeString($,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa($):this.encodeByteArray(te($),B)},decodeString($,B){return this.HAS_NATIVE_SUPPORT&&!B?atob($):function($){const B=[];let q=0,pe=0;for(;q<$.length;){const ie=$[q++];if(ie<128)B[pe++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const ke=$[q++];B[pe++]=String.fromCharCode((31&ie)<<6|63&ke)}else if(ie>239&&ie<365){const Bn=((7&ie)<<18|(63&$[q++])<<12|(63&$[q++])<<6|63&$[q++])-65536;B[pe++]=String.fromCharCode(55296+(Bn>>10)),B[pe++]=String.fromCharCode(56320+(1023&Bn))}else{const ke=$[q++],Je=$[q++];B[pe++]=String.fromCharCode((15&ie)<<12|(63&ke)<<6|63&Je)}}return B.join("")}(this.decodeStringToByteArray($,B))},decodeStringToByteArray($,B){this.init_();const q=B?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let ie=0;ie<$.length;){const ke=q[$.charAt(ie++)],Ye=ie<$.length?q[$.charAt(ie)]:0;++ie;const it=ie<$.length?q[$.charAt(ie)]:64;++ie;const yt=ie<$.length?q[$.charAt(ie)]:64;if(++ie,null==ke||null==Ye||null==it||null==yt)throw new he;pe.push(ke<<2|Ye>>4),64!==it&&(pe.push(Ye<<4&240|it>>2),64!==yt&&pe.push(it<<6&192|yt))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const se=function($){const B=te($);return z.encodeByteArray(B,!0)},Q=function($){return se($).replace(/\./g,"")},P=function($){try{return z.decodeString($,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function F($){return j(void 0,$)}function j($,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return B}for(const q in B)!B.hasOwnProperty(q)||!ne(q)||($[q]=j($[q],B[q]));return $}function ne($){return"__proto__"!==$}const Se=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=$&&P($[1]);return B&&JSON.parse(B)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},le=()=>{var $;return null===($=Se())||void 0===$?void 0:$.config},Ke=$=>{var B;return null===(B=Se())||void 0===B?void 0:B[`_${$}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,q)=>{this.resolve=B,this.reject=q})}wrapCallback(B){return(q,pe)=>{q?this.reject(q):this.resolve(pe),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(q):B(q,pe))}}}function He($,B){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=B||"demo-project",ie=$.iat||0,ke=$.sub||$.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Je=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:ie,exp:ie+3600,auth_time:ie,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(Je)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function dt(){var $;const B=null===($=Se())||void 0===$?void 0:$.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pt(){return"object"==typeof self&&self.self===self}function zt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Br(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Io(){const $=je();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function ca(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function Wa(){try{return"object"==typeof indexedDB}catch{return!1}}function Us(){return new Promise(($,B)=>{try{let q=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(pe);ie.onsuccess=()=>{ie.result.close(),q||self.indexedDB.deleteDatabase(pe),$(!0)},ie.onupgradeneeded=()=>{q=!1},ie.onerror=()=>{var ke;B((null===(ke=ie.error)||void 0===ke?void 0:ke.message)||"")}}catch(q){B(q)}})}function Ki(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class an extends Error{constructor(B,q,pe){super(q),this.code=B,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,an.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ii.prototype.create)}}class Ii{constructor(B,q,pe){this.service=B,this.serviceName=q,this.errors=pe}create(B,...q){const pe=q[0]||{},ie=`${this.service}/${B}`,ke=this.errors[B],Je=ke?function nn($,B){return $.replace(Ge,(q,pe)=>{const ie=B[pe];return null!=ie?String(ie):`<${pe}?>`})}(ke,pe):"Error";return new an(ie,`${this.serviceName}: ${Je} (${ie}).`,pe)}}const Ge=/\{\$([^}]+)}/g;function bo($){return JSON.parse($)}function za($){return JSON.stringify($)}const sr=function($){let B={},q={},pe={},ie="";try{const ke=$.split(".");B=bo(P(ke[0])||""),q=bo(P(ke[1])||""),ie=ke[2],pe=q.d||{},delete q.d}catch{}return{header:B,claims:q,data:pe,signature:ie}},Ci=function($){const q=sr($).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},bi=function($){const B=sr($).claims;return"object"==typeof B&&!0===B.admin};function _n($,B){return Object.prototype.hasOwnProperty.call($,B)}function js($,B){if(Object.prototype.hasOwnProperty.call($,B))return $[B]}function Yi($){for(const B in $)if(Object.prototype.hasOwnProperty.call($,B))return!1;return!0}function Qi($,B,q){const pe={};for(const ie in $)Object.prototype.hasOwnProperty.call($,ie)&&(pe[ie]=B.call(q,$[ie],ie,$));return pe}function or($,B){if($===B)return!0;const q=Object.keys($),pe=Object.keys(B);for(const ie of q){if(!pe.includes(ie))return!1;const ke=$[ie],Je=B[ie];if(Wt(ke)&&Wt(Je)){if(!or(ke,Je))return!1}else if(ke!==Je)return!1}for(const ie of pe)if(!q.includes(ie))return!1;return!0}function Wt($){return null!==$&&"object"==typeof $}function Do($){const B=[];for(const[q,pe]of Object.entries($))Array.isArray(pe)?pe.forEach(ie=>{B.push(encodeURIComponent(q)+"="+encodeURIComponent(ie))}):B.push(encodeURIComponent(q)+"="+encodeURIComponent(pe));return B.length?"&"+B.join("&"):""}function $e($){const B={};return $.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[ie,ke]=pe.split("=");B[decodeURIComponent(ie)]=decodeURIComponent(ke)}}),B}function gt($){const B=$.indexOf("?");if(!B)return"";const q=$.indexOf("#",B);return $.substring(B,q>0?q:void 0)}class ue{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,q){q||(q=0);const pe=this.W_;if("string"==typeof B)for(let yt=0;yt<16;yt++)pe[yt]=B.charCodeAt(q)<<24|B.charCodeAt(q+1)<<16|B.charCodeAt(q+2)<<8|B.charCodeAt(q+3),q+=4;else for(let yt=0;yt<16;yt++)pe[yt]=B[q]<<24|B[q+1]<<16|B[q+2]<<8|B[q+3],q+=4;for(let yt=16;yt<80;yt++){const rn=pe[yt-3]^pe[yt-8]^pe[yt-14]^pe[yt-16];pe[yt]=4294967295&(rn<<1|rn>>>31)}let it,yn,ie=this.chain_[0],ke=this.chain_[1],Je=this.chain_[2],Ye=this.chain_[3],Bn=this.chain_[4];for(let yt=0;yt<80;yt++){yt<40?yt<20?(it=Ye^ke&(Je^Ye),yn=1518500249):(it=ke^Je^Ye,yn=1859775393):yt<60?(it=ke&Je|Ye&(ke|Je),yn=2400959708):(it=ke^Je^Ye,yn=3395469782);const rn=(ie<<5|ie>>>27)+it+Bn+yn+pe[yt]&4294967295;Bn=Ye,Ye=Je,Je=4294967295&(ke<<30|ke>>>2),ke=ie,ie=rn}this.chain_[0]=this.chain_[0]+ie&4294967295,this.chain_[1]=this.chain_[1]+ke&4294967295,this.chain_[2]=this.chain_[2]+Je&4294967295,this.chain_[3]=this.chain_[3]+Ye&4294967295,this.chain_[4]=this.chain_[4]+Bn&4294967295}update(B,q){if(null==B)return;void 0===q&&(q=B.length);const pe=q-this.blockSize;let ie=0;const ke=this.buf_;let Je=this.inbuf_;for(;ie<q;){if(0===Je)for(;ie<=pe;)this.compress_(B,ie),ie+=this.blockSize;if("string"==typeof B){for(;ie<q;)if(ke[Je]=B.charCodeAt(ie),++Je,++ie,Je===this.blockSize){this.compress_(ke),Je=0;break}}else for(;ie<q;)if(ke[Je]=B[ie],++Je,++ie,Je===this.blockSize){this.compress_(ke),Je=0;break}}this.inbuf_=Je,this.total_+=q}digest(){const B=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&q,q/=256;this.compress_(this.buf_);let pe=0;for(let ie=0;ie<5;ie++)for(let ke=24;ke>=0;ke-=8)B[pe]=this.chain_[ie]>>ke&255,++pe;return B}}function wt($,B){const q=new Zt($,B);return q.subscribe.bind(q)}class Zt{constructor(B,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{B(this)}).catch(pe=>{this.error(pe)})}next(B){this.forEachObserver(q=>{q.next(B)})}error(B){this.forEachObserver(q=>{q.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,q,pe){let ie;if(void 0===B&&void 0===q&&void 0===pe)throw new Error("Missing Observer.");ie=function Mt($,B){if("object"!=typeof $||null===$)return!1;for(const q of B)if(q in $&&"function"==typeof $[q])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:q,complete:pe},void 0===ie.next&&(ie.next=Sn),void 0===ie.error&&(ie.error=Sn),void 0===ie.complete&&(ie.complete=Sn);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),ke}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,B)}sendOne(B,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{q(this.observers[B])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sn(){}const la=function($,B,q,pe){let ie;if(pe<B?ie="at least "+B:pe>q&&(ie=0===q?"none":"no more than "+q),ie)throw new Error($+" failed: Was called with "+pe+(1===pe?" argument.":" arguments.")+" Expects "+ie+".")};function Lt($,B){return`${$} failed: ${B} argument `}function ct($,B,q,pe){if((!pe||q)&&"function"!=typeof q)throw new Error(Lt($,B)+"must be a valid function.")}function Di($,B,q,pe){if((!pe||q)&&("object"!=typeof q||null===q))throw new Error(Lt($,B)+"must be a valid context object.")}const Ji=function($){const B=[];let q=0;for(let pe=0;pe<$.length;pe++){let ie=$.charCodeAt(pe);if(ie>=55296&&ie<=56319){const ke=ie-55296;pe++,X(pe<$.length,"Surrogate pair missing trail surrogate."),ie=65536+(ke<<10)+($.charCodeAt(pe)-56320)}ie<128?B[q++]=ie:ie<2048?(B[q++]=ie>>6|192,B[q++]=63&ie|128):ie<65536?(B[q++]=ie>>12|224,B[q++]=ie>>6&63|128,B[q++]=63&ie|128):(B[q++]=ie>>18|240,B[q++]=ie>>12&63|128,B[q++]=ie>>6&63|128,B[q++]=63&ie|128)}return B},Xi=function($){let B=0;for(let q=0;q<$.length;q++){const pe=$.charCodeAt(q);pe<128?B++:pe<2048?B+=2:pe>=55296&&pe<=56319?(B+=4,q++):B+=3}return B},jt=1e3,Ti=2,Ar=144e5,ar=.5;function cn($,B=jt,q=Ti){const pe=B*Math.pow(q,$),ie=Math.round(ar*pe*(Math.random()-.5)*2);return Math.min(Ar,pe+ie)}function Bs($){return $&&$._delegate?$._delegate:$}},2216:(Ve,_e,N)=>{var d=N(5879);let X=null;function O(){return X}class ee{}const z=new d.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Q)},providedIn:"platform"})}return n})();const se=new d.OlP("Location Initialized");let Q=(()=>{class n extends he{constructor(){super(),this._doc=(0,d.f3M)(z),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,s,c){this._history.pushState(e,s,c)}replaceState(e,s,c){this._history.replaceState(e,s,c)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function P(n,r){if(0==n.length)return r;if(0==r.length)return n;let e=0;return n.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?n+r.substring(1):1==e?n+r:n+"/"+r}function F(n){const r=n.match(/#|\?|$/),e=r&&r.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function j(n){return n&&"?"!==n[0]?"?"+n:n}let ne=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(We)},providedIn:"root"})}return n})();const me=new d.OlP("appBaseHref");let We=(()=>{class n extends ne{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return P(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+j(this._platformLocation.search),c=this._platformLocation.hash;return c&&e?`${s}${c}`:s}pushState(e,s,c,h){const m=this.prepareExternalUrl(c+j(h));this._platformLocation.pushState(e,s,m)}replaceState(e,s,c,h){const m=this.prepareExternalUrl(c+j(h));this._platformLocation.replaceState(e,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(he),d.LFG(me,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ce=(()=>{class n extends ne{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=P(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,c,h){let m=this.prepareExternalUrl(c+j(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(e,s,m)}replaceState(e,s,c,h){let m=this.prepareExternalUrl(c+j(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(he),d.LFG(me,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),be=(()=>{class n{constructor(e){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._basePath=function le(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(F(Ie(s))),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+j(s))}normalize(e){return n.stripTrailingSlash(function Ue(n,r){if(!n||!r.startsWith(n))return r;const e=r.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:r}(this._basePath,Ie(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",c=null){this._locationStrategy.pushState(c,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+j(s)),c)}replaceState(e,s="",c=null){this._locationStrategy.replaceState(c,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+j(s)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(c=>c(e,s))}subscribe(e,s,c){return this._subject.subscribe({next:e,error:s,complete:c})}static#e=this.normalizeQueryParams=j;static#t=this.joinWithSlash=P;static#n=this.stripTrailingSlash=F;static#r=this.\u0275fac=function(s){return new(s||n)(d.LFG(ne))};static#i=this.\u0275prov=d.Yz7({token:n,factory:function(){return function Se(){return new be((0,d.LFG)(ne))}()},providedIn:"root"})}return n})();function Ie(n){return n.replace(/\/index.html$/,"")}function Mr(n,r){r=encodeURIComponent(r);for(const e of n.split(";")){const s=e.indexOf("="),[c,h]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(c.trim()===r)return decodeURIComponent(h)}return null}class Ga{constructor(r,e,s,c){this.$implicit=r,this.ngForOf=e,this.index=s,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rr=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,s,c){this._viewContainer=e,this._template=s,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((c,h,m)=>{if(null==c.previousIndex)s.createEmbeddedView(this._template,new Ga(c.item,this._ngForOf,-1,-1),null===m?void 0:m);else if(null==m)s.remove(null===h?void 0:h);else if(null!==h){const I=s.get(h);s.move(I,m),Si(I,c)}});for(let c=0,h=s.length;c<h;c++){const I=s.get(c).context;I.index=c,I.count=h,I.ngForOf=this._ngForOf}e.forEachIdentityChange(c=>{Si(s.get(c.currentIndex),c)})}static ngTemplateContextGuard(e,s){return!0}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Si(n,r){n.context.$implicit=r.item}let si=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new Xd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){nu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){nu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(d.s_b),d.Y36(d.Rgc))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Xd{constructor(){this.$implicit=null,this.ngIf=null}}function nu(n,r){if(r&&!r.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(r)}'.`)}let un=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function ns(n){return"server"===n}let Er=(()=>{class n{static#e=this.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Ro((0,d.LFG)(z),window)})}return n})();class Ro{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function Ka(n,r){const e=n.getElementById(r)||n.getElementsByName(r)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let c=s.currentNode;for(;c;){const h=c.shadowRoot;if(h){const m=h.getElementById(r)||h.querySelector(`[name="${r}"]`);if(m)return m}c=s.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(r){this.supportsScrolling()&&(this.window.history.scrollRestoration=r)}scrollToElement(r){const e=r.getBoundingClientRect(),s=e.left+this.window.pageXOffset,c=e.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(s-h[0],c-h[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fr{}class Al extends ee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fo extends Al{static makeCurrent(){!function te(n){X||(X=n)}(new Fo)}onAndCancel(r,e,s){return r.addEventListener(e,s),()=>{r.removeEventListener(e,s)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=function Eu(){return Uo=Uo||document.querySelector("base"),Uo?Uo.getAttribute("href"):null}();return null==e?null:function wu(n){oc=oc||document.createElement("a"),oc.setAttribute("href",n);const r=oc.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Mr(document.cookie,r)}}let oc,Uo=null,Cu=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const ac=new d.OlP("EventManagerPlugins");let Ml=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(c=>{c.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,s,c){return this._findPluginFor(s).addEventListener(e,s,c)}getZone(){return this._zone}_findPluginFor(e){let s=this._eventNameToPlugin.get(e);if(s)return s;if(s=this._plugins.find(h=>h.supports(e)),!s)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(e,s),s}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(ac),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class qs{constructor(r){this._doc=r}}const jo="ng-app-id";let Rl=(()=>{class n{constructor(e,s,c,h={}){this.doc=e,this.appId=s,this.nonce=c,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ns(h),this.resetHostNodes()}addStyles(e){for(const s of e)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(e){for(const s of e)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(s=>s.remove()),e.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const s of this.getAllStyles())this.addStyleToHost(e,s)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const s of this.hostNodes)this.addStyleToHost(s,e)}onStyleRemoved(e){const s=this.styleRef;s.get(e)?.elements?.forEach(c=>c.remove()),s.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${jo}="${this.appId}"]`);if(e?.length){const s=new Map;return e.forEach(c=>{null!=c.textContent&&s.set(c.textContent,c)}),s}return null}changeUsageCount(e,s){const c=this.styleRef;if(c.has(e)){const h=c.get(e);return h.usage+=s,h.usage}return c.set(e,{usage:s,elements:[]}),s}getStyleElement(e,s){const c=this.styleNodesInDOM,h=c?.get(s);if(h?.parentNode===e)return c.delete(s),h.removeAttribute(jo),h;{const m=this.doc.createElement("style");return this.nonce&&m.setAttribute("nonce",this.nonce),m.textContent=s,this.platformIsServer&&m.setAttribute(jo,this.appId),m}}addStyleToHost(e,s){const c=this.getStyleElement(e,s);e.appendChild(c);const h=this.styleRef,m=h.get(s)?.elements;m?m.push(c):h.set(s,{elements:[c],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(z),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ks={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cc=/%COMP%/g,gr=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ft(n,r){return r.map(e=>e.replace(cc,n))}let Js=(()=>{class n{constructor(e,s,c,h,m,I,D,R=null){this.eventManager=e,this.sharedStylesHost=s,this.appId=c,this.removeStylesOnCompDestroy=h,this.doc=m,this.platformId=I,this.ngZone=D,this.nonce=R,this.rendererByCompId=new Map,this.platformIsServer=ns(I),this.defaultRenderer=new Xs(e,m,D,this.platformIsServer)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===d.ifc.ShadowDom&&(s={...s,encapsulation:d.ifc.Emulated});const c=this.getOrCreateRenderer(e,s);return c instanceof xl?c.applyToHost(e):c instanceof In&&c.applyStyles(),c}getOrCreateRenderer(e,s){const c=this.rendererByCompId;let h=c.get(s.id);if(!h){const m=this.doc,I=this.ngZone,D=this.eventManager,R=this.sharedStylesHost,H=this.removeStylesOnCompDestroy,V=this.platformIsServer;switch(s.encapsulation){case d.ifc.Emulated:h=new xl(D,R,s,this.appId,H,m,I,V);break;case d.ifc.ShadowDom:return new cs(D,R,e,s,m,I,this.nonce,V);default:h=new In(D,R,s,H,m,I,V)}c.set(s.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(Ml),d.LFG(Rl),d.LFG(d.AFp),d.LFG(gr),d.LFG(z),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class Xs{constructor(r,e,s,c){this.eventManager=r,this.doc=e,this.ngZone=s,this.platformIsServer=c,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,e){return e?this.doc.createElementNS(Ks[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(bu(r)?r.content:r).appendChild(e)}insertBefore(r,e,s){r&&(bu(r)?r.content:r).insertBefore(e,s)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let s="string"==typeof r?this.doc.querySelector(r):r;if(!s)throw new d.vHH(-5104,!1);return e||(s.textContent=""),s}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,s,c){if(c){e=c+":"+e;const h=Ks[c];h?r.setAttributeNS(h,e,s):r.setAttribute(e,s)}else r.setAttribute(e,s)}removeAttribute(r,e,s){if(s){const c=Ks[s];c?r.removeAttributeNS(c,e):r.removeAttribute(`${s}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,s,c){c&(d.JOm.DashCase|d.JOm.Important)?r.style.setProperty(e,s,c&d.JOm.Important?"important":""):r.style[e]=s}removeStyle(r,e,s){s&d.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,s){r[e]=s}setValue(r,e){r.nodeValue=e}listen(r,e,s){if("string"==typeof r&&!(r=O().getGlobalEventTarget(this.doc,r)))throw new Error(`Unsupported event target ${r} for event ${e}`);return this.eventManager.addEventListener(r,e,this.decoratePreventDefault(s))}decoratePreventDefault(r){return e=>{if("__ngUnwrap__"===e)return r;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>r(e)):r(e))&&e.preventDefault()}}}function bu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class cs extends Xs{constructor(r,e,s,c,h,m,I,D){super(r,h,m,D),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const R=Ft(c.id,c.styles);for(const H of R){const V=document.createElement("style");I&&V.setAttribute("nonce",I),V.textContent=H,this.shadowRoot.appendChild(V)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,s){return super.insertBefore(this.nodeOrShadowRoot(r),e,s)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class In extends Xs{constructor(r,e,s,c,h,m,I,D){super(r,h,m,I),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=c,this.styles=D?Ft(D,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xl extends In{constructor(r,e,s,c,h,m,I,D){const R=c+"-"+s.id;super(r,e,s,h,m,I,D,R),this.contentAttr=function Nl(n){return"_ngcontent-%COMP%".replace(cc,n)}(R),this.hostAttr=function uc(n){return"_nghost-%COMP%".replace(cc,n)}(R)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){const s=super.createElement(r,e);return super.setAttribute(s,this.contentAttr,""),s}}let us=(()=>{class n extends qs{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,c){return e.addEventListener(s,c,!1),()=>this.removeEventListener(e,s,c)}removeEventListener(e,s,c){return e.removeEventListener(s,c)}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(z))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Du=["alt","control","meta","shift"],eo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ch={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tu=(()=>{class n extends qs{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,c){const h=n.parseEventName(s),m=n.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,h.domEventName,m))}static parseEventName(e){const s=e.toLowerCase().split("."),c=s.shift();if(0===s.length||"keydown"!==c&&"keyup"!==c)return null;const h=n._normalizeKey(s.pop());let m="",I=s.indexOf("code");if(I>-1&&(s.splice(I,1),m="code."),Du.forEach(R=>{const H=s.indexOf(R);H>-1&&(s.splice(H,1),m+=R+".")}),m+=h,0!=s.length||0===h.length)return null;const D={};return D.domEventName=c,D.fullKey=m,D}static matchEventFullKeyCode(e,s){let c=eo[e.key]||e.key,h="";return s.indexOf("code.")>-1&&(c=e.code,h="code."),!(null==c||!c)&&(c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Du.forEach(m=>{m!==c&&(0,ch[m])(e)&&(h+=m+".")}),h+=c,h===s)}static eventCallback(e,s,c){return h=>{n.matchEventFullKeyCode(h,e)&&c.runGuarded(()=>s(h))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(z))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Nn=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Xe(){Fo.makeCurrent()},multi:!0},{provide:z,useFactory:function jm(){return(0,d.RDi)(document),document},deps:[]}]),gp=new d.OlP(""),$n=[{provide:d.rWj,useClass:class Iu{addToWindow(r){d.dqk.getAngularTestability=(s,c=!0)=>{const h=r.findTestabilityInTree(s,c);if(null==h)throw new d.vHH(5103,!1);return h},d.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(s=>{const c=d.dqk.getAllAngularTestabilities();let h=c.length,m=!1;const I=function(D){m=m||D,h--,0==h&&s(m)};c.forEach(D=>{D.whenStable(I)})})}findTestabilityInTree(r,e,s){return null==e?null:r.getTestability(e)??(s?O().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],ki=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Ol(){return new d.qLn},deps:[]},{provide:ac,useClass:us,multi:!0,deps:[z,d.R0b,d.Lbi]},{provide:ac,useClass:Tu,multi:!0,deps:[z]},Js,Rl,Ml,{provide:d.FYo,useExisting:Js},{provide:fr,useClass:Cu,deps:[]},[]];let ls=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:d.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(gp,12))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[...ki,...$n],imports:[un,d.hGG]})}return n})(),ye=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(z))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(s){let c=null;return c=s?new s:function lh(){return new ye((0,d.LFG)(z))}(),c},providedIn:"root"})}return n})();typeof window<"u"&&window;let mr=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(s){let c=null;return c=s?new(s||n):d.LFG(on),c},providedIn:"root"})}return n})(),on=(()=>{class n extends mr{constructor(e){super(),this._doc=e}sanitize(e,s){if(null==s)return null;switch(e){case d.q3G.NONE:return s;case d.q3G.HTML:return(0,d.qzn)(s,"HTML")?(0,d.z3N)(s):(0,d.EiD)(this._doc,String(s)).toString();case d.q3G.STYLE:return(0,d.qzn)(s,"Style")?(0,d.z3N)(s):s;case d.q3G.SCRIPT:if((0,d.qzn)(s,"Script"))return(0,d.z3N)(s);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(s,"URL")?(0,d.z3N)(s):(0,d.mCW)(String(s));case d.q3G.RESOURCE_URL:if((0,d.qzn)(s,"ResourceURL"))return(0,d.z3N)(s);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,d.JVY)(e)}bypassSecurityTrustStyle(e){return(0,d.L6k)(e)}bypassSecurityTrustScript(e){return(0,d.eBb)(e)}bypassSecurityTrustUrl(e){return(0,d.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,d.pB0)(e)}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(z))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(s){let c=null;return c=s?new s:function hh(n){return new on(n.get(z))}(d.LFG(d.zs3)),c},providedIn:"root"})}return n})();var bn=N(254);const Fi=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var Ir=N(1226);function er(n){return r=>0===n?(0,Ir.c)():r.lift(new no(n))}class no{constructor(r){if(this.total=r,this.total<0)throw new Fi}call(r,e){return e.subscribe(new Pu(r,this.total))}}class Pu extends bn.L{constructor(r,e){super(r),this.total=e,this.count=0}_next(r){const e=this.total,s=++this.count;s<=e&&(this.destination.next(r),s===e&&(this.destination.complete(),this.unsubscribe()))}}var Ze=N(9193),xt=N(5253),On=N(4699),Et=N(6743);function ds(n,r){return(0,Et.zg)(n,r,1)}function ui(n,r){return function(s){return s.lift(new Ui(n,r))}}class Ui{constructor(r,e){this.predicate=r,this.thisArg=e}call(r,e){return e.subscribe(new ro(r,this.predicate,this.thisArg))}}class ro extends bn.L{constructor(r,e,s){super(r),this.predicate=e,this.thisArg=s,this.count=0}_next(r){let e;try{e=this.predicate.call(this.thisArg,r,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(r)}}var _t=N(6124),io=N(7902);function ji(n){return r=>r.lift(new Bi(n))}class Bi{constructor(r){this.callback=r}call(r,e){return e.subscribe(new li(r,this.callback))}}class li extends bn.L{constructor(r,e){super(r),this.add(new io.w(e))}}var Bt=N(5222);class Ho{}class so{}class xr{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?"string"==typeof r?this.lazyInit=()=>{this.headers=new Map,r.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const c=e.slice(0,s),h=c.toLowerCase(),m=e.slice(s+1).trim();this.maybeSetNormalizedName(c,h),this.headers.has(h)?this.headers.get(h).push(m):this.headers.set(h,[m])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((e,s)=>{this.setHeaderEntries(s,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([e,s])=>{this.setHeaderEntries(e,s)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof xr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){const e=new xr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof xr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){const e=r.name.toLowerCase();switch(r.op){case"a":case"s":let s=r.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(r.name,e);const c=("a"===r.op?this.headers.get(e):void 0)||[];c.push(...s),this.headers.set(e,c);break;case"d":const h=r.value;if(h){let m=this.headers.get(e);if(!m)return;m=m.filter(I=>-1===h.indexOf(I)),0===m.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,m)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(r,e){const s=(Array.isArray(e)?e:[e]).map(h=>h.toString()),c=r.toLowerCase();this.headers.set(c,s),this.maybeSetNormalizedName(r,c)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}}class Vl{encodeKey(r){return gh(r)}encodeValue(r){return gh(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const hs=/%(\d[a-f0-9])/gi,gc={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gh(n){return encodeURIComponent(n).replace(hs,(r,e)=>gc[e]??r)}function Vo(n){return`${n}`}class Hi{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new Vl,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ph(n,r){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(c=>{const h=c.indexOf("="),[m,I]=-1==h?[r.decodeKey(c),""]:[r.decodeKey(c.slice(0,h)),r.decodeValue(c.slice(h+1))],D=e.get(m)||[];D.push(I),e.set(m,D)}),e}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{const s=r.fromObject[e],c=Array.isArray(s)?s.map(Vo):[Vo(s)];this.map.set(e,c)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){const e=[];return Object.keys(r).forEach(s=>{const c=r[s];Array.isArray(c)?c.forEach(h=>{e.push({param:s,value:h,op:"a"})}):e.push({param:s,value:c,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const e=this.encoder.encodeKey(r);return this.map.get(r).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const e=new Hi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const e=("a"===r.op?this.map.get(r.param):void 0)||[];e.push(Vo(r.value)),this.map.set(r.param,e);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let s=this.map.get(r.param)||[];const c=s.indexOf(Vo(r.value));-1!==c&&s.splice(c,1),s.length>0?this.map.set(r.param,s):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class _p{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function mh(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Wl(n){return typeof Blob<"u"&&n instanceof Blob}function wa(n){return typeof FormData<"u"&&n instanceof FormData}class Ia{constructor(r,e,s,c){let h;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function $l(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==s?s:null,h=c):h=s,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new xr),this.context||(this.context=new _p),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=e;else{const I=e.indexOf("?");this.urlWithParams=e+(-1===I?"?":I<e.length-1?"&":"")+m}}else this.params=new Hi,this.urlWithParams=e}serializeBody(){return null===this.body?null:mh(this.body)||Wl(this.body)||wa(this.body)||function fs(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wa(this.body)?null:Wl(this.body)?this.body.type||null:mh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){const e=r.method||this.method,s=r.url||this.url,c=r.responseType||this.responseType,h=void 0!==r.body?r.body:this.body,m=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,I=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let D=r.headers||this.headers,R=r.params||this.params;const H=r.context??this.context;return void 0!==r.setHeaders&&(D=Object.keys(r.setHeaders).reduce((V,K)=>V.set(K,r.setHeaders[K]),D)),r.setParams&&(R=Object.keys(r.setParams).reduce((V,K)=>V.set(K,r.setParams[K]),R)),new Ia(e,s,h,{params:R,headers:D,context:H,reportProgress:I,responseType:c,withCredentials:m})}}var Or=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Or||{});class ps{constructor(r,e=200,s="OK"){this.headers=r.headers||new xr,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||s,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class gs extends ps{constructor(r={}){super(r),this.type=Or.ResponseHeader}clone(r={}){return new gs({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Ca extends ps{constructor(r={}){super(r),this.type=Or.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new Ca({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class ba extends ps{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function ms(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let zr=(()=>{class n{constructor(e){this.handler=e}request(e,s,c={}){let h;if(e instanceof Ia)h=e;else{let D,R;D=c.headers instanceof xr?c.headers:new xr(c.headers),c.params&&(R=c.params instanceof Hi?c.params:new Hi({fromObject:c.params})),h=new Ia(e,s,void 0!==c.body?c.body:null,{headers:D,context:c.context,params:R,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const m=(0,Ze.of)(h).pipe(ds(D=>this.handler.handle(D)));if(e instanceof Ia||"events"===c.observe)return m;const I=m.pipe(ui(D=>D instanceof Ca));switch(c.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return I.pipe((0,_t.U)(D=>{if(null!==D.body&&!(D.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return D.body}));case"blob":return I.pipe((0,_t.U)(D=>{if(null!==D.body&&!(D.body instanceof Blob))throw new Error("Response is not a Blob.");return D.body}));case"text":return I.pipe((0,_t.U)(D=>{if(null!==D.body&&"string"!=typeof D.body)throw new Error("Response is not a string.");return D.body}));default:return I.pipe((0,_t.U)(D=>D.body))}case"response":return I;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new Hi).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,c={}){return this.request("PATCH",e,ms(c,s))}post(e,s,c={}){return this.request("POST",e,ms(c,s))}put(e,s,c={}){return this.request("PUT",e,ms(c,s))}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(Ho))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function yh(n,r){return r(n)}function xu(n,r){return(e,s)=>r.intercept(e,{handle:c=>n(c,s)})}const mc=new d.OlP(""),Gr=new d.OlP(""),Sa=new d.OlP("");function Wo(){let n=null;return(r,e)=>{null===n&&(n=((0,d.f3M)(mc,{optional:!0})??[]).reduceRight(xu,yh));const s=(0,d.f3M)(d.HDt),c=s.add();return n(r,e).pipe(ji(()=>s.remove(c)))}}let ys=(()=>{class n extends Ho{constructor(e,s){super(),this.backend=e,this.injector=s,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(e){if(null===this.chain){const c=Array.from(new Set([...this.injector.get(Gr),...this.injector.get(Sa,[])]));this.chain=c.reduceRight((h,m)=>function zl(n,r,e){return(s,c)=>e.runInContext(()=>r(s,h=>n(h,c)))}(h,m,this.injector),yh)}const s=this.pendingTasks.add();return this.chain(e,c=>this.backend.handle(c)).pipe(ji(()=>this.pendingTasks.remove(s)))}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(so),d.LFG(d.lqb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const A=/^\)\]\}',?\n/;let W=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new d.vHH(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?(0,xt.D)(s.\u0275loadImpl()):(0,Ze.of)(null)).pipe((0,Bt.w)(()=>new On.y(h=>{const m=s.build();if(m.open(e.method,e.urlWithParams),e.withCredentials&&(m.withCredentials=!0),e.headers.forEach((xe,ze)=>m.setRequestHeader(xe,ze.join(","))),e.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const xe=e.detectContentTypeHeader();null!==xe&&m.setRequestHeader("Content-Type",xe)}if(e.responseType){const xe=e.responseType.toLowerCase();m.responseType="json"!==xe?xe:"text"}const I=e.serializeBody();let D=null;const R=()=>{if(null!==D)return D;const xe=m.statusText||"OK",ze=new xr(m.getAllResponseHeaders()),Pt=function x(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(m)||e.url;return D=new gs({headers:ze,status:m.status,statusText:xe,url:Pt}),D},H=()=>{let{headers:xe,status:ze,statusText:Pt,url:Vt}=R(),Nt=null;204!==ze&&(Nt=typeof m.response>"u"?m.responseText:m.response),0===ze&&(ze=Nt?200:0);let kt=ze>=200&&ze<300;if("json"===e.responseType&&"string"==typeof Nt){const Zn=Nt;Nt=Nt.replace(A,"");try{Nt=""!==Nt?JSON.parse(Nt):null}catch(wo){Nt=Zn,kt&&(kt=!1,Nt={error:wo,text:Nt})}}kt?(h.next(new Ca({body:Nt,headers:xe,status:ze,statusText:Pt,url:Vt||void 0})),h.complete()):h.error(new ba({error:Nt,headers:xe,status:ze,statusText:Pt,url:Vt||void 0}))},V=xe=>{const{url:ze}=R(),Pt=new ba({error:xe,status:m.status||0,statusText:m.statusText||"Unknown Error",url:ze||void 0});h.error(Pt)};let K=!1;const ve=xe=>{K||(h.next(R()),K=!0);let ze={type:Or.DownloadProgress,loaded:xe.loaded};xe.lengthComputable&&(ze.total=xe.total),"text"===e.responseType&&m.responseText&&(ze.partialText=m.responseText),h.next(ze)},Ae=xe=>{let ze={type:Or.UploadProgress,loaded:xe.loaded};xe.lengthComputable&&(ze.total=xe.total),h.next(ze)};return m.addEventListener("load",H),m.addEventListener("error",V),m.addEventListener("timeout",V),m.addEventListener("abort",V),e.reportProgress&&(m.addEventListener("progress",ve),null!==I&&m.upload&&m.upload.addEventListener("progress",Ae)),m.send(I),h.next({type:Or.Sent}),()=>{m.removeEventListener("error",V),m.removeEventListener("abort",V),m.removeEventListener("load",H),m.removeEventListener("timeout",V),e.reportProgress&&(m.removeEventListener("progress",ve),null!==I&&m.upload&&m.upload.removeEventListener("progress",Ae)),m.readyState!==m.DONE&&m.abort()}})))}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(fr))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Y=new d.OlP("XSRF_ENABLED"),Re=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Be=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class et{}let tt=(()=>{class n{constructor(e,s,c){this.doc=e,this.platform=s,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mr(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(z),d.LFG(d.Lbi),d.LFG(Re))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function _r(n,r){const e=n.url.toLowerCase();if(!(0,d.f3M)(Y)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return r(n);const s=(0,d.f3M)(et).getToken(),c=(0,d.f3M)(Be);return null!=s&&!n.headers.has(c)&&(n=n.clone({headers:n.headers.set(c,s)})),r(n)}var Zr=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Zr||{});function vc(...n){const r=[zr,W,ys,{provide:Ho,useExisting:ys},{provide:so,useExisting:W},{provide:Gr,useValue:_r,multi:!0},{provide:Y,useValue:!0},{provide:et,useClass:tt}];for(const e of n)r.push(...e.\u0275providers);return(0,d.MR2)(r)}const fi=new d.OlP("LEGACY_INTERCEPTOR_FN");function Ou(){return function hi(n,r){return{\u0275kind:n,\u0275providers:r}}(Zr.LegacyInterceptors,[{provide:fi,useFactory:Wo},{provide:Gr,useExisting:fi,multi:!0}])}let Gl=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[vc(Ou())]})}return n})(),wc=(()=>{class n{constructor(e){this.http=e,this.baseUrl="http://localhost:3000/"}getUrl(e=""){return this.baseUrl+e}get(e=""){return this.http.get(this.getUrl(e))}post(e="",s={}){return this.http.post(this.getUrl(e),s)}put(e="",s={}){return this.http.put(this.getUrl(e),s)}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(zr))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();var yr=N(2420),Ch=N(435),bh=N(7354),Hm=N(5705);function Lu(n,r){let e=!1;return arguments.length>=2&&(e=!0),function(c){return c.lift(new Vm(n,r,e))}}class Vm{constructor(r,e,s=!1){this.accumulator=r,this.seed=e,this.hasSeed=s}call(r,e){return e.subscribe(new $m(r,this.accumulator,this.seed,this.hasSeed))}}class $m extends bn.L{constructor(r,e,s,c){super(r),this.accumulator=e,this._seed=s,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const e=this.index++;let s;try{s=this.accumulator(this.seed,r,e)}catch(c){this.destination.error(c)}this.seed=s,this.destination.next(s)}}var Ep=N(2068);class ql extends bn.L{notifyNext(r,e,s,c,h){this.destination.next(e)}notifyError(r,e){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class Kl extends bn.L{constructor(r,e,s){super(),this.parent=r,this.outerValue=e,this.outerIndex=s,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var wp=N(4372);function Fu(n,r,e,s,c=new Kl(n,e,s)){if(!c.closed)return r instanceof On.y?r.subscribe(c):(0,wp.s)(r)(c)}class Yl{constructor(r,e){this.observables=r,this.project=e}call(r,e){return e.subscribe(new zm(r,this.observables,this.project))}}class zm extends ql{constructor(r,e,s){super(r),this.observables=e,this.project=s,this.toRespond=[];const c=e.length;this.values=new Array(c);for(let h=0;h<c;h++)this.toRespond.push(h);for(let h=0;h<c;h++)this.add(Fu(this,e[h],void 0,h))}notifyNext(r,e,s){this.values[s]=e;const c=this.toRespond;if(c.length>0){const h=c.indexOf(s);-1!==h&&c.splice(h,1)}}notifyComplete(){}_next(r){if(0===this.toRespond.length){const e=[r,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(r){let e;try{e=this.project.apply(this,r)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class Uu{constructor(r){this.predicate=r}call(r,e){return e.subscribe(new Ic(r,this.predicate))}}class Ic extends bn.L{constructor(r,e){super(r),this.predicate=e,this.skipping=!0,this.index=0}_next(r){const e=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||e.next(r)}tryCallPredicate(r){try{const e=this.predicate(r,this.index++);this.skipping=!!e}catch(e){this.destination.error(e)}}}var Kr=N(5396),Yr=N(6304),Ma=(N(8758),N(3106)),$i=N(4537),vs=N(5861),Cc=N(534),L=N(9058),bc=N(7879);const Cp="@firebase/database";let Ql="";function Dh(n){Ql=n}class Jl{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,e){null==e?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,L.Wl)(e))}get(r){const e=this.domStorage_.getItem(this.prefixedName_(r));return null==e?null:(0,L.cI)(e)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class bp{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,e){null==e?delete this.cache_[r]:this.cache_[r]=e}get(r){return(0,L.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const Dp=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const r=window[n];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Jl(r)}}catch{}return new bp},Go=Dp("localStorage"),Tp=Dp("sessionStorage"),Zo=new bc.Yd("@firebase/database"),Gm=function(){let n=1;return function(){return n++}}(),Zm=function(n){const r=(0,L.dS)(n),e=new L.gQ;e.update(r);const s=e.digest();return L.US.encodeByteArray(s)},Wi=function(...n){let r="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?r+=Wi.apply(null,s):r+="object"==typeof s?(0,L.Wl)(s):s,r+=" "}return r};let ao=null,qm=!0;const Th=function(n,r){(0,L.hu)(!r||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Zo.logLevel=bc.in.VERBOSE,ao=Zo.log.bind(Zo),r&&Tp.set("logging_enabled",!0)):"function"==typeof n?ao=n:(ao=null,Tp.remove("logging_enabled"))},An=function(...n){if(!0===qm&&(qm=!1,null===ao&&!0===Tp.get("logging_enabled")&&Th(!0)),ao){const r=Wi.apply(null,n);ao(r)}},Dc=function(n){return function(...r){An(n,...r)}},Sp=function(...n){const r="FIREBASE INTERNAL ERROR: "+Wi(...n);Zo.error(r)},co=function(...n){const r=`FIREBASE FATAL ERROR: ${Wi(...n)}`;throw Zo.error(r),new Error(r)},tr=function(...n){const r="FIREBASE WARNING: "+Wi(...n);Zo.warn(r)},Xl=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zi="[MIN_NAME]",Es="[MAX_NAME]",qo=function(n,r){if(n===r)return 0;if(n===zi||r===Es)return-1;if(r===zi||n===Es)return 1;{const e=Mp(n),s=Mp(r);return null!==e?null!==s?e-s==0?n.length-r.length:e-s:-1:null!==s?1:n<r?-1:1}},Ap=function(n,r){return n===r?0:n<r?-1:1},ws=function(n,r){if(r&&n in r)return r[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Wl)(r))},Bu=function(n){if("object"!=typeof n||null===n)return(0,L.Wl)(n);const r=[];for(const s in n)r.push(s);r.sort();let e="{";for(let s=0;s<r.length;s++)0!==s&&(e+=","),e+=(0,L.Wl)(r[s]),e+=":",e+=Bu(n[r[s]]);return e+="}",e},Hu=function(n,r){const e=n.length;if(e<=r)return[n];const s=[];for(let c=0;c<e;c+=r)s.push(n.substring(c,c+r>e?e:c+r));return s};function Dn(n,r){for(const e in n)n.hasOwnProperty(e)&&r(e,n[e])}const Vu=function(n){(0,L.hu)(!Xl(n),"Invalid JSON number");const s=1023;let c,h,m,I,D;0===n?(h=0,m=0,c=1/n==-1/0?1:0):(c=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(I=Math.min(Math.floor(Math.log(n)/Math.LN2),s),h=I+s,m=Math.round(n*Math.pow(2,52-I)-Math.pow(2,52))):(h=0,m=Math.round(n/Math.pow(2,-1074))));const R=[];for(D=52;D;D-=1)R.push(m%2?1:0),m=Math.floor(m/2);for(D=11;D;D-=1)R.push(h%2?1:0),h=Math.floor(h/2);R.push(c?1:0),R.reverse();const H=R.join("");let V="";for(D=0;D<64;D+=8){let K=parseInt(H.substr(D,8),2).toString(16);1===K.length&&(K="0"+K),V+=K}return V.toLowerCase()},Ym=new RegExp("^-?(0*)\\d{1,10}$"),Mp=function(n){if(Ym.test(n)){const r=Number(n);if(r>=-2147483648&&r<=2147483647)return r}return null},Ac=function(n){try{n()}catch(r){setTimeout(()=>{throw tr("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},Mc=function(n,r){const e=setTimeout(n,r);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Qm{constructor(r,e){this.appName_=r,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(e,s):e(null)},0)})}addTokenChangeListener(r){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(r))}notifyForInvalidToken(){tr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Jm{constructor(r,e,s){this.appName_=r,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(c=>this.auth_=c)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(e=>e&&"auth/token-not-initialized"===e.code?(An("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(e,s):e(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(e=>e.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(e=>e.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tr(r)}}let Gn=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Rh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ed="websocket",td="long_polling";class xh{constructor(r,e,s,c,h=!1,m="",I=!1,D=!1){this.secure=e,this.namespace=s,this.webSocketOnly=c,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=I,this.isUsingEmulator=D,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Go.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Go.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Pp(n,r,e){let s;if((0,L.hu)("string"==typeof r,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),r===ed)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(r!==td)throw new Error("Unknown connection type: "+r);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function nd(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const c=[];return Dn(e,(h,m)=>{c.push(h+"="+m)}),s+c.join("&")}class Qr{constructor(){this.counters_={}}incrementCounter(r,e=1){(0,L.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=e}get(){return(0,L.p$)(this.counters_)}}const uo={},Nc={};function Oh(n){const r=n.toString();return uo[r]||(uo[r]=new Qr),uo[r]}class kh{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,e){this.closeAfterResponse=r,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,e){for(this.pendingResponses[r]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<s.length;++c)s[c]&&Ac(()=>{this.onMessage_(s[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bs{constructor(r,e,s,c,h,m,I){this.connId=r,this.repoInfo=e,this.applicationId=s,this.appCheckToken=c,this.authToken=h,this.transportSessionId=m,this.lastSessionId=I,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dc(r),this.stats_=Oh(e),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),Pp(e,td,D))}open(r,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new kh(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let r=!1;const e=function(){document.body?r||(r=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pa((...h)=>{const[m,I,D,R,H]=h;if(this.incrementIncomingBytes_(h),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===m)this.id=I,this.password=D;else{if("close"!==m)throw new Error("Unrecognized command received: "+m);I?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(I,()=>{this.onClosed_()})):this.onClosed_()}},(...h)=>{const[m,I]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,I)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Rh.test(location.hostname)&&(s.r="f");const c=this.urlFn(s);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bs.forceAllow_=!0}static forceDisallow(){bs.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!bs.forceAllow_&&(bs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const e=(0,L.Wl)(r);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,L.h$)(e),c=Hu(s,1840);for(let h=0;h<c.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[h]),this.curSegmentNum++}addDisconnectPingFrame(r,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=r,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const e=(0,L.Wl)(r).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Pa{constructor(r,e,s,c){if(this.onDisconnect=s,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=r,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Gm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Pa.createIFrame_();let h="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(I){An("frame writing exception"),I.stack&&An(I.stack),An(I)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||An("No IE domain setting required")}catch{const s=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,e){for(this.myID=r,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let e=this.urlFn(r),s="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const m=this.pendingSegs.shift();s=s+"&seg"+c+"="+m.seg+"&ts"+c+"="+m.ts+"&d"+c+"="+m.d,c++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(r,e,s){this.pendingSegs.push({seg:r,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(r,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},c=setTimeout(s,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(c),s()})}addTag(r,e){(0,L.Yr)()?this.doNodeLongPoll(r,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=r,s.onload=s.onreadystatechange=function(){const c=s.readyState;(!c||"loaded"===c||"complete"===c)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{An("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let xc=null;typeof MozWebSocket<"u"?xc=MozWebSocket:typeof WebSocket<"u"&&(xc=WebSocket);let Na=(()=>{class n{constructor(e,s,c,h,m,I,D){this.connId=e,this.applicationId=c,this.appCheckToken=h,this.authToken=m,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dc(this.connId),this.stats_=Oh(s),this.connURL=n.connectionURL_(s,I,D,h,c),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,c,h,m){const I={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&Rh.test(location.hostname)&&(I.r="f"),s&&(I.s=s),c&&(I.ls=c),h&&(I.ac=h),m&&(I.p=m),Pp(e,ed,I)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Go.set("previous_websocket_failure",!0);try{let c;if((0,L.Yr)()){c={headers:{"User-Agent":`Firebase/5/${Ql}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const m=process.env,I=0===this.connURL.indexOf("wss://")?m.HTTPS_PROXY||m.https_proxy:m.HTTP_PROXY||m.http_proxy;I&&(c.proxy={origin:I})}this.mySock=new xc(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const h=c.message||c.data;return h&&this.log_(h),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const h=c.message||c.data;h&&this.log_(h),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const c=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);c&&c.length>1&&parseFloat(c[1])<4.4&&(e=!0)}return!e&&null!==xc&&!n.forceDisallow_}static previouslyFailed(){return Go.isInMemoryStorage||!0===Go.get("previous_websocket_failure")}markConnectionHealthy(){Go.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const c=(0,L.cI)(s);this.onMessage(c)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const c=this.extractFrameCount_(s);null!==c&&this.appendFrame_(c)}}send(e){this.resetKeepAlive();const s=(0,L.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const c=Hu(s,16384);c.length>1&&this.sendString_(String(c.length));for(let h=0;h<c.length;h++)this.sendString_(c[h])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),g=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[bs,Na]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Na&&Na.isAvailable();let c=s&&!Na.previouslyFailed();if(e.webSocketOnly&&(s||tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[Na];else{const h=this.transports_=[];for(const m of n.ALL_TRANSPORTS)m&&m.isAvailable()&&h.push(m);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Fr{constructor(r,e,s,c,h,m,I,D,R,H){this.id=r,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=c,this.authToken_=h,this.onMessage_=m,this.onReady_=I,this.onDisconnect_=D,this.onKill_=R,this.lastSessionId=H,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dc("c:"+this.id+":"),this.transportManager_=new g(e),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const c=r.healthyTimeout||0;c>0&&(this.healthyTimeout_=Mc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return e=>{r===this.conn_?this.onConnectionLost_(e):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return e=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(e):r===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const e=r.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const e=ws("t",r),s=ws("d",r);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const e=ws("t",r),s=ws("d",r);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const e=ws("t",r);if("d"in r){const s=r.d;if("h"===e){const c=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?Sp("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sp("Unknown control packet command: "+e)}}onHandshake_(r){const e=r.ts,s=r.v,c=r.h;this.sessionId=r.s,this.repoInfo_.host=c,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),Mc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,e){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Go.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class br{put(r,e,s,c){}merge(r,e,s,c){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,e,s){}onDisconnectMerge(r,e,s){}onDisconnectCancel(r,e){}reportStats(r){}}class Ds{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,L.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...e){if(Array.isArray(this.listeners_[r])){const s=[...this.listeners_[r]];for(let c=0;c<s.length;c++)s[c].callback.apply(s[c].context,e)}}on(r,e,s){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:e,context:s});const c=this.getInitialEvent(r);c&&e.apply(s,c)}off(r,e,s){this.validateEventType_(r);const c=this.listeners_[r]||[];for(let h=0;h<c.length;h++)if(c[h].callback===e&&(!s||s===c[h].context))return void c.splice(h,1)}validateEventType_(r){(0,L.hu)(this.allowedEvents_.find(e=>e===r),"Unknown event: "+r)}}class xa extends Ds{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xa}getInitialEvent(r){return(0,L.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Ot{constructor(r,e){if(void 0===e){this.pieces_=r.split("/");let s=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[s]=this.pieces_[c],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=e}toString(){let r="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(r+="/"+this.pieces_[e]);return r||"/"}}function Rt(){return new Ot("")}function vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Qo(n){return n.pieces_.length-n.pieceNum_}function Ut(n){let r=n.pieceNum_;return r<n.pieces_.length&&r++,new Ot(n.pieces_,r)}function rd(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ku(n,r=0){return n.pieces_.slice(n.pieceNum_+r)}function Yu(n){if(n.pieceNum_>=n.pieces_.length)return null;const r=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)r.push(n.pieces_[e]);return new Ot(r,0)}function mn(n,r){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(r instanceof Ot)for(let s=r.pieceNum_;s<r.pieces_.length;s++)e.push(r.pieces_[s]);else{const s=r.split("/");for(let c=0;c<s.length;c++)s[c].length>0&&e.push(s[c])}return new Ot(e,0)}function bt(n){return n.pieceNum_>=n.pieces_.length}function pi(n,r){const e=vt(n),s=vt(r);if(null===e)return r;if(e===s)return pi(Ut(n),Ut(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+n+")")}function hC(n,r){const e=Ku(n,0),s=Ku(r,0);for(let c=0;c<e.length&&c<s.length;c++){const h=qo(e[c],s[c]);if(0!==h)return h}return e.length===s.length?0:e.length<s.length?-1:1}function $h(n,r){if(Qo(n)!==Qo(r))return!1;for(let e=n.pieceNum_,s=r.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==r.pieces_[s])return!1;return!0}function Ts(n,r){let e=n.pieceNum_,s=r.pieceNum_;if(Qo(n)>Qo(r))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==r.pieces_[s])return!1;++e,++s}return!0}class id{constructor(r,e){this.errorPrefix_=e,this.parts_=Ku(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,L.ug)(this.parts_[s]);n_(this)}}function n_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Oc(n))}function Oc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Fp extends Ds{constructor(){let r,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[r];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Fp}getInitialEvent(r){return(0,L.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const ho=1e3;let jp,Ss=(()=>{class n extends br{constructor(e,s,c,h,m,I,D,R){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=c,this.onConnectStatus_=h,this.onServerInfoUpdate_=m,this.authTokenProvider_=I,this.appCheckTokenProvider_=D,this.authOverride_=R,this.id=n.nextPersistentConnectionId_++,this.log_=Dc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ho,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,R&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Fp.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&xa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,c){const h=++this.requestNumber_,m={r:h,a:e,b:s};this.log_((0,L.Wl)(m)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(m),c&&(this.requestCBHash_[h]=c)}get(e){this.initConnection_();const s=new L.BH,h={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:I=>{const D=I.d;"ok"===I.s?s.resolve(D):s.reject(D)}};return this.outstandingGets_.push(h),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,c,h){this.initConnection_();const m=e._queryIdentifier,I=e._path.toString();this.log_("Listen called for "+I+" "+m),this.listens.has(I)||this.listens.set(I,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(I).has(m),"listen() called twice for same path/queryId.");const D={onComplete:h,hashFn:s,query:e,tag:c};this.listens.get(I).set(m,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,c=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(c)})}sendListen_(e){const s=e.query,c=s._path.toString(),h=s._queryIdentifier;this.log_("Listen on "+c+" for "+h);const m={p:c};e.tag&&(m.q=s._queryObject,m.t=e.tag),m.h=e.hashFn(),this.sendRequest("q",m,D=>{const R=D.d,H=D.s;n.warnOnListenWarnings_(R,s),(this.listens.get(c)&&this.listens.get(c).get(h))===e&&(this.log_("listen response",D),"ok"!==H&&this.removeListen_(c,h),e.onComplete&&e.onComplete(H,R))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const c=(0,L.DV)(e,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const h='".indexOn": "'+s._queryParams.getIndex().toString()+'"',m=s._path.toString();tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${h} at ${m} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,L.w9)(e)?"auth":"gauth",c={cred:e};null===this.authOverride_?c.noauth=!0:"object"==typeof this.authOverride_&&(c.authvar=this.authOverride_),this.sendRequest(s,c,h=>{const m=h.s,I=h.d||"error";this.authToken_===e&&("ok"===m?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(m,I))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,c=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,c)})}unlisten(e,s){const c=e._path.toString(),h=e._queryIdentifier;this.log_("Unlisten called for "+c+" "+h),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,h)&&this.connected_&&this.sendUnlisten_(c,h,e._queryObject,s)}sendUnlisten_(e,s,c,h){this.log_("Unlisten on "+e+" for "+s);const m={p:e};h&&(m.q=c,m.t=h),this.sendRequest("n",m)}onDisconnectPut(e,s,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,c):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:c})}onDisconnectMerge(e,s,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,c):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:c})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,c,h){const m={p:s,d:c};this.log_("onDisconnect "+e,m),this.sendRequest(e,m,I=>{h&&setTimeout(()=>{h(I.s,I.d)},Math.floor(0))})}put(e,s,c,h){this.putInternal("p",e,s,c,h)}merge(e,s,c,h){this.putInternal("m",e,s,c,h)}putInternal(e,s,c,h,m){this.initConnection_();const I={p:s,d:c};void 0!==m&&(I.h=m),this.outstandingPuts_.push({action:e,request:I,onComplete:h}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,c=this.outstandingPuts_[e].request,h=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,c,m=>{this.log_(s+" response",m),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),h&&h(m.s,m.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,c=>{"ok"!==c.s&&this.log_("reportStats","Error sending stats: "+c.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Wl)(e));const s=e.r,c=this.requestCBHash_[s];c&&(delete this.requestCBHash_[s],c(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):Sp("Unrecognized action received from server: "+(0,L.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,vs.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),c=e.onReady_.bind(e),h=e.onRealtimeDisconnect_.bind(e),m=e.id+":"+n.nextConnectionId_++,I=e.lastSessionId;let D=!1,R=null;const H=function(){R?R.close():(D=!0,h())};e.realtime_={close:H,sendRequest:function(ve){(0,L.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(ve)}};const K=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ve,Ae]=yield Promise.all([e.authTokenProvider_.getToken(K),e.appCheckTokenProvider_.getToken(K)]);D?An("getToken() completed but was canceled"):(An("getToken() completed. Creating connection."),e.authToken_=ve&&ve.accessToken,e.appCheckToken_=Ae&&Ae.token,R=new Fr(m,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,c,h,xe=>{tr(xe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},I))}catch(ve){e.log_("Failed to get token: "+ve),D||(e.repoInfo_.nodeAdmin&&tr(ve),H())}}})()}interrupt(e){An("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){An("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let c;c=s?s.map(m=>Bu(m)).join("$"):"default";const h=this.removeListen_(e,c);h&&h.onComplete&&h.onComplete("permission_denied")}removeListen_(e,s){const c=new Ot(e).toString();let h;if(this.listens.has(c)){const m=this.listens.get(c);h=m.get(s),m.delete(s),0===m.size&&this.listens.delete(c)}else h=void 0;return h}onAuthRevoked_(e,s){An("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){An("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,L.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Ql.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=xa.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class St{constructor(r,e){this.name=r,this.node=e}static Wrap(r,e){return new St(r,e)}}class Up{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,e){const s=new St(zi,r),c=new St(zi,e);return 0!==this.compare(s,c)}minPost(){return St.MIN}}class Vv extends Up{static get __EMPTY_NODE(){return jp}static set __EMPTY_NODE(r){jp=r}compare(r,e){return qo(r.name,e.name)}isDefinedOn(r){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,e){return!1}minPost(){return St.MIN}maxPost(){return new St(Es,jp)}makePost(r,e){return(0,L.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new St(r,jp)}toString(){return".key"}}const Xo=new Vv;class Bp{constructor(r,e,s,c,h=null){this.isReverse_=c,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!r.isEmpty();)if(m=e?s(r.key,e):1,c&&(m*=-1),m<0)r=this.isReverse_?r.left:r.right;else{if(0===m){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,r=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let sd,As=(()=>{class n{constructor(e,s,c,h,m){this.key=e,this.value=s,this.color=c??n.RED,this.left=h??gi.EMPTY_NODE,this.right=m??gi.EMPTY_NODE}copy(e,s,c,h,m){return new n(e??this.key,s??this.value,c??this.color,h??this.left,m??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,c){let h=this;const m=c(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,s,c),null):0===m?h.copy(null,s,null,null,null):h.copy(null,null,null,null,h.right.insert(e,s,c)),h.fixUp_()}removeMin_(){if(this.left.isEmpty())return gi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let c,h;if(c=this,s(e,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(e,s),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),0===s(e,c.key)){if(c.right.isEmpty())return gi.EMPTY_NODE;h=c.right.min_(),c=c.copy(h.key,h.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(e,s))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class gi{constructor(r,e=gi.EMPTY_NODE){this.comparator_=r,this.root_=e}insert(r,e){return new gi(this.comparator_,this.root_.insert(r,e,this.comparator_).copy(null,null,As.BLACK,null,null))}remove(r){return new gi(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,As.BLACK,null,null))}get(r){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(r,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(r){let e,s=this.root_,c=null;for(;!s.isEmpty();){if(e=this.comparator_(r,s.key),0===e){if(s.left.isEmpty())return c?c.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(c=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Bp(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,e){return new Bp(this.root_,r,this.comparator_,!1,e)}getReverseIteratorFrom(r,e){return new Bp(this.root_,r,this.comparator_,!0,e)}getReverseIterator(r){return new Bp(this.root_,null,this.comparator_,!0,r)}}function yC(n,r){return qo(n.name,r.name)}function r_(n,r){return qo(n,r)}gi.EMPTY_NODE=new class _C{copy(r,e,s,c,h){return this}insert(r,e,s){return new As(r,e,null)}remove(r,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const od=function(n){return"number"==typeof n?"number:"+Vu(n):"string:"+n},i_=function(n){if(n.isLeafNode()){const r=n.val();(0,L.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,L.r3)(r,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===sd||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===sd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let s_,vC,EC,Qu=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),i_(this.priorityNode_)}static set __childrenNodeConstructor(e){s_=e}static get __childrenNodeConstructor(){return s_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bt(e)?this:".priority"===vt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const c=vt(e);return null===c?s:s.isEmpty()&&".priority"!==c?this:((0,L.hu)(".priority"!==c||1===Qo(e),".priority must be the last token in a path"),this.updateImmediateChild(c,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ut(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+od(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?Vu(this.value_):this.value_,this.lazyHash_=Zm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,c=typeof this.value_,h=n.VALUE_TYPE_ORDER.indexOf(s),m=n.VALUE_TYPE_ORDER.indexOf(c);return(0,L.hu)(h>=0,"Unknown leaf type: "+s),(0,L.hu)(m>=0,"Unknown leaf type: "+c),h===m?"object"===c?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:m-h}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ln=new class a_ extends Up{compare(r,e){const s=r.node.getPriority(),c=e.node.getPriority(),h=s.compareTo(c);return 0===h?qo(r.name,e.name):h}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,e){return!r.getPriority().equals(e.getPriority())}minPost(){return St.MIN}maxPost(){return new St(Es,new Qu("[PRIORITY-POST]",EC))}makePost(r,e){const s=vC(r);return new St(e,new Qu("[PRIORITY-POST]",s))}toString(){return".priority"}},gT=Math.log(2);class $v{constructor(r){this.count=parseInt(Math.log(r+1)/gT,10),this.current_=this.count-1;const c=(h=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&c}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const Hp=function(n,r,e,s){n.sort(r);const c=function(D,R){const H=R-D;let V,K;if(0===H)return null;if(1===H)return V=n[D],K=e?e(V):V,new As(K,V.node,As.BLACK,null,null);{const ve=parseInt(H/2,10)+D,Ae=c(D,ve),xe=c(ve+1,R);return V=n[ve],K=e?e(V):V,new As(K,V.node,As.BLACK,Ae,xe)}},I=function(D){let R=null,H=null,V=n.length;const K=function(Ae,xe){const ze=V-Ae,Pt=V;V-=Ae;const Vt=c(ze+1,Pt),Nt=n[ze],kt=e?e(Nt):Nt;ve(new As(kt,Nt.node,xe,null,Vt))},ve=function(Ae){R?(R.left=Ae,R=Ae):(H=Ae,R=Ae)};for(let Ae=0;Ae<D.count;++Ae){const xe=D.nextBitIsOne(),ze=Math.pow(2,D.count-(Ae+1));xe?K(ze,As.BLACK):(K(ze,As.BLACK),K(ze,As.RED))}return H}(new $v(n.length));return new gi(s||r,I)};let c_;const ad={};class ka{constructor(r,e){this.indexes_=r,this.indexSet_=e}static get Default(){return(0,L.hu)(ad&&ln,"ChildrenNode.ts has not been loaded"),c_=c_||new ka({".priority":ad},{".priority":ln}),c_}get(r){const e=(0,L.DV)(this.indexes_,r);if(!e)throw new Error("No index defined for "+r);return e instanceof gi?e:null}hasIndex(r){return(0,L.r3)(this.indexSet_,r.toString())}addIndex(r,e){(0,L.hu)(r!==Xo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let c=!1;const h=e.getIterator(St.Wrap);let I,m=h.getNext();for(;m;)c=c||r.isDefinedOn(m.node),s.push(m),m=h.getNext();I=c?Hp(s,r.getCompare()):ad;const D=r.toString(),R=Object.assign({},this.indexSet_);R[D]=r;const H=Object.assign({},this.indexes_);return H[D]=I,new ka(H,R)}addToIndexes(r,e){const s=(0,L.UI)(this.indexes_,(c,h)=>{const m=(0,L.DV)(this.indexSet_,h);if((0,L.hu)(m,"Missing index implementation for "+h),c===ad){if(m.isDefinedOn(r.node)){const I=[],D=e.getIterator(St.Wrap);let R=D.getNext();for(;R;)R.name!==r.name&&I.push(R),R=D.getNext();return I.push(r),Hp(I,m.getCompare())}return ad}{const I=e.get(r.name);let D=c;return I&&(D=D.remove(new St(r.name,I))),D.insert(r,r.node)}});return new ka(s,this.indexSet_)}removeFromIndexes(r,e){const s=(0,L.UI)(this.indexes_,c=>{if(c===ad)return c;{const h=e.get(r.name);return h?c.remove(new St(r.name,h)):c}});return new ka(s,this.indexSet_)}}let cd,ut=(()=>{class n{constructor(e,s,c){this.children_=e,this.priorityNode_=s,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&i_(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cd||(cd=new n(new gi(r_),null,ka.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?cd:s}}getChild(e){const s=vt(e);return null===s?this:this.getImmediateChild(s).getChild(Ut(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,L.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const c=new St(e,s);let h,m;s.isEmpty()?(h=this.children_.remove(e),m=this.indexMap_.removeFromIndexes(c,this.children_)):(h=this.children_.insert(e,s),m=this.indexMap_.addToIndexes(c,this.children_));const I=h.isEmpty()?cd:this.priorityNode_;return new n(h,I,m)}}updateChild(e,s){const c=vt(e);if(null===c)return s;{(0,L.hu)(".priority"!==vt(e)||1===Qo(e),".priority must be the last token in a path");const h=this.getImmediateChild(c).updateChild(Ut(e),s);return this.updateImmediateChild(c,h)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let c=0,h=0,m=!0;if(this.forEachChild(ln,(I,D)=>{s[I]=D.val(e),c++,m&&n.INTEGER_REGEXP_.test(I)?h=Math.max(h,Number(I)):m=!1}),!e&&m&&h<2*c){const I=[];for(const D in s)I[D]=s[D];return I}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+od(this.getPriority().val())+":"),this.forEachChild(ln,(s,c)=>{const h=c.hash();""!==h&&(e+=":"+s+":"+h)}),this.lazyHash_=""===e?"":Zm(e)}return this.lazyHash_}getPredecessorChildName(e,s,c){const h=this.resolveIndex_(c);if(h){const m=h.getPredecessorKey(new St(e,s));return m?m.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const c=s.minKey();return c&&c.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new St(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const c=s.maxKey();return c&&c.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new St(s,this.children_.get(s)):null}forEachChild(e,s){const c=this.resolveIndex_(e);return c?c.inorderTraversal(h=>s(h.name,h.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const c=this.resolveIndex_(s);if(c)return c.getIteratorFrom(e,h=>h);{const h=this.children_.getIteratorFrom(e.name,St.Wrap);let m=h.peek();for(;null!=m&&s.compare(m,e)<0;)h.getNext(),m=h.peek();return h}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const c=this.resolveIndex_(s);if(c)return c.getReverseIteratorFrom(e,h=>h);{const h=this.children_.getReverseIteratorFrom(e.name,St.Wrap);let m=h.peek();for(;null!=m&&s.compare(m,e)>0;)h.getNext(),m=h.peek();return h}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ju?-1:0}withIndex(e){if(e===Xo||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Xo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const c=this.getIterator(ln),h=s.getIterator(ln);let m=c.getNext(),I=h.getNext();for(;m&&I;){if(m.name!==I.name||!m.node.equals(I.node))return!1;m=c.getNext(),I=h.getNext()}return null===m&&null===I}return!1}return!1}}resolveIndex_(e){return e===Xo?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ju=new class Wv extends ut{constructor(){super(new gi(r_),ut.EMPTY_NODE,ka.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return ut.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(St,{MIN:{value:new St(zi,ut.EMPTY_NODE)},MAX:{value:new St(Es,Ju)}}),Vv.__EMPTY_NODE=ut.EMPTY_NODE,Qu.__childrenNodeConstructor=ut,function Oa(n){sd=n}(Ju),function o_(n){EC=n}(Ju);const wC=!0;function Yt(n,r=null){if(null===n)return ut.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(r=n[".priority"]),(0,L.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Qu(n,Yt(r));if(n instanceof Array||!wC){let e=ut.EMPTY_NODE;return Dn(n,(s,c)=>{if((0,L.r3)(n,s)&&"."!==s.substring(0,1)){const h=Yt(c);(h.isLeafNode()||!h.isEmpty())&&(e=e.updateImmediateChild(s,h))}}),e.updatePriority(Yt(r))}{const e=[];let s=!1;if(Dn(n,(m,I)=>{if("."!==m.substring(0,1)){const D=Yt(I);D.isEmpty()||(s=s||!D.getPriority().isEmpty(),e.push(new St(m,D)))}}),0===e.length)return ut.EMPTY_NODE;const h=Hp(e,yC,m=>m.name,r_);if(s){const m=Hp(e,ln.getCompare());return new ut(h,Yt(r),new ka({".priority":m},{".priority":ln}))}return new ut(h,Yt(r),ka.Default)}}!function pT(n){vC=n}(Yt);class u_ extends Up{constructor(r){super(),this.indexPath_=r,(0,L.hu)(!bt(r)&&".priority"!==vt(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,e){const s=this.extractChild(r.node),c=this.extractChild(e.node),h=s.compareTo(c);return 0===h?qo(r.name,e.name):h}makePost(r,e){const s=Yt(r),c=ut.EMPTY_NODE.updateChild(this.indexPath_,s);return new St(e,c)}maxPost(){const r=ut.EMPTY_NODE.updateChild(this.indexPath_,Ju);return new St(Es,r)}toString(){return Ku(this.indexPath_,0).join("/")}}const Vp=new class IC extends Up{compare(r,e){const s=r.node.compareTo(e.node);return 0===s?qo(r.name,e.name):s}isDefinedOn(r){return!0}indexedValueChanged(r,e){return!r.equals(e)}minPost(){return St.MIN}maxPost(){return St.MAX}makePost(r,e){const s=Yt(r);return new St(e,s)}toString(){return".value"}};function $p(n){return{type:"value",snapshotNode:n}}function ud(n,r){return{type:"child_added",snapshotNode:r,childName:n}}function Wh(n,r){return{type:"child_removed",snapshotNode:r,childName:n}}function zh(n,r,e){return{type:"child_changed",snapshotNode:r,childName:n,oldSnap:e}}class Wp{constructor(r){this.index_=r}updateChild(r,e,s,c,h,m){(0,L.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const I=r.getImmediateChild(e);return I.getChild(c).equals(s.getChild(c))&&I.isEmpty()===s.isEmpty()||(null!=m&&(s.isEmpty()?r.hasChild(e)?m.trackChildChange(Wh(e,I)):(0,L.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):I.isEmpty()?m.trackChildChange(ud(e,s)):m.trackChildChange(zh(e,s,I))),r.isLeafNode()&&s.isEmpty())?r:r.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(r,e,s){return null!=s&&(r.isLeafNode()||r.forEachChild(ln,(c,h)=>{e.hasChild(c)||s.trackChildChange(Wh(c,h))}),e.isLeafNode()||e.forEachChild(ln,(c,h)=>{if(r.hasChild(c)){const m=r.getImmediateChild(c);m.equals(h)||s.trackChildChange(zh(c,h,m))}else s.trackChildChange(ud(c,h))})),e.withIndex(this.index_)}updatePriority(r,e){return r.isEmpty()?ut.EMPTY_NODE:r.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zp{constructor(r){this.indexedFilter_=new Wp(r.getIndex()),this.index_=r.getIndex(),this.startPost_=zp.getStartPost_(r),this.endPost_=zp.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,s=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return e&&s}updateChild(r,e,s,c,h,m){return this.matches(new St(e,s))||(s=ut.EMPTY_NODE),this.indexedFilter_.updateChild(r,e,s,c,h,m)}updateFullNode(r,e,s){e.isLeafNode()&&(e=ut.EMPTY_NODE);let c=e.withIndex(this.index_);c=c.updatePriority(ut.EMPTY_NODE);const h=this;return e.forEachChild(ln,(m,I)=>{h.matches(new St(m,I))||(c=c.updateImmediateChild(m,ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,c,s)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const e=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),e)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const e=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),e)}return r.getIndex().maxPost()}}class mT{constructor(r){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new zp(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,e,s,c,h,m){return this.rangedFilter_.matches(new St(e,s))||(s=ut.EMPTY_NODE),r.getImmediateChild(e).equals(s)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,e,s,c,h,m):this.fullLimitUpdateChild_(r,e,s,h,m)}updateFullNode(r,e,s){let c;if(e.isLeafNode()||e.isEmpty())c=ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let h;c=ut.EMPTY_NODE.withIndex(this.index_),h=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const I=h.getNext();if(this.withinDirectionalStart(I)){if(!this.withinDirectionalEnd(I))break;c=c.updateImmediateChild(I.name,I.node),m++}}}else{let h;c=e.withIndex(this.index_),c=c.updatePriority(ut.EMPTY_NODE),h=this.reverse_?c.getReverseIterator(this.index_):c.getIterator(this.index_);let m=0;for(;h.hasNext();){const I=h.getNext();m<this.limit_&&this.withinDirectionalStart(I)&&this.withinDirectionalEnd(I)?m++:c=c.updateImmediateChild(I.name,ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,c,s)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,e,s,c,h){let m;if(this.reverse_){const V=this.index_.getCompare();m=(K,ve)=>V(ve,K)}else m=this.index_.getCompare();const I=r;(0,L.hu)(I.numChildren()===this.limit_,"");const D=new St(e,s),R=this.reverse_?I.getFirstChild(this.index_):I.getLastChild(this.index_),H=this.rangedFilter_.matches(D);if(I.hasChild(e)){const V=I.getImmediateChild(e);let K=c.getChildAfterChild(this.index_,R,this.reverse_);for(;null!=K&&(K.name===e||I.hasChild(K.name));)K=c.getChildAfterChild(this.index_,K,this.reverse_);const ve=null==K?1:m(K,D);if(H&&!s.isEmpty()&&ve>=0)return h?.trackChildChange(zh(e,s,V)),I.updateImmediateChild(e,s);{h?.trackChildChange(Wh(e,V));const xe=I.updateImmediateChild(e,ut.EMPTY_NODE);return null!=K&&this.rangedFilter_.matches(K)?(h?.trackChildChange(ud(K.name,K.node)),xe.updateImmediateChild(K.name,K.node)):xe}}return s.isEmpty()?r:H&&m(R,D)>=0?(null!=h&&(h.trackChildChange(Wh(R.name,R.node)),h.trackChildChange(ud(e,s))),I.updateImmediateChild(e,s).updateImmediateChild(R.name,ut.EMPTY_NODE)):r}}class kc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ln}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zi}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ln}copy(){const r=new kc;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function Gp(n,r,e){const s=n.copy();return s.startSet_=!0,void 0===r&&(r=null),s.indexStartValue_=r,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Zh(n,r,e){const s=n.copy();return s.endSet_=!0,void 0===r&&(r=null),s.indexEndValue_=r,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function qh(n,r){const e=n.copy();return e.index_=r,e}function d_(n){const r={};if(n.isDefault())return r;let e;if(n.index_===ln?e="$priority":n.index_===Vp?e="$value":n.index_===Xo?e="$key":((0,L.hu)(n.index_ instanceof u_,"Unrecognized index type!"),e=n.index_.toString()),r.orderBy=(0,L.Wl)(e),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";r[s]=(0,L.Wl)(n.indexStartValue_),n.startNameSet_&&(r[s]+=","+(0,L.Wl)(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";r[s]=(0,L.Wl)(n.indexEndValue_),n.endNameSet_&&(r[s]+=","+(0,L.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?r.limitToFirst=n.limit_:r.limitToLast=n.limit_),r}function Kh(n){const r={};if(n.startSet_&&(r.sp=n.indexStartValue_,n.startNameSet_&&(r.sn=n.indexStartName_),r.sin=!n.startAfterSet_),n.endSet_&&(r.ep=n.indexEndValue_,n.endNameSet_&&(r.en=n.indexEndName_),r.ein=!n.endBeforeSet_),n.limitSet_){r.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),r.vf=e}return n.index_!==ln&&(r.i=n.index_.toString()),r}class h_ extends br{constructor(r,e,s,c){super(),this.repoInfo_=r,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=c,this.log_=Dc("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,e){return void 0!==e?"tag$"+e:((0,L.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,e,s,c){const h=r._path.toString();this.log_("Listen called for "+h+" "+r._queryIdentifier);const m=h_.getListenId_(r,s),I={};this.listens_[m]=I;const D=d_(r._queryParams);this.restRequest_(h+".json",D,(R,H)=>{let V=H;if(404===R&&(V=null,R=null),null===R&&this.onDataUpdate_(h,V,!1,s),(0,L.DV)(this.listens_,m)===I){let K;K=R?401===R?"permission_denied":"rest_error:"+R:"ok",c(K,null)}})}unlisten(r,e){const s=h_.getListenId_(r,e);delete this.listens_[s]}get(r){const e=d_(r._queryParams),s=r._path.toString(),c=new L.BH;return this.restRequest_(s+".json",e,(h,m)=>{let I=m;404===h&&(I=null,h=null),null===h?(this.onDataUpdate_(s,I,!1,null),c.resolve(I)):c.reject(new Error(I))}),c.promise}refreshAuthToken(r){}restRequest_(r,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,h])=>{c&&c.accessToken&&(e.auth=c.accessToken),h&&h.token&&(e.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+m);const I=new XMLHttpRequest;I.onreadystatechange=()=>{if(s&&4===I.readyState){this.log_("REST Response for "+m+" received. status:",I.status,"response:",I.responseText);let D=null;if(I.status>=200&&I.status<300){try{D=(0,L.cI)(I.responseText)}catch{tr("Failed to parse JSON response for "+m+": "+I.responseText)}s(null,D)}else 401!==I.status&&404!==I.status&&tr("Got unsuccessful REST response for "+m+" Status: "+I.status),s(I.status);s=null}},I.open("GET",m,!0),I.send()})}}class f_{constructor(){this.rootNode_=ut.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,e){this.rootNode_=this.rootNode_.updateChild(r,e)}}function Zp(){return{value:null,children:new Map}}function Lc(n,r,e){if(bt(r))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(r,e);else{const s=vt(r);n.children.has(s)||n.children.set(s,Zp()),Lc(n.children.get(s),r=Ut(r),e)}}function qp(n,r){if(bt(r))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ln,(s,c)=>{Lc(n,new Ot(s),c)}),qp(n,r)}}if(n.children.size>0){const e=vt(r);return r=Ut(r),n.children.has(e)&&qp(n.children.get(e),r)&&n.children.delete(e),0===n.children.size}return!0}function Kp(n,r,e){null!==n.value?e(r,n.value):function Xu(n,r){n.children.forEach((e,s)=>{r(s,e)})}(n,(s,c)=>{Kp(c,new Ot(r.toString()+"/"+s),e)})}class DC{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),e=Object.assign({},r);return this.last_&&Dn(this.last_,(s,c)=>{e[s]=e[s]-c}),this.last_=r,e}}class p_{constructor(r,e){this.server_=e,this.statsToReport_={},this.statsListener_=new DC(r);const s=1e4+2e4*Math.random();Mc(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const r=this.statsListener_.get(),e={};let s=!1;Dn(r,(c,h)=>{h>0&&(0,L.r3)(this.statsToReport_,c)&&(e[c]=h,s=!0)}),s&&this.server_.reportStats(e),Mc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Gi=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Gi||{});function Yh(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Jp{constructor(r,e,s){this.path=r,this.affectedTree=e,this.revert=s,this.type=Gi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(bt(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ot(r));return new Jp(Rt(),e,this.revert)}}return(0,L.hu)(vt(this.path)===r,"operationForChild called for unrelated child."),new Jp(Ut(this.path),this.affectedTree,this.revert)}}class Qh{constructor(r,e){this.source=r,this.path=e,this.type=Gi.LISTEN_COMPLETE}operationForChild(r){return bt(this.path)?new Qh(this.source,Rt()):new Qh(this.source,Ut(this.path))}}class Fc{constructor(r,e,s){this.source=r,this.path=e,this.snap=s,this.type=Gi.OVERWRITE}operationForChild(r){return bt(this.path)?new Fc(this.source,Rt(),this.snap.getImmediateChild(r)):new Fc(this.source,Ut(this.path),this.snap)}}class fo{constructor(r,e,s){this.source=r,this.path=e,this.children=s,this.type=Gi.MERGE}operationForChild(r){if(bt(this.path)){const e=this.children.subtree(new Ot(r));return e.isEmpty()?null:e.value?new Fc(this.source,Rt(),e.value):new fo(this.source,Rt(),e)}return(0,L.hu)(vt(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new fo(this.source,Ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Uc{constructor(r,e,s){this.node_=r,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(bt(r))return this.isFullyInitialized()&&!this.filtered_;const e=vt(r);return this.isCompleteForChild(e)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class SC{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function el(n,r,e,s,c,h){const m=s.filter(I=>I.type===e);m.sort((I,D)=>function MC(n,r,e){if(null==r.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const s=new St(r.childName,r.snapshotNode),c=new St(e.childName,e.snapshotNode);return n.index_.compare(s,c)}(n,I,D)),m.forEach(I=>{const D=function Gv(n,r,e){return"value"===r.type||"child_removed"===r.type||(r.prevName=e.getPredecessorChildName(r.childName,r.snapshotNode,n.index_)),r}(n,I,h);c.forEach(R=>{R.respondsTo(I.type)&&r.push(R.createEvent(D,n.query_))})})}function Jh(n,r){return{eventCache:n,serverCache:r}}function tl(n,r,e,s){return Jh(new Uc(r,e,s),n.serverCache)}function RC(n,r,e,s){return Jh(n.eventCache,new Uc(r,e,s))}function g_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function nl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let m_;class dn{constructor(r,e=(()=>(m_||(m_=new gi(Ap)),m_))()){this.value=r,this.children=e}static fromObject(r){let e=new dn(null);return Dn(r,(s,c)=>{e=e.set(new Ot(s),c)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,e){if(null!=this.value&&e(this.value))return{path:Rt(),value:this.value};if(bt(r))return null;{const s=vt(r),c=this.children.get(s);if(null!==c){const h=c.findRootMostMatchingPathAndValue(Ut(r),e);return null!=h?{path:mn(new Ot(s),h.path),value:h.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(bt(r))return this;{const e=vt(r),s=this.children.get(e);return null!==s?s.subtree(Ut(r)):new dn(null)}}set(r,e){if(bt(r))return new dn(e,this.children);{const s=vt(r),h=(this.children.get(s)||new dn(null)).set(Ut(r),e),m=this.children.insert(s,h);return new dn(this.value,m)}}remove(r){if(bt(r))return this.children.isEmpty()?new dn(null):new dn(null,this.children);{const e=vt(r),s=this.children.get(e);if(s){const c=s.remove(Ut(r));let h;return h=c.isEmpty()?this.children.remove(e):this.children.insert(e,c),null===this.value&&h.isEmpty()?new dn(null):new dn(this.value,h)}return this}}get(r){if(bt(r))return this.value;{const e=vt(r),s=this.children.get(e);return s?s.get(Ut(r)):null}}setTree(r,e){if(bt(r))return e;{const s=vt(r),h=(this.children.get(s)||new dn(null)).setTree(Ut(r),e);let m;return m=h.isEmpty()?this.children.remove(s):this.children.insert(s,h),new dn(this.value,m)}}fold(r){return this.fold_(Rt(),r)}fold_(r,e){const s={};return this.children.inorderTraversal((c,h)=>{s[c]=h.fold_(mn(r,c),e)}),e(r,this.value,s)}findOnPath(r,e){return this.findOnPath_(r,Rt(),e)}findOnPath_(r,e,s){const c=!!this.value&&s(e,this.value);if(c)return c;if(bt(r))return null;{const h=vt(r),m=this.children.get(h);return m?m.findOnPath_(Ut(r),mn(e,h),s):null}}foreachOnPath(r,e){return this.foreachOnPath_(r,Rt(),e)}foreachOnPath_(r,e,s){if(bt(r))return this;{this.value&&s(e,this.value);const c=vt(r),h=this.children.get(c);return h?h.foreachOnPath_(Ut(r),mn(e,c),s):new dn(null)}}foreach(r){this.foreach_(Rt(),r)}foreach_(r,e){this.children.inorderTraversal((s,c)=>{c.foreach_(mn(r,s),e)}),this.value&&e(r,this.value)}foreachChild(r){this.children.inorderTraversal((e,s)=>{s.value&&r(e,s.value)})}}class mi{constructor(r){this.writeTree_=r}static empty(){return new mi(new dn(null))}}function Xh(n,r,e){if(bt(r))return new mi(new dn(e));{const s=n.writeTree_.findRootMostValueAndPath(r);if(null!=s){const c=s.path;let h=s.value;const m=pi(c,r);return h=h.updateChild(m,e),new mi(n.writeTree_.set(c,h))}{const c=new dn(e),h=n.writeTree_.setTree(r,c);return new mi(h)}}}function ef(n,r,e){let s=n;return Dn(e,(c,h)=>{s=Xh(s,mn(r,c),h)}),s}function Xp(n,r){if(bt(r))return mi.empty();{const e=n.writeTree_.setTree(r,new dn(null));return new mi(e)}}function jc(n,r){return null!=La(n,r)}function La(n,r){const e=n.writeTree_.findRootMostValueAndPath(r);return null!=e?n.writeTree_.get(e.path).getChild(pi(e.path,r)):null}function eg(n){const r=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ln,(s,c)=>{r.push(new St(s,c))}):n.writeTree_.children.inorderTraversal((s,c)=>{null!=c.value&&r.push(new St(s,c.value))}),r}function Rs(n,r){if(bt(r))return n;{const e=La(n,r);return new mi(null!=e?new dn(e):n.writeTree_.subtree(r))}}function dd(n){return n.writeTree_.isEmpty()}function po(n,r){return tg(Rt(),n.writeTree_,r)}function tg(n,r,e){if(null!=r.value)return e.updateChild(n,r.value);{let s=null;return r.children.inorderTraversal((c,h)=>{".priority"===c?((0,L.hu)(null!==h.value,"Priority writes must always be leaf nodes"),s=h.value):e=tg(mn(n,c),h,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(mn(n,".priority"),s)),e}}function hd(n,r){return Yv(r,n)}function PC(n,r){if(n.snap)return Ts(n.path,r);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ts(mn(n.path,e),r))return!0;return!1}function NC(n){return n.visible}function qv(n,r,e){let s=mi.empty();for(let c=0;c<n.length;++c){const h=n[c];if(r(h)){const m=h.path;let I;if(h.snap)Ts(e,m)?(I=pi(e,m),s=Xh(s,I,h.snap)):Ts(m,e)&&(I=pi(m,e),s=Xh(s,Rt(),h.snap.getChild(I)));else{if(!h.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(Ts(e,m))I=pi(e,m),s=ef(s,I,h.children);else if(Ts(m,e))if(I=pi(m,e),bt(I))s=ef(s,Rt(),h.children);else{const D=(0,L.DV)(h.children,vt(I));if(D){const R=D.getChild(Ut(I));s=Xh(s,Rt(),R)}}}}}return s}function rg(n,r,e,s,c){if(s||c){const h=Rs(n.visibleWrites,r);return!c&&dd(h)?e:c||null!=e||jc(h,Rt())?po(qv(n.allWrites,function(R){return(R.visible||c)&&(!s||!~s.indexOf(R.writeId))&&(Ts(R.path,r)||Ts(r,R.path))},r),e||ut.EMPTY_NODE):null}{const h=La(n.visibleWrites,r);if(null!=h)return h;{const m=Rs(n.visibleWrites,r);return dd(m)?e:null!=e||jc(m,Rt())?po(m,e||ut.EMPTY_NODE):null}}}function fd(n,r,e,s){return rg(n.writeTree,n.treePath,r,e,s)}function y_(n,r){return function Kv(n,r,e){let s=ut.EMPTY_NODE;const c=La(n.visibleWrites,r);if(c)return c.isLeafNode()||c.forEachChild(ln,(h,m)=>{s=s.updateImmediateChild(h,m)}),s;if(e){const h=Rs(n.visibleWrites,r);return e.forEachChild(ln,(m,I)=>{const D=po(Rs(h,new Ot(m)),I);s=s.updateImmediateChild(m,D)}),eg(h).forEach(m=>{s=s.updateImmediateChild(m.name,m.node)}),s}return eg(Rs(n.visibleWrites,r)).forEach(m=>{s=s.updateImmediateChild(m.name,m.node)}),s}(n.writeTree,n.treePath,r)}function v_(n,r,e,s){return function xC(n,r,e,s,c){(0,L.hu)(s||c,"Either existingEventSnap or existingServerSnap must exist");const h=mn(r,e);if(jc(n.visibleWrites,h))return null;{const m=Rs(n.visibleWrites,h);return dd(m)?c.getChild(e):po(m,c.getChild(e))}}(n.writeTree,n.treePath,r,e,s)}function pd(n,r){return function vT(n,r){return La(n.visibleWrites,r)}(n.writeTree,mn(n.treePath,r))}function E_(n,r,e){return function OC(n,r,e,s){const c=mn(r,e),h=La(n.visibleWrites,c);return null!=h?h:s.isCompleteForChild(e)?po(Rs(n.visibleWrites,c),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,r,e)}function w_(n,r){return Yv(mn(n.treePath,r),n.writeTree)}function Yv(n,r){return{treePath:n,writeTree:r}}class Qv{constructor(){this.changeMap=new Map}trackChildChange(r){const e=r.type,s=r.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const c=this.changeMap.get(s);if(c){const h=c.type;if("child_added"===e&&"child_removed"===h)this.changeMap.set(s,zh(s,r.snapshotNode,c.snapshotNode));else if("child_removed"===e&&"child_added"===h)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===h)this.changeMap.set(s,Wh(s,c.oldSnap));else if("child_changed"===e&&"child_added"===h)this.changeMap.set(s,ud(s,r.snapshotNode));else{if("child_changed"!==e||"child_changed"!==h)throw(0,L.g5)("Illegal combination of changes: "+r+" occurred after "+c);this.changeMap.set(s,zh(s,r.snapshotNode,c.oldSnap))}}else this.changeMap.set(s,r)}getChanges(){return Array.from(this.changeMap.values())}}const Jv=new class ET{getCompleteChild(r){return null}getChildAfterChild(r,e,s){return null}};class gd{constructor(r,e,s=null){this.writes_=r,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(r){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(r))return e.getNode().getImmediateChild(r);{const s=null!=this.optCompleteServerCache_?new Uc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return E_(this.writes_,r,s)}}getChildAfterChild(r,e,s){const c=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nl(this.viewCache_),h=function sg(n,r,e,s,c,h){return function kC(n,r,e,s,c,h,m){let I;const D=Rs(n.visibleWrites,r),R=La(D,Rt());if(null!=R)I=R;else{if(null==e)return[];I=po(D,e)}if(I=I.withIndex(m),I.isEmpty()||I.isLeafNode())return[];{const H=[],V=m.getCompare(),K=h?I.getReverseIteratorFrom(s,m):I.getIteratorFrom(s,m);let ve=K.getNext();for(;ve&&H.length<c;)0!==V(ve,s)&&H.push(ve),ve=K.getNext();return H}}(n.writeTree,n.treePath,r,e,s,c,h)}(this.writes_,c,e,1,s,r);return 0===h.length?null:h[0]}}function I_(n,r,e,s,c,h){const m=r.eventCache;if(null!=pd(s,e))return r;{let I,D;if(bt(e))if((0,L.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const R=nl(r),V=y_(s,R instanceof ut?R:ut.EMPTY_NODE);I=n.filter.updateFullNode(r.eventCache.getNode(),V,h)}else{const R=fd(s,nl(r));I=n.filter.updateFullNode(r.eventCache.getNode(),R,h)}else{const R=vt(e);if(".priority"===R){(0,L.hu)(1===Qo(e),"Can't have a priority with additional path components");const H=m.getNode();D=r.serverCache.getNode();const V=v_(s,e,H,D);I=null!=V?n.filter.updatePriority(H,V):m.getNode()}else{const H=Ut(e);let V;if(m.isCompleteForChild(R)){D=r.serverCache.getNode();const K=v_(s,e,m.getNode(),D);V=null!=K?m.getNode().getImmediateChild(R).updateChild(H,K):m.getNode().getImmediateChild(R)}else V=E_(s,R,r.serverCache);I=null!=V?n.filter.updateChild(m.getNode(),R,V,H,c,h):m.getNode()}}return tl(r,I,m.isFullyInitialized()||bt(e),n.filter.filtersNodes())}}function og(n,r,e,s,c,h,m,I){const D=r.serverCache;let R;const H=m?n.filter:n.filter.getIndexedFilter();if(bt(e))R=H.updateFullNode(D.getNode(),s,null);else if(H.filtersNodes()&&!D.isFiltered()){const ve=D.getNode().updateChild(e,s);R=H.updateFullNode(D.getNode(),ve,null)}else{const ve=vt(e);if(!D.isCompleteForPath(e)&&Qo(e)>1)return r;const Ae=Ut(e),ze=D.getNode().getImmediateChild(ve).updateChild(Ae,s);R=".priority"===ve?H.updatePriority(D.getNode(),ze):H.updateChild(D.getNode(),ve,ze,Ae,Jv,null)}const V=RC(r,R,D.isFullyInitialized()||bt(e),H.filtersNodes());return I_(n,V,e,c,new gd(c,V,h),I)}function C_(n,r,e,s,c,h,m){const I=r.eventCache;let D,R;const H=new gd(c,r,h);if(bt(e))R=n.filter.updateFullNode(r.eventCache.getNode(),s,m),D=tl(r,R,!0,n.filter.filtersNodes());else{const V=vt(e);if(".priority"===V)R=n.filter.updatePriority(r.eventCache.getNode(),s),D=tl(r,R,I.isFullyInitialized(),I.isFiltered());else{const K=Ut(e),ve=I.getNode().getImmediateChild(V);let Ae;if(bt(K))Ae=s;else{const xe=H.getCompleteChild(V);Ae=null!=xe?".priority"===rd(K)&&xe.getChild(Yu(K)).isEmpty()?xe:xe.updateChild(K,s):ut.EMPTY_NODE}D=ve.equals(Ae)?r:tl(r,n.filter.updateChild(I.getNode(),V,Ae,K,H,m),I.isFullyInitialized(),n.filter.filtersNodes())}}return D}function Xv(n,r){return n.eventCache.isCompleteForChild(r)}function b_(n,r,e){return e.foreach((s,c)=>{r=r.updateChild(s,c)}),r}function rf(n,r,e,s,c,h,m,I){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let R,D=r;R=bt(e)?s:new dn(null).setTree(e,s);const H=r.serverCache.getNode();return R.children.inorderTraversal((V,K)=>{if(H.hasChild(V)){const Ae=b_(0,r.serverCache.getNode().getImmediateChild(V),K);D=og(n,D,new Ot(V),Ae,c,h,m,I)}}),R.children.inorderTraversal((V,K)=>{const ve=!r.serverCache.isCompleteForChild(V)&&null===K.value;if(!H.hasChild(V)&&!ve){const xe=b_(0,r.serverCache.getNode().getImmediateChild(V),K);D=og(n,D,new Ot(V),xe,c,h,m,I)}}),D}class UC{constructor(r,e){this.query_=r,this.eventRegistrations_=[];const s=this.query_._queryParams,c=new Wp(s.getIndex()),h=function Ht(n){return n.loadsAllData()?new Wp(n.getIndex()):n.hasLimit()?new mT(n):new zp(n)}(s);this.processor_=function LC(n){return{filter:n}}(h);const m=e.serverCache,I=e.eventCache,D=c.updateFullNode(ut.EMPTY_NODE,m.getNode(),null),R=h.updateFullNode(ut.EMPTY_NODE,I.getNode(),null),H=new Uc(D,m.isFullyInitialized(),c.filtersNodes()),V=new Uc(R,I.isFullyInitialized(),h.filtersNodes());this.viewCache_=Jh(V,H),this.eventGenerator_=new SC(this.query_)}get query(){return this.query_}}function BC(n,r){const e=nl(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!bt(r)&&!e.getImmediateChild(vt(r)).isEmpty())?e.getChild(r):null}function T_(n){return 0===n.eventRegistrations_.length}function rE(n,r,e){const s=[];if(e){(0,L.hu)(null==r,"A cancel should cancel all event registrations.");const c=n.query._path;n.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(e,c);m&&s.push(m)})}if(r){let c=[];for(let h=0;h<n.eventRegistrations_.length;++h){const m=n.eventRegistrations_[h];if(m.matches(r)){if(r.hasAnyCallback()){c=c.concat(n.eventRegistrations_.slice(h+1));break}}else c.push(m)}n.eventRegistrations_=c}else n.eventRegistrations_=[];return s}function VC(n,r,e,s){r.type===Gi.MERGE&&null!==r.source.queryId&&((0,L.hu)(nl(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(g_(n.viewCache_),"Missing event cache, even though we have a server cache"));const c=n.viewCache_,h=function nf(n,r,e,s,c){const h=new Qv;let m,I;if(e.type===Gi.OVERWRITE){const R=e;R.source.fromUser?m=C_(n,r,R.path,R.snap,s,c,h):((0,L.hu)(R.source.fromServer,"Unknown source."),I=R.source.tagged||r.serverCache.isFiltered()&&!bt(R.path),m=og(n,r,R.path,R.snap,s,c,I,h))}else if(e.type===Gi.MERGE){const R=e;R.source.fromUser?m=function eE(n,r,e,s,c,h,m){let I=r;return s.foreach((D,R)=>{const H=mn(e,D);Xv(r,vt(H))&&(I=C_(n,I,H,R,c,h,m))}),s.foreach((D,R)=>{const H=mn(e,D);Xv(r,vt(H))||(I=C_(n,I,H,R,c,h,m))}),I}(n,r,R.path,R.children,s,c,h):((0,L.hu)(R.source.fromServer,"Unknown source."),I=R.source.tagged||r.serverCache.isFiltered(),m=rf(n,r,R.path,R.children,s,c,I,h))}else if(e.type===Gi.ACK_USER_WRITE){const R=e;m=R.revert?function tE(n,r,e,s,c,h){let m;if(null!=pd(s,e))return r;{const I=new gd(s,r,c),D=r.eventCache.getNode();let R;if(bt(e)||".priority"===vt(e)){let H;if(r.serverCache.isFullyInitialized())H=fd(s,nl(r));else{const V=r.serverCache.getNode();(0,L.hu)(V instanceof ut,"serverChildren would be complete if leaf node"),H=y_(s,V)}R=n.filter.updateFullNode(D,H,h)}else{const H=vt(e);let V=E_(s,H,r.serverCache);null==V&&r.serverCache.isCompleteForChild(H)&&(V=D.getImmediateChild(H)),R=null!=V?n.filter.updateChild(D,H,V,Ut(e),I,h):r.eventCache.getNode().hasChild(H)?n.filter.updateChild(D,H,ut.EMPTY_NODE,Ut(e),I,h):D,R.isEmpty()&&r.serverCache.isFullyInitialized()&&(m=fd(s,nl(r)),m.isLeafNode()&&(R=n.filter.updateFullNode(R,m,h)))}return m=r.serverCache.isFullyInitialized()||null!=pd(s,Rt()),tl(r,R,m,n.filter.filtersNodes())}}(n,r,R.path,s,c,h):function wT(n,r,e,s,c,h,m){if(null!=pd(c,e))return r;const I=r.serverCache.isFiltered(),D=r.serverCache;if(null!=s.value){if(bt(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return og(n,r,e,D.getNode().getChild(e),c,h,I,m);if(bt(e)){let R=new dn(null);return D.getNode().forEachChild(Xo,(H,V)=>{R=R.set(new Ot(H),V)}),rf(n,r,e,R,c,h,I,m)}return r}{let R=new dn(null);return s.foreach((H,V)=>{const K=mn(e,H);D.isCompleteForPath(K)&&(R=R.set(H,D.getNode().getChild(K)))}),rf(n,r,e,R,c,h,I,m)}}(n,r,R.path,R.affectedTree,s,c,h)}else{if(e.type!==Gi.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);m=function D_(n,r,e,s,c){const h=r.serverCache;return I_(n,RC(r,h.getNode(),h.isFullyInitialized()||bt(e),h.isFiltered()),e,s,Jv,c)}(n,r,e.path,s,h)}const D=h.getChanges();return function FC(n,r,e){const s=r.eventCache;if(s.isFullyInitialized()){const c=s.getNode().isLeafNode()||s.getNode().isEmpty(),h=g_(n);(e.length>0||!n.eventCache.isFullyInitialized()||c&&!s.getNode().equals(h)||!s.getNode().getPriority().equals(h.getPriority()))&&e.push($p(g_(r)))}}(r,m,D),{viewCache:m,changes:D}}(n.processor_,c,r,e,s);return function md(n,r){(0,L.hu)(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,h.viewCache),(0,L.hu)(h.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=h.viewCache,S_(n,h.changes,h.viewCache.eventCache.getNode(),null)}function S_(n,r,e,s){return function AC(n,r,e,s){const c=[],h=[];return r.forEach(m=>{"child_changed"===m.type&&n.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(function CC(n,r){return{type:"child_moved",snapshotNode:r,childName:n}}(m.childName,m.snapshotNode))}),el(n,c,"child_removed",r,s,e),el(n,c,"child_added",r,s,e),el(n,c,"child_moved",h,s,e),el(n,c,"child_changed",r,s,e),el(n,c,"value",r,s,e),c}(n.eventGenerator_,r,e,s?[s]:n.eventRegistrations_)}let _i,cg;class A_{constructor(){this.views=new Map}}function sf(n,r,e,s){const c=r.source.queryId;if(null!==c){const h=n.views.get(c);return(0,L.hu)(null!=h,"SyncTree gave us an op for an invalid query."),VC(h,r,e,s)}{let h=[];for(const m of n.views.values())h=h.concat(VC(m,r,e,s));return h}}function sE(n,r,e,s,c){const m=n.views.get(r._queryIdentifier);if(!m){let I=fd(e,c?s:null),D=!1;I?D=!0:s instanceof ut?(I=y_(e,s),D=!1):(I=ut.EMPTY_NODE,D=!1);const R=Jh(new Uc(I,D,!1),new Uc(s,c,!1));return new UC(r,R)}return m}function ag(n){const r=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||r.push(e);return r}function Dr(n,r){let e=null;for(const s of n.views.values())e=e||BC(s,r);return e}function R_(n,r){return r._queryParams.loadsAllData()?Fn(n):n.views.get(r._queryIdentifier)}function oE(n,r){return null!=R_(n,r)}function rl(n){return null!=Fn(n)}function Fn(n){for(const r of n.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let zC=1;class ug{constructor(r){this.listenProvider_=r,this.syncPointTree_=new dn(null),this.pendingWriteTree_=function ig(){return{visibleWrites:mi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lg(n,r,e,s,c){return function ng(n,r,e,s,c){(0,L.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===c&&(c=!0),n.allWrites.push({path:r,snap:e,writeId:s,visible:c}),c&&(n.visibleWrites=Xh(n.visibleWrites,r,e)),n.lastWriteId=s}(n.pendingWriteTree_,r,e,s,c),c?vd(n,new Fc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,e)):[]}function Hc(n,r,e=!1){const s=function __(n,r){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===r)return s}return null}(n.pendingWriteTree_,r);if(function tf(n,r){const e=n.allWrites.findIndex(I=>I.writeId===r);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let c=s.visible,h=!1,m=n.allWrites.length-1;for(;c&&m>=0;){const I=n.allWrites[m];I.visible&&(m>=e&&PC(I,s.path)?c=!1:Ts(s.path,I.path)&&(h=!0)),m--}return!!c&&(h?(function Zv(n){n.visibleWrites=qv(n.allWrites,NC,Rt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=Xp(n.visibleWrites,s.path):Dn(s.children,D=>{n.visibleWrites=Xp(n.visibleWrites,mn(s.path,D))}),!0))}(n.pendingWriteTree_,r)){let h=new dn(null);return null!=s.snap?h=h.set(Rt(),!0):Dn(s.children,m=>{h=h.set(new Ot(m),!0)}),vd(n,new Jp(s.path,h,e))}return[]}function _d(n,r,e){return vd(n,new Fc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,e))}function dg(n,r,e,s,c=!1){const h=r._path,m=n.syncPointTree_.get(h);let I=[];if(m&&("default"===r._queryIdentifier||oE(m,r))){const D=function $C(n,r,e,s){const c=r._queryIdentifier,h=[];let m=[];const I=rl(n);if("default"===c)for(const[D,R]of n.views.entries())m=m.concat(rE(R,e,s)),T_(R)&&(n.views.delete(D),R.query._queryParams.loadsAllData()||h.push(R.query));else{const D=n.views.get(c);D&&(m=m.concat(rE(D,e,s)),T_(D)&&(n.views.delete(c),D.query._queryParams.loadsAllData()||h.push(D.query)))}return I&&!rl(n)&&h.push(new(function M_(){return(0,L.hu)(_i,"Reference.ts has not been loaded"),_i}())(r._repo,r._path)),{removed:h,events:m}}(m,r,e,s);(function Bc(n){return 0===n.views.size})(m)&&(n.syncPointTree_=n.syncPointTree_.remove(h));const R=D.removed;if(I=D.events,!c){const H=-1!==R.findIndex(K=>K._queryParams.loadsAllData()),V=n.syncPointTree_.findOnPath(h,(K,ve)=>rl(ve));if(H&&!V){const K=n.syncPointTree_.subtree(h);if(!K.isEmpty()){const ve=function KC(n){return n.fold((r,e,s)=>{if(e&&rl(e))return[Fn(e)];{let c=[];return e&&(c=ag(e)),Dn(s,(h,m)=>{c=c.concat(m)}),c}})}(K);for(let Ae=0;Ae<ve.length;++Ae){const xe=ve[Ae],ze=xe.query,Pt=hg(n,xe);n.listenProvider_.startListening(af(ze),Ua(n,ze),Pt.hashFn,Pt.onComplete)}}}!V&&R.length>0&&!s&&(H?n.listenProvider_.stopListening(af(r),null):R.forEach(K=>{const ve=n.queryToTagMap.get(il(K));n.listenProvider_.stopListening(af(K),ve)}))}!function YC(n,r){for(let e=0;e<r.length;++e){const s=r[e];if(!s._queryParams.loadsAllData()){const c=il(s),h=n.queryToTagMap.get(c);n.queryToTagMap.delete(c),n.tagToQueryMap.delete(h)}}}(n,R)}return I}function N_(n,r,e,s){const c=fg(n,s);if(null!=c){const h=pg(c),m=h.path,I=h.queryId,D=pi(m,r);return k_(n,m,new Fc(Yh(I),D,e))}return[]}function go(n,r,e,s=!1){const c=r._path;let h=null,m=!1;n.syncPointTree_.foreachOnPath(c,(K,ve)=>{const Ae=pi(K,c);h=h||Dr(ve,Ae),m=m||rl(ve)});let D,I=n.syncPointTree_.get(c);I?(m=m||rl(I),h=h||Dr(I,Rt())):(I=new A_,n.syncPointTree_=n.syncPointTree_.set(c,I)),null!=h?D=!0:(D=!1,h=ut.EMPTY_NODE,n.syncPointTree_.subtree(c).foreachChild((ve,Ae)=>{const xe=Dr(Ae,Rt());xe&&(h=h.updateImmediateChild(ve,xe))}));const R=oE(I,r);if(!R&&!r._queryParams.loadsAllData()){const K=il(r);(0,L.hu)(!n.queryToTagMap.has(K),"View does not exist, but we have a tag");const ve=function uE(){return zC++}();n.queryToTagMap.set(K,ve),n.tagToQueryMap.set(ve,K)}let V=function CT(n,r,e,s,c,h){const m=sE(n,r,s,c,h);return n.views.has(r._queryIdentifier)||n.views.set(r._queryIdentifier,m),function HC(n,r){n.eventRegistrations_.push(r)}(m,e),function iE(n,r){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ln,(h,m)=>{s.push(ud(h,m))}),e.isFullyInitialized()&&s.push($p(e.getNode())),S_(n,s,e.getNode(),r)}(m,e)}(I,r,e,hd(n.pendingWriteTree_,c),h,D);if(!R&&!m&&!s){const K=R_(I,r);V=V.concat(function bT(n,r,e){const s=r._path,c=Ua(n,r),h=hg(n,e),m=n.listenProvider_.startListening(af(r),c,h.hashFn,h.onComplete),I=n.syncPointTree_.subtree(s);if(c)(0,L.hu)(!rl(I.value),"If we're adding a query, it shouldn't be shadowed");else{const D=I.fold((R,H,V)=>{if(!bt(R)&&H&&rl(H))return[Fn(H).query];{let K=[];return H&&(K=K.concat(ag(H).map(ve=>ve.query))),Dn(V,(ve,Ae)=>{K=K.concat(Ae)}),K}});for(let R=0;R<D.length;++R){const H=D[R];n.listenProvider_.stopListening(af(H),Ua(n,H))}}return m}(n,r,K))}return V}function Fa(n,r,e){const c=n.pendingWriteTree_,h=n.syncPointTree_.findOnPath(r,(m,I)=>{const R=Dr(I,pi(m,r));if(R)return R});return rg(c,r,h,e,!0)}function vd(n,r){return x_(r,n.syncPointTree_,null,hd(n.pendingWriteTree_,Rt()))}function x_(n,r,e,s){if(bt(n.path))return O_(n,r,e,s);{const c=r.get(Rt());null==e&&null!=c&&(e=Dr(c,Rt()));let h=[];const m=vt(n.path),I=n.operationForChild(m),D=r.children.get(m);if(D&&I){const R=e?e.getImmediateChild(m):null,H=w_(s,m);h=h.concat(x_(I,D,R,H))}return c&&(h=h.concat(sf(c,n,s,e))),h}}function O_(n,r,e,s){const c=r.get(Rt());null==e&&null!=c&&(e=Dr(c,Rt()));let h=[];return r.children.inorderTraversal((m,I)=>{const D=e?e.getImmediateChild(m):null,R=w_(s,m),H=n.operationForChild(m);H&&(h=h.concat(O_(H,I,D,R)))}),c&&(h=h.concat(sf(c,n,s,e))),h}function hg(n,r){const e=r.query,s=Ua(n,e);return{hashFn:()=>(function jC(n){return n.viewCache_.serverCache.getNode()}(r)||ut.EMPTY_NODE).hash(),onComplete:c=>{if("ok"===c)return s?function ZC(n,r,e){const s=fg(n,e);if(s){const c=pg(s),h=c.path,m=c.queryId,I=pi(h,r);return k_(n,h,new Qh(Yh(m),I))}return[]}(n,e._path,s):function GC(n,r){return vd(n,new Qh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(n,e._path);{const h=function Km(n,r){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+r._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(c,e);return dg(n,e,null,h)}}}}function Ua(n,r){const e=il(r);return n.queryToTagMap.get(e)}function il(n){return n._path.toString()+"$"+n._queryIdentifier}function fg(n,r){return n.tagToQueryMap.get(r)}function pg(n){const r=n.indexOf("$");return(0,L.hu)(-1!==r&&r<n.length-1,"Bad queryKey."),{queryId:n.substr(r+1),path:new Ot(n.substr(0,r))}}function k_(n,r,e){const s=n.syncPointTree_.get(r);return(0,L.hu)(s,"Missing sync point for query tag that we're tracking"),sf(s,e,hd(n.pendingWriteTree_,r),null)}function af(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function WC(){return(0,L.hu)(cg,"Reference.ts has not been loaded"),cg}())(n._repo,n._path):n}class L_{constructor(r){this.node_=r}getImmediateChild(r){const e=this.node_.getImmediateChild(r);return new L_(e)}node(){return this.node_}}class lE{constructor(r,e){this.syncTree_=r,this.path_=e}getImmediateChild(r){const e=mn(this.path_,r);return new lE(this.syncTree_,e)}node(){return Fa(this.syncTree_,this.path_)}}const DT=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},F_=function(n,r,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?dE(n[".sv"],r,e):"object"==typeof n[".sv"]?TT(n[".sv"],r):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},dE=function(n,r,e){if("timestamp"===n)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},TT=function(n,r,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,L.hu)(!1,"Unexpected increment value: "+s);const c=r.node();if((0,L.hu)(null!==c&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return s;const m=c.getValue();return"number"!=typeof m?s:m+s},cf=function(n,r,e,s){return gg(r,new lE(e,n),s)},hE=function(n,r,e){return gg(n,new L_(r),e)};function gg(n,r,e){const s=n.getPriority().val(),c=F_(s,r.getImmediateChild(".priority"),e);let h;if(n.isLeafNode()){const m=n,I=F_(m.getValue(),r,e);return I!==m.getValue()||c!==m.getPriority().val()?new Qu(I,Yt(c)):n}{const m=n;return h=m,c!==m.getPriority().val()&&(h=h.updatePriority(new Qu(c))),m.forEachChild(ln,(I,D)=>{const R=gg(D,r.getImmediateChild(I),e);R!==D&&(h=h.updateImmediateChild(I,R))}),h}}class mg{constructor(r="",e=null,s={children:{},childCount:0}){this.name=r,this.parent=e,this.node=s}}function _g(n,r){let e=r instanceof Ot?r:new Ot(r),s=n,c=vt(e);for(;null!==c;){const h=(0,L.DV)(s.node.children,c)||{children:{},childCount:0};s=new mg(c,s,h),e=Ut(e),c=vt(e)}return s}function Vc(n){return n.node.value}function yg(n,r){n.node.value=r,Ed(n)}function ht(n){return n.node.childCount>0}function uf(n,r){Dn(n.node.children,(e,s)=>{r(new mg(e,n,s))})}function sl(n,r,e,s){e&&!s&&r(n),uf(n,c=>{sl(c,r,!0,s)}),e&&s&&r(n)}function lf(n){return new Ot(null===n.parent?n.name:lf(n.parent)+"/"+n.name)}function Ed(n){null!==n.parent&&function wd(n,r,e){const s=function fE(n){return void 0===Vc(n)&&!ht(n)}(e),c=(0,L.r3)(n.node.children,r);s&&c?(delete n.node.children[r],n.node.childCount--,Ed(n)):!s&&!c&&(n.node.children[r]=e.node,n.node.childCount++,Ed(n))}(n.parent,n.name,n)}const U_=/[\[\].#$\/\u0000-\u001F\u007F]/,df=/[\[\].#$\u0000-\u001F\u007F]/,vg=10485760,Id=function(n){return"string"==typeof n&&0!==n.length&&!U_.test(n)},Eg=function(n){return"string"==typeof n&&0!==n.length&&!df.test(n)},Cd=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Xl(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},Ps=function(n,r,e,s){s&&void 0===r||hf((0,L.gK)(n,"value"),r,e)},hf=function(n,r,e){const s=e instanceof Ot?new id(e,n):e;if(void 0===r)throw new Error(n+"contains undefined "+Oc(s));if("function"==typeof r)throw new Error(n+"contains a function "+Oc(s)+" with contents = "+r.toString());if(Xl(r))throw new Error(n+"contains "+r.toString()+" "+Oc(s));if("string"==typeof r&&r.length>vg/3&&(0,L.ug)(r)>vg)throw new Error(n+"contains a string greater than "+vg+" utf8 bytes "+Oc(s)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let c=!1,h=!1;if(Dn(r,(m,I)=>{if(".value"===m)c=!0;else if(".priority"!==m&&".sv"!==m&&(h=!0,!Id(m)))throw new Error(n+" contains an invalid key ("+m+") "+Oc(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Lp(n,r){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(r),n.byteLength_+=(0,L.ug)(r),n_(n)})(s,m),hf(n,I,s),function t_(n){const r=n.parts_.pop();n.byteLength_-=(0,L.ug)(r),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),c&&h)throw new Error(n+' contains ".value" child '+Oc(s)+" in addition to actual children.")}},gE=function(n,r,e,s){if(s&&void 0===r)return;const c=(0,L.gK)(n,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(c+" must be an object containing the children to replace.");const h=[];Dn(r,(m,I)=>{const D=new Ot(m);if(hf(c,I,mn(e,D)),".priority"===rd(D)&&!Cd(I))throw new Error(c+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(D)}),function(n,r){let e,s;for(e=0;e<r.length;e++){s=r[e];const h=Ku(s);for(let m=0;m<h.length;m++)if((".priority"!==h[m]||m!==h.length-1)&&!Id(h[m]))throw new Error(n+"contains an invalid key ("+h[m]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(hC);let c=null;for(e=0;e<r.length;e++){if(s=r[e],null!==c&&Ts(c,s))throw new Error(n+"contains a path "+c.toString()+" that is ancestor of another path "+s.toString());c=s}}(c,h)},wg=function(n,r,e){if(!e||void 0!==r){if(Xl(r))throw new Error((0,L.gK)(n,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Cd(r))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ff=function(n,r,e,s){if(!(s&&void 0===e||Id(e)))throw new Error((0,L.gK)(n,r)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pf=function(n,r,e,s){if(!(s&&void 0===e||Eg(e)))throw new Error((0,L.gK)(n,r)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},JC=function(n,r,e,s){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),pf(n,r,e,s)},Ns=function(n,r){if(".info"===vt(r))throw new Error(n+" failed = Can't modify data under /.info/")},B_=function(n,r){const e=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Id(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Eg(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class mE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ig(n,r){let e=null;for(let s=0;s<r.length;s++){const c=r[s],h=c.getPath();null!==e&&!$h(h,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:h}),e.events.push(c)}e&&n.eventLists_.push(e)}function _E(n,r,e){Ig(n,e),yE(n,s=>$h(s,r))}function hn(n,r,e){Ig(n,e),yE(n,s=>Ts(s,r)||Ts(r,s))}function yE(n,r){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const c=n.eventLists_[s];c&&(r(c.path)?(XC(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function XC(n){for(let r=0;r<n.events.length;r++){const e=n.events[r];if(null!==e){n.events[r]=null;const s=e.getEventRunner();ao&&An("event: "+e.toString()),Ac(s)}}}const eb="repo_interrupt",H_=25;class vE{constructor(r,e,s,c){this.repoInfo_=r,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zp(),this.transactionQueueTree_=new mg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function EE(n){const e=n.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function gf(n){return DT({timestamp:EE(n)})}function V_(n,r,e,s,c){n.dataUpdateCount++;const h=new Ot(r);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(r,e):e;let m=[];if(c)if(s){const D=(0,L.UI)(e,R=>Yt(R));m=function yd(n,r,e,s){const c=fg(n,s);if(c){const h=pg(c),m=h.path,I=h.queryId,D=pi(m,r),R=dn.fromObject(e);return k_(n,m,new fo(Yh(I),D,R))}return[]}(n.serverSyncTree_,h,D,c)}else{const D=Yt(e);m=N_(n.serverSyncTree_,h,D,c)}else if(s){const D=(0,L.UI)(e,R=>Yt(R));m=function cE(n,r,e){const s=dn.fromObject(e);return vd(n,new fo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,s))}(n.serverSyncTree_,h,D)}else{const D=Yt(e);m=_d(n.serverSyncTree_,h,D)}let I=h;m.length>0&&(I=Wc(n,h)),hn(n.eventQueue_,I,m)}function wE(n,r){mf(n,"connected",r),!1===r&&function sb(n){$c(n,"onDisconnectEvents");const r=gf(n),e=Zp();Kp(n.onDisconnect_,Rt(),(c,h)=>{const m=cf(c,h,n.serverSyncTree_,r);Lc(e,c,m)});let s=[];Kp(e,Rt(),(c,h)=>{s=s.concat(_d(n.serverSyncTree_,c,h));const m=Rg(n,c);Wc(n,m)}),n.onDisconnect_=Zp(),hn(n.eventQueue_,Rt(),s)}(n)}function mf(n,r,e){const s=new Ot("/.info/"+r),c=Yt(e);n.infoData_.updateSnapshot(s,c);const h=_d(n.infoSyncTree_,s,c);hn(n.eventQueue_,s,h)}function Cg(n){return n.nextWriteId_++}function $_(n,r,e,s,c){$c(n,"set",{path:r.toString(),value:e,priority:s});const h=gf(n),m=Yt(e,s),I=Fa(n.serverSyncTree_,r),D=hE(m,I,h),R=Cg(n),H=lg(n.serverSyncTree_,r,D,R,!0);Ig(n.eventQueue_,H),n.server_.put(r.toString(),m.val(!0),(K,ve)=>{const Ae="ok"===K;Ae||tr("set at "+r+" failed: "+K);const xe=Hc(n.serverSyncTree_,R,!Ae);hn(n.eventQueue_,r,xe),ol(0,c,K,ve)});const V=Rg(n,r);Wc(n,V),hn(n.eventQueue_,V,[])}function ea(n,r,e){n.server_.onDisconnectCancel(r.toString(),(s,c)=>{"ok"===s&&qp(n.onDisconnect_,r),ol(0,e,s,c)})}function bg(n,r,e,s){const c=Yt(e);n.server_.onDisconnectPut(r.toString(),c.val(!0),(h,m)=>{"ok"===h&&Lc(n.onDisconnect_,r,c),ol(0,s,h,m)})}function Dg(n,r,e){let s;s=".info"===vt(r._path)?dg(n.infoSyncTree_,r,e):dg(n.serverSyncTree_,r,e),_E(n.eventQueue_,r._path,s)}function W_(n){n.persistentConnection_&&n.persistentConnection_.interrupt(eb)}function $c(n,...r){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),An(e,...r)}function ol(n,r,e,s){r&&Ac(()=>{if("ok"===e)r(null);else{const c=(e||"error").toUpperCase();let h=c;s&&(h+=": "+s);const m=new Error(h);m.code=c,r(m)}})}function Sg(n,r,e){return Fa(n.serverSyncTree_,r,e)||ut.EMPTY_NODE}function _f(n,r=n.transactionQueueTree_){if(r||Mg(n,r),Vc(r)){const e=TE(n,r);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(c=>0===c.status)&&function bE(n,r,e){const s=e.map(R=>R.currentWriteId),c=Sg(n,r,s);let h=c;const m=c.hash();for(let R=0;R<e.length;R++){const H=e[R];(0,L.hu)(0===H.status,"tryToSendTransactionQueue_: items in queue should all be run."),H.status=1,H.retryCount++;const V=pi(r,H.path);h=h.updateChild(V,H.currentOutputSnapshotRaw)}const I=h.val(!0),D=r;n.server_.put(D.toString(),I,R=>{$c(n,"transaction put response",{path:D.toString(),status:R});let H=[];if("ok"===R){const V=[];for(let K=0;K<e.length;K++)e[K].status=2,H=H.concat(Hc(n.serverSyncTree_,e[K].currentWriteId)),e[K].onComplete&&V.push(()=>e[K].onComplete(null,!0,e[K].currentOutputSnapshotResolved)),e[K].unwatcher();Mg(n,_g(n.transactionQueueTree_,r)),_f(n,n.transactionQueueTree_),hn(n.eventQueue_,r,H);for(let K=0;K<V.length;K++)Ac(V[K])}else{if("datastale"===R)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{tr("transaction at "+D.toString()+" failed: "+R);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=R}Wc(n,r)}},m)}(n,lf(r),e)}else ht(r)&&uf(r,e=>{_f(n,e)})}function Wc(n,r){const e=DE(n,r),s=lf(e);return function ja(n,r,e){if(0===r.length)return;const s=[];let c=[];const m=r.filter(I=>0===I.status).map(I=>I.currentWriteId);for(let I=0;I<r.length;I++){const D=r[I],R=pi(e,D.path);let V,H=!1;if((0,L.hu)(null!==R,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)H=!0,V=D.abortReason,c=c.concat(Hc(n.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=H_)H=!0,V="maxretry",c=c.concat(Hc(n.serverSyncTree_,D.currentWriteId,!0));else{const K=Sg(n,D.path,m);D.currentInputSnapshot=K;const ve=r[I].update(K.val());if(void 0!==ve){hf("transaction failed: Data returned ",ve,D.path);let Ae=Yt(ve);"object"==typeof ve&&null!=ve&&(0,L.r3)(ve,".priority")||(Ae=Ae.updatePriority(K.getPriority()));const ze=D.currentWriteId,Pt=gf(n),Vt=hE(Ae,K,Pt);D.currentOutputSnapshotRaw=Ae,D.currentOutputSnapshotResolved=Vt,D.currentWriteId=Cg(n),m.splice(m.indexOf(ze),1),c=c.concat(lg(n.serverSyncTree_,D.path,Vt,D.currentWriteId,D.applyLocally)),c=c.concat(Hc(n.serverSyncTree_,ze,!0))}else H=!0,V="nodata",c=c.concat(Hc(n.serverSyncTree_,D.currentWriteId,!0))}hn(n.eventQueue_,e,c),c=[],H&&(r[I].status=2,setTimeout(r[I].unwatcher,Math.floor(0)),r[I].onComplete&&s.push("nodata"===V?()=>r[I].onComplete(null,!1,r[I].currentInputSnapshot):()=>r[I].onComplete(new Error(V),!1,null)))}Mg(n,n.transactionQueueTree_);for(let I=0;I<s.length;I++)Ac(s[I]);_f(n,n.transactionQueueTree_)}(n,TE(n,e),s),s}function DE(n,r){let e,s=n.transactionQueueTree_;for(e=vt(r);null!==e&&void 0===Vc(s);)s=_g(s,e),e=vt(r=Ut(r));return s}function TE(n,r){const e=[];return Ag(n,r,e),e.sort((s,c)=>s.order-c.order),e}function Ag(n,r,e){const s=Vc(r);if(s)for(let c=0;c<s.length;c++)e.push(s[c]);uf(r,c=>{Ag(n,c,e)})}function Mg(n,r){const e=Vc(r);if(e){let s=0;for(let c=0;c<e.length;c++)2!==e[c].status&&(e[s]=e[c],s++);e.length=s,yg(r,e.length>0?e:void 0)}uf(r,s=>{Mg(n,s)})}function Rg(n,r){const e=lf(DE(n,r)),s=_g(n.transactionQueueTree_,r);return function pE(n,r,e){let s=e?n:n.parent;for(;null!==s;){if(r(s))return!0;s=s.parent}}(s,c=>{z_(n,c)}),z_(n,s),sl(s,c=>{z_(n,c)}),e}function z_(n,r){const e=Vc(r);if(e){const s=[];let c=[],h=-1;for(let m=0;m<e.length;m++)3===e[m].status||(1===e[m].status?((0,L.hu)(h===m-1,"All SENT items should be at beginning of queue."),h=m,e[m].status=3,e[m].abortReason="set"):((0,L.hu)(0===e[m].status,"Unexpected transaction status in abort"),e[m].unwatcher(),c=c.concat(Hc(n.serverSyncTree_,e[m].currentWriteId,!0)),e[m].onComplete&&s.push(e[m].onComplete.bind(null,new Error("set"),!1,null))));-1===h?yg(r,void 0):e.length=h+1,hn(n.eventQueue_,lf(r),c);for(let m=0;m<s.length;m++)Ac(s[m])}}const Ng=function(n,r){const e=xg(n),s=e.namespace;return"firebase.com"===e.domain&&co(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&co("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new xh(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,r,"",s!==e.subdomain),path:new Ot(e.pathString)}},xg=function(n){let r="",e="",s="",c="",h="",m=!0,I="https",D=443;if("string"==typeof n){let R=n.indexOf("//");R>=0&&(I=n.substring(0,R-1),n=n.substring(R+2));let H=n.indexOf("/");-1===H&&(H=n.length);let V=n.indexOf("?");-1===V&&(V=n.length),r=n.substring(0,Math.min(H,V)),H<V&&(c=function Pg(n){let r="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let c=e[s];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}r+="/"+c}return r}(n.substring(H,V)));const K=function yf(n){const r={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):tr(`Invalid query segment '${e}' in query '${n}'`)}return r}(n.substring(Math.min(n.length,V)));R=r.indexOf(":"),R>=0?(m="https"===I||"wss"===I,D=parseInt(r.substring(R+1),10)):R=r.length;const ve=r.slice(0,R);if("localhost"===ve.toLowerCase())e="localhost";else if(ve.split(".").length<=2)e=ve;else{const Ae=r.indexOf(".");s=r.substring(0,Ae).toLowerCase(),e=r.substring(Ae+1),h=s}"ns"in K&&(h=K.ns)}return{host:r,port:D,domain:e,subdomain:s,secure:m,scheme:I,pathString:c,namespace:h}},cb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ub=function(){let n=0;const r=[];return function(e){const s=e===n;let c;n=e;const h=new Array(8);for(c=7;c>=0;c--)h[c]=cb.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let m=h.join("");if(s){for(c=11;c>=0&&63===r[c];c--)r[c]=0;r[c]++}else for(c=0;c<12;c++)r[c]=Math.floor(64*Math.random());for(c=0;c<12;c++)m+=cb.charAt(r[c]);return(0,L.hu)(20===m.length,"nextPushId: Length should be 20."),m}}();class G_{constructor(r,e,s,c){this.eventType=r,this.eventRegistration=e,this.snapshot=s,this.prevName=c}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Wl)(this.snapshot.exportVal())}}class Z_{constructor(r,e,s){this.eventRegistration=r,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class q_{constructor(r,e){this.snapshotCallback=r,this.cancelCallback=e}onValue(r,e){this.snapshotCallback.call(null,r,e)}onCancel(r){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class SE{constructor(r,e){this._repo=r,this._path=e}cancel(){const r=new L.BH;return ea(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){Ns("OnDisconnect.remove",this._path);const r=new L.BH;return bg(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){Ns("OnDisconnect.set",this._path),Ps("OnDisconnect.set",r,this._path,!1);const e=new L.BH;return bg(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}setWithPriority(r,e){Ns("OnDisconnect.setWithPriority",this._path),Ps("OnDisconnect.setWithPriority",r,this._path,!1),wg("OnDisconnect.setWithPriority",e,!1);const s=new L.BH;return function ob(n,r,e,s,c){const h=Yt(e,s);n.server_.onDisconnectPut(r.toString(),h.val(!0),(m,I)=>{"ok"===m&&Lc(n.onDisconnect_,r,h),ol(0,c,m,I)})}(this._repo,this._path,r,e,s.wrapCallback(()=>{})),s.promise}update(r){Ns("OnDisconnect.update",this._path),gE("OnDisconnect.update",r,this._path,!1);const e=new L.BH;return function IE(n,r,e,s){if((0,L.xb)(e))return An("onDisconnect().update() called with empty data.  Don't do anything."),void ol(0,s,"ok",void 0);n.server_.onDisconnectMerge(r.toString(),e,(c,h)=>{"ok"===c&&Dn(e,(m,I)=>{const D=Yt(I);Lc(n.onDisconnect_,mn(r,m),D)}),ol(0,s,c,h)})}(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}}class Jr{constructor(r,e,s,c){this._repo=r,this._path=e,this._queryParams=s,this._orderByCalled=c}get key(){return bt(this._path)?null:rd(this._path)}get ref(){return new Zi(this._repo,this._path)}get _queryIdentifier(){const r=Kh(this._queryParams),e=Bu(r);return"{}"===e?"default":e}get _queryObject(){return Kh(this._queryParams)}isEqual(r){if(!((r=(0,L.m9)(r))instanceof Jr))return!1;const e=this._repo===r._repo,s=$h(this._path,r._path);return e&&s&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function kp(n){let r="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(r+="/"+encodeURIComponent(String(n.pieces_[e])));return r||"/"}(this._path)}}function vf(n,r){if(!0===n._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function xs(n){let r=null,e=null;if(n.hasStart()&&(r=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Xo){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",c="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==zi)throw new Error(s);if("string"!=typeof r)throw new Error(c)}if(n.hasEnd()){if(n.getIndexEndName()!==Es)throw new Error(s);if("string"!=typeof e)throw new Error(c)}}else if(n.getIndex()===ln){if(null!=r&&!Cd(r)||null!=e&&!Cd(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof u_||n.getIndex()===Vp,"unknown index type."),null!=r&&"object"==typeof r||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Og(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zi extends Jr{constructor(r,e){super(r,e,new kc,!1)}get parent(){const r=Yu(this._path);return null===r?null:new Zi(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class zc{constructor(r,e,s){this._node=r,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const e=new Ot(r),s=mo(this.ref,r);return new zc(this._node.getChild(e),s,ln)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,c)=>r(new zc(c,mo(this.ref,s),ln)))}hasChild(r){const e=new Ot(r);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function AE(n,r){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==r?mo(n._root,r):n._root}function ME(n,r){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=Ng(r,n._repo.repoInfo_.nodeAdmin);B_("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&co("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),AE(n,e.path.toString())}function mo(n,r){return null===vt((n=(0,L.m9)(n))._path)?JC("child","path",r,!1):pf("child","path",r,!1),new Zi(n._repo,mn(n._path,r))}function K_(n,r){n=(0,L.m9)(n),Ns("set",n._path),Ps("set",r,n._path,!1);const e=new L.BH;return $_(n._repo,n._path,r,null,e.wrapCallback(()=>{})),e.promise}function pb(n,r){gE("update",r,n._path,!1);const e=new L.BH;return function ib(n,r,e,s){$c(n,"update",{path:r.toString(),value:e});let c=!0;const h=gf(n),m={};if(Dn(e,(I,D)=>{c=!1,m[I]=cf(mn(r,I),Yt(D),n.serverSyncTree_,h)}),c)An("update() called with empty data.  Don't do anything."),ol(0,s,"ok",void 0);else{const I=Cg(n),D=function aE(n,r,e,s){!function yT(n,r,e,s){(0,L.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:r,children:e,writeId:s,visible:!0}),n.visibleWrites=ef(n.visibleWrites,r,e),n.lastWriteId=s}(n.pendingWriteTree_,r,e,s);const c=dn.fromObject(e);return vd(n,new fo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,c))}(n.serverSyncTree_,r,m,I);Ig(n.eventQueue_,D),n.server_.merge(r.toString(),e,(R,H)=>{const V="ok"===R;V||tr("update at "+r+" failed: "+R);const K=Hc(n.serverSyncTree_,I,!V),ve=K.length>0?Wc(n,r):r;hn(n.eventQueue_,ve,K),ol(0,s,R,H)}),Dn(e,R=>{const H=Rg(n,mn(r,R));Wc(n,H)}),hn(n.eventQueue_,r,[])}}(n._repo,n._path,r,e.wrapCallback(()=>{})),e.promise}function gb(n){n=(0,L.m9)(n);const r=new q_(()=>{}),e=new bd(r);return function rb(n,r,e){const s=function qC(n,r){const e=r._path;let s=null;n.syncPointTree_.foreachOnPath(e,(R,H)=>{const V=pi(R,e);s=s||Dr(H,V)});let c=n.syncPointTree_.get(e);c?s=s||Dr(c,Rt()):(c=new A_,n.syncPointTree_=n.syncPointTree_.set(e,c));const h=null!=s,m=h?new Uc(s,!0,!1):null;return function nE(n){return g_(n.viewCache_)}(sE(c,r,hd(n.pendingWriteTree_,r._path),h?m.getNode():ut.EMPTY_NODE,h))}(n.serverSyncTree_,r);return null!=s?Promise.resolve(s):n.server_.get(r).then(c=>{const h=Yt(c).withIndex(r._queryParams.getIndex());let m;if(go(n.serverSyncTree_,r,e,!0),r._queryParams.loadsAllData())m=_d(n.serverSyncTree_,r._path,h);else{const I=Ua(n.serverSyncTree_,r);m=N_(n.serverSyncTree_,r._path,h,I)}return hn(n.eventQueue_,r._path,m),dg(n.serverSyncTree_,r,e,null,!0),h},c=>($c(n,"get for query "+(0,L.Wl)(r)+" failed: "+c),Promise.reject(new Error(c))))}(n._repo,n,e).then(s=>new zc(s,new Zi(n._repo,n._path),n._queryParams.getIndex()))}class bd{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,e){const s=e._queryParams.getIndex();return new G_("value",this,new zc(r.snapshotNode,new Zi(e._repo,e._path),s))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new Z_(this,r,e):null}matches(r){return r instanceof bd&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Dd{constructor(r,e){this.eventType=r,this.callbackContext=e}respondsTo(r){let e="children_added"===r?"child_added":r;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new Z_(this,r,e):null}createEvent(r,e){(0,L.hu)(null!=r.childName,"Child events should have a childName.");const s=mo(new Zi(e._repo,e._path),r.childName),c=e._queryParams.getIndex();return new G_(r.type,this,new zc(r.snapshotNode,s,c),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Dd&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ef(n,r,e,s,c){let h;if("object"==typeof s&&(h=void 0,c=s),"function"==typeof s&&(h=s),c&&c.onlyOnce){const D=e,R=(H,V)=>{Dg(n._repo,n,I),D(H,V)};R.userCallback=e.userCallback,R.context=e.context,e=R}const m=new q_(e,h||void 0),I="value"===r?new bd(m):new Dd(r,m);return function ab(n,r,e){let s;s=".info"===vt(r._path)?go(n.infoSyncTree_,r,e):go(n.serverSyncTree_,r,e),_E(n.eventQueue_,r._path,s)}(n._repo,n,I),()=>Dg(n._repo,n,I)}function Td(n,r,e,s){return Ef(n,"value",r,e,s)}function RE(n,r,e,s){return Ef(n,"child_added",r,e,s)}function PE(n,r,e,s){return Ef(n,"child_changed",r,e,s)}function NE(n,r,e,s){return Ef(n,"child_moved",r,e,s)}function xE(n,r,e,s){return Ef(n,"child_removed",r,e,s)}function OE(n,r,e){let s=null;const c=e?new q_(e):null;"value"===r?s=new bd(c):r&&(s=new Dd(r,c)),Dg(n._repo,n,s)}class _o{}class kE extends _o{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Ps("endAt",this._value,r._path,!0);const e=Zh(r._queryParams,this._value,this._key);if(Og(e),xs(e),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jr(r._repo,r._path,e,r._orderByCalled)}}class FE extends _o{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Ps("endBefore",this._value,r._path,!1);const e=function bC(n,r,e){let s;return s=Zh(n,r,n.index_===Xo||e?e:zi),s.endBeforeSet_=!0,s}(r._queryParams,this._value,this._key);if(Og(e),xs(e),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jr(r._repo,r._path,e,r._orderByCalled)}}class _b extends _o{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Ps("startAt",this._value,r._path,!0);const e=Gp(r._queryParams,this._value,this._key);if(Og(e),xs(e),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Jr(r._repo,r._path,e,r._orderByCalled)}}class jE extends _o{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Ps("startAfter",this._value,r._path,!1);const e=function l_(n,r,e){let s;return s=Gp(n,r,n.index_===Xo||e?e:Es),s.startAfterSet_=!0,s}(r._queryParams,this._value,this._key);if(Og(e),xs(e),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Jr(r._repo,r._path,e,r._orderByCalled)}}class kg extends _o{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jr(r._repo,r._path,function Gh(n,r){const e=n.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="l",e}(r._queryParams,this._limit),r._orderByCalled)}}class vb extends _o{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jr(r._repo,r._path,function zv(n,r){const e=n.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="r",e}(r._queryParams,this._limit),r._orderByCalled)}}class Eb extends _o{constructor(r){super(),this._path=r}_apply(r){vf(r,"orderByChild");const e=new Ot(this._path);if(bt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new u_(e),c=qh(r._queryParams,s);return xs(c),new Jr(r._repo,r._path,c,!0)}}class wf extends _o{_apply(r){vf(r,"orderByKey");const e=qh(r._queryParams,Xo);return xs(e),new Jr(r._repo,r._path,e,!0)}}class al extends _o{_apply(r){vf(r,"orderByPriority");const e=qh(r._queryParams,ln);return xs(e),new Jr(r._repo,r._path,e,!0)}}class Os extends _o{_apply(r){vf(r,"orderByValue");const e=qh(r._queryParams,Vp);return xs(e),new Jr(r._repo,r._path,e,!0)}}class Sd extends _o{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){if(Ps("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new kE(this._value,this._key)._apply(new _b(this._value,this._key)._apply(r))}}function jr(n,...r){let e=(0,L.m9)(n);for(const s of r)e=s._apply(e);return e}(function IT(n){(0,L.hu)(!_i,"__referenceConstructor has already been defined"),_i=n})(Zi),function P_(n){(0,L.hu)(!cg,"__referenceConstructor has already been defined"),cg=n}(Zi);const Gc={};function ul(n,r,e,s,c){let h=s||n.options.databaseURL;void 0===h&&(n.options.projectId||co("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),An("Using default host for project ",n.options.projectId),h=`${n.options.projectId}-default-rtdb.firebaseio.com`);let D,R,m=Ng(h,c),I=m.repoInfo;typeof process<"u"&&process.env&&(R=process.env.FIREBASE_DATABASE_EMULATOR_HOST),R?(D=!0,h=`http://${R}?ns=${I.namespace}`,m=Ng(h,c),I=m.repoInfo):D=!m.repoInfo.secure;const H=c&&D?new Gn(Gn.OWNER):new Jm(n.name,n.options,r);B_("Invalid Firebase Database URL",m),bt(m.path)||co("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function BE(n,r,e,s){let c=Gc[r.name];c||(c={},Gc[r.name]=c);let h=c[n.toURLString()];return h&&co("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new vE(n,false,e,s),c[n.toURLString()]=h,h}(I,n,H,new Qm(n.name,e));return new VE(V,n)}class VE{constructor(r,e){this._repoInternal=r,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function tb(n,r,e){if(n.stats_=Oh(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new h_(n.repoInfo_,(s,c,h,m)=>{V_(n,s,c,h,m)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>wE(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Ss(n.repoInfo_,r,(s,c,h,m)=>{V_(n,s,c,h,m)},s=>{wE(n,s)},s=>{!function nb(n,r){Dn(r,(e,s)=>{mf(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function Ra(n,r){const e=n.toString();return Nc[e]||(Nc[e]=r()),Nc[e]}(n.repoInfo_,()=>new p_(n.stats_,n.server_)),n.infoData_=new f_,n.infoSyncTree_=new ug({startListening:(s,c,h,m)=>{let I=[];const D=n.infoData_.getNode(s._path);return D.isEmpty()||(I=_d(n.infoSyncTree_,s._path,D),setTimeout(()=>{m("ok")},0)),I},stopListening:()=>{}}),mf(n,"connected",!1),n.serverSyncTree_=new ug({startListening:(s,c,h,m)=>(n.server_.listen(s,h,c,(I,D)=>{const R=m(I,D);hn(n.eventQueue_,s._path,R)}),[]),stopListening:(s,c)=>{n.server_.unlisten(s,c)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zi(this._repo,Rt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Pd(n,r){const e=Gc[r];(!e||e[n.key]!==n)&&co(`Database ${r}(${n.repoInfo_}) has already been deleted.`),W_(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&co("Cannot call "+r+" on a deleted database.")}}function J_(){g.IS_TRANSPORT_INITIALIZED&&tr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $E(){J_(),bs.forceDisallow()}function WE(){J_(),Na.forceDisallow(),bs.forceAllow()}function Ib(n,r){Th(n,r)}const RT={".sv":"timestamp"};class PT{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ss.prototype.simpleListen=function(n,r){this.sendRequest("q",{p:n},r)},Ss.prototype.echo=function(n,r){this.sendRequest("echo",{d:n},r)},function MT(n){Dh(Cc.SDK_VERSION),(0,Cc._registerComponent)(new $i.wA("database",(r,{instanceIdentifier:e})=>ul(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Cc.registerVersion)(Cp,"0.14.4",n),(0,Cc.registerVersion)(Cp,"0.14.4","esm2017")}();const ty=new bc.Yd("@firebase/database-compat"),Nd=function(n){ty.warn("FIREBASE WARNING: "+n)};class GE{constructor(r){this._delegate=r}cancel(r){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",r,!0);const e=this._delegate.cancel();return r&&e.then(()=>r(null),s=>r(s)),e}remove(r){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",r,!0);const e=this._delegate.remove();return r&&e.then(()=>r(null),s=>r(s)),e}set(r,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(r);return e&&s.then(()=>e(null),c=>e(c)),s}setWithPriority(r,e,s){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const c=this._delegate.setWithPriority(r,e);return s&&c.then(()=>s(null),h=>s(h)),c}update(r,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const c={};for(let h=0;h<r.length;++h)c[""+h]=r[h];r=c,Nd("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(r);return e&&s.then(()=>e(null),c=>e(c)),s}}class If{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ba{constructor(r,e){this._database=r,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),pf("DataSnapshot.child","path",r,!1),new Ba(this._database,this._delegate.child(r))}hasChild(r){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),pf("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(e=>r(new Ba(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new Sr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Tr{constructor(r,e){this.database=r,this._delegate=e}on(r,e,s,c){var h;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const m=Tr.getCancelAndContextArgs_("Query.on",s,c),I=(R,H)=>{e.call(m.context,new Ba(this.database,R),H)};I.userCallback=e,I.context=m.context;const D=null===(h=m.cancel)||void 0===h?void 0:h.bind(m.context);switch(r){case"value":return Td(this._delegate,I,D),e;case"child_added":return RE(this._delegate,I,D),e;case"child_removed":return xE(this._delegate,I,D),e;case"child_changed":return PE(this._delegate,I,D),e;case"child_moved":return NE(this._delegate,I,D),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,e,s){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,r,e){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",s,!0),e){const c=()=>{};c.userCallback=e,c.context=s,OE(this._delegate,r,c)}else OE(this._delegate,r)}get(){return gb(this._delegate).then(r=>new Ba(this.database,r))}once(r,e,s,c){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const h=Tr.getCancelAndContextArgs_("Query.once",s,c),m=new L.BH,I=(R,H)=>{const V=new Ba(this.database,R);e&&e.call(h.context,V,H),m.resolve(V)};I.userCallback=e,I.context=h.context;const D=R=>{h.cancel&&h.cancel.call(h.context,R),m.reject(R)};switch(r){case"value":Td(this._delegate,I,D,{onlyOnce:!0});break;case"child_added":RE(this._delegate,I,D,{onlyOnce:!0});break;case"child_removed":xE(this._delegate,I,D,{onlyOnce:!0});break;case"child_changed":PE(this._delegate,I,D,{onlyOnce:!0});break;case"child_moved":NE(this._delegate,I,D,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return m.promise}limitToFirst(r){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new Tr(this.database,jr(this._delegate,function yb(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new kg(n)}(r)))}limitToLast(r){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new Tr(this.database,jr(this._delegate,function Y_(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vb(n)}(r)))}orderByChild(r){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new Tr(this.database,jr(this._delegate,function ta(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return pf("orderByChild","path",n,!1),new Eb(n)}(r)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new Tr(this.database,jr(this._delegate,function Ur(){return new wf}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new Tr(this.database,jr(this._delegate,function Lg(){return new al}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new Tr(this.database,jr(this._delegate,function Q_(){return new Os}()))}startAt(r=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new Tr(this.database,jr(this._delegate,function UE(n=null,r){return ff("startAt","key",r,!0),new _b(n,r)}(r,e)))}startAfter(r=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new Tr(this.database,jr(this._delegate,function AT(n,r){return ff("startAfter","key",r,!0),new jE(n,r)}(r,e)))}endAt(r=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new Tr(this.database,jr(this._delegate,function LE(n,r){return ff("endAt","key",r,!0),new kE(n,r)}(r,e)))}endBefore(r=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new Tr(this.database,jr(this._delegate,function mb(n,r){return ff("endBefore","key",r,!0),new FE(n,r)}(r,e)))}equalTo(r,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new Tr(this.database,jr(this._delegate,function Ad(n,r){return ff("equalTo","key",r,!0),new Sd(n,r)}(r,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Tr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,e,s){const c={cancel:void 0,context:void 0};if(e&&s)c.cancel=e,(0,L.Wj)(r,"cancel",c.cancel,!0),c.context=s,(0,L.lb)(r,"context",c.context,!0);else if(e)if("object"==typeof e&&null!==e)c.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");c.cancel=e}return c}get ref(){return new Sr(this.database,new Zi(this._delegate._repo,this._delegate._path))}}class Sr extends Tr{constructor(r,e){super(r,new Jr(e._repo,e._path,new kc,!1)),this.database=r,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Sr(this.database,mo(this._delegate,r))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Sr(this.database,r):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new Sr(this.database,this._delegate.root)}set(r,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const s=K_(this._delegate,r);return e&&s.then(()=>e(null),c=>e(c)),s}update(r,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const c={};for(let h=0;h<r.length;++h)c[""+h]=r[h];r=c,Nd("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ns("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const s=pb(this._delegate,r);return e&&s.then(()=>e(null),c=>e(c)),s}setWithPriority(r,e,s){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",s,!0);const c=function fb(n,r,e){if(Ns("setWithPriority",n._path),Ps("setWithPriority",r,n._path,!1),wg("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new L.BH;return $_(n._repo,n._path,r,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,r,e);return s&&c.then(()=>s(null),h=>s(h)),c}remove(r){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",r,!0);const e=function db(n){return Ns("remove",n._path),K_(n,null)}(this._delegate);return r&&e.then(()=>r(null),s=>r(s)),e}transaction(r,e,s){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,r,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const c=function Db(n,r,e){var s;if(n=(0,L.m9)(n),Ns("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const c=null===(s=e?.applyLocally)||void 0===s||s,h=new L.BH,I=Td(n,()=>{});return function CE(n,r,e,s,c,h){$c(n,"transaction on "+r);const m={path:r,update:e,onComplete:s,status:null,order:Gm(),applyLocally:h,retryCount:0,unwatcher:c,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},I=Sg(n,r,void 0);m.currentInputSnapshot=I;const D=m.update(I.val());if(void 0===D)m.unwatcher(),m.currentOutputSnapshotRaw=null,m.currentOutputSnapshotResolved=null,m.onComplete&&m.onComplete(null,!1,m.currentInputSnapshot);else{hf("transaction failed: Data returned ",D,m.path),m.status=0;const R=_g(n.transactionQueueTree_,r),H=Vc(R)||[];let V;H.push(m),yg(R,H),"object"==typeof D&&null!==D&&(0,L.r3)(D,".priority")?(V=(0,L.DV)(D,".priority"),(0,L.hu)(Cd(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(Fa(n.serverSyncTree_,r)||ut.EMPTY_NODE).getPriority().val();const K=gf(n),ve=Yt(D,V),Ae=hE(ve,I,K);m.currentOutputSnapshotRaw=ve,m.currentOutputSnapshotResolved=Ae,m.currentWriteId=Cg(n);const xe=lg(n.serverSyncTree_,r,Ae,m.currentWriteId,m.applyLocally);hn(n.eventQueue_,r,xe),_f(n,n.transactionQueueTree_)}}(n._repo,n._path,r,(D,R,H)=>{let V=null;D?h.reject(D):(V=new zc(H,new Zi(n._repo,n._path),ln),h.resolve(new PT(R,V)))},I,c),h.promise}(this._delegate,r,{applyLocally:s}).then(h=>new If(h.committed,new Ba(this.database,h.snapshot)));return e&&c.then(h=>e(null,h.committed,h.snapshot),h=>e(h,!1,null)),c}setPriority(r,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const s=function hb(n,r){n=(0,L.m9)(n),Ns("setPriority",n._path),wg("setPriority",r,!1);const e=new L.BH;return $_(n._repo,mn(n._path,".priority"),r,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,r);return e&&s.then(()=>e(null),c=>e(c)),s}push(r,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const s=function lb(n,r){n=(0,L.m9)(n),Ns("push",n._path),Ps("push",r,n._path,!0);const e=EE(n._repo),s=ub(e),c=mo(n,s),h=mo(n,s);let m;return m=null!=r?K_(h,r).then(()=>h):Promise.resolve(h),c.then=m.then.bind(m),c.catch=m.then.bind(m,void 0),c}(this._delegate,r),c=s.then(m=>new Sr(this.database,m));e&&c.then(()=>e(null),m=>e(m));const h=new Sr(this.database,s);return h.then=c.then.bind(c),h.catch=c.catch.bind(c,void 0),h}onDisconnect(){return Ns("Reference.onDisconnect",this._delegate._path),new GE(new SE(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cf{constructor(r,e){this._delegate=r,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:$E,forceLongPolling:WE}}useEmulator(r,e,s={}){!function X_(n,r,e,s={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&co("Cannot call useEmulator() after instance has already been initialized.");const c=n._repoInternal;let h;if(c.repoInfo_.nodeAdmin)s.mockUserToken&&co('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Gn(Gn.OWNER);else if(s.mockUserToken){const m="string"==typeof s.mockUserToken?s.mockUserToken:(0,L.Sg)(s.mockUserToken,n.app.options.projectId);h=new Gn(m)}!function Rd(n,r,e,s){n.repoInfo_=new xh(`${r}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}(c,r,e,h)}(this._delegate,r,e,s)}ref(r){if((0,L.Dv)("database.ref",0,1,arguments.length),r instanceof Sr){const e=ME(this._delegate,r.toString());return new Sr(this,e)}{const e=AE(this._delegate,r);return new Sr(this,e)}}refFromURL(r){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const s=ME(this._delegate,r);return new Sr(this,s)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function zE(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),W_(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function ey(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function Tg(n){n.persistentConnection_&&n.persistentConnection_.resume(eb)}(n._repo)}(this._delegate)}}Cf.ServerValue={TIMESTAMP:function Cb(){return RT}(),increment:n=>function bb(n){return{".sv":{increment:n}}}(n)};var Mb=Object.freeze({__proto__:null,initStandalone:function Ab({app:n,url:r,version:e,customAuthImpl:s,namespace:c,nodeAdmin:h=!1}){Dh(e);const m=new $i.zt("auth-internal",new $i.H0("database-standalone"));return m.setComponent(new $i.wA("auth-internal",()=>s,"PRIVATE")),{instance:new Cf(ul(n,m,void 0,r,h),n),namespace:c}}});const Rb=Cf.ServerValue;!function ry(n){n.INTERNAL.registerComponent(new $i.wA("database-compat",(r,{instanceIdentifier:e})=>{const s=r.getProvider("app-compat").getImmediate(),c=r.getProvider("database").getImmediate({identifier:e});return new Cf(c,s)},"PUBLIC").setServiceProps({Reference:Sr,Query:Tr,Database:Cf,DataSnapshot:Ba,enableLogging:Ib,INTERNAL:Mb,ServerValue:Rb}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(Ma.Z);var yi=N(2079),Zc=N(427),xT=N(6680),Pb=N(6229),Nb=N(9806);class iy extends yi.xQ{constructor(r=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const e=this._events;e.push(r),e.length>this._bufferSize&&e.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new xb(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,h=s.length;let m;if(this.closed)throw new Pb.N;if(this.isStopped||this.hasError?m=io.w.EMPTY:(this.observers.push(r),m=new Nb.W(this,r)),c&&r.add(r=new Zc.ht(r,c)),e)for(let I=0;I<h&&!r.closed;I++)r.next(s[I]);else for(let I=0;I<h&&!r.closed;I++)r.next(s[I].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),m}_getNow(){return(this.scheduler||xT.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),e=this._bufferSize,s=this._windowTime,c=this._events,h=c.length;let m=0;for(;m<h&&!(r-c[m].time<s);)m++;return h>e&&(m=Math.max(m,h-e)),m>0&&c.splice(0,m),c}}class xb{constructor(r,e){this.time=r,this.value=e}}function sy(n,r,e){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:r,refCount:!1,scheduler:e},c=>c.lift(function Ob({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:e,scheduler:s}){let c,m,h=0,I=!1,D=!1;return function(H){let V;h++,!c||I?(I=!1,c=new iy(n,r,s),V=c.subscribe(this),m=H.subscribe({next(K){c.next(K)},error(K){I=!0,c.error(K)},complete(){D=!0,m=void 0,c.complete()}}),D&&(m=void 0)):V=c.subscribe(this),this.add(()=>{h--,V.unsubscribe(),V=void 0,m&&!D&&e&&0===h&&(m.unsubscribe(),m=void 0,c=void 0)})}}(s))}const bf=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function Df(n=null){return r=>r.lift(new ZE(n))}class ZE{constructor(r){this.defaultValue=r}call(r,e){return e.subscribe(new kb(r,this.defaultValue))}}class kb extends bn.L{constructor(r,e){super(r),this.defaultValue=e,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function qE(n=oy){return r=>r.lift(new Lb(n))}class Lb{constructor(r){this.errorFactory=r}call(r,e){return e.subscribe(new KE(r,this.errorFactory))}}class KE extends bn.L{constructor(r,e){super(r),this.errorFactory=e,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(e){r=e}this.destination.error(r)}}}function oy(){return new bf}var Ug=N(158);function qc(n,r){const e=arguments.length>=2;return s=>s.pipe(n?ui((c,h)=>n(c,h,s)):Ug.y,er(1),e?Df(r):qE(()=>new bf))}function Tf(n,r){return r?(0,Bt.w)(()=>n,r):(0,Bt.w)(()=>n)}var xd=N(2671);N(3182);const Bg=new Map,cy={activated:!1,tokenObservers:[]},XE={initialized:!1,enabled:!1};function Mn(n){return Bg.get(n)||Object.assign({},cy)}function Hg(){return XE}const Vg="https://content-firebaseappcheck.googleapis.com/v1",tw="exchangeDebugToken",ly={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rw{constructor(r,e,s,c,h){if(this.operation=r,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=c,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=c,c>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var e=this;return(0,vs.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function iw(n){return new Promise(r=>{setTimeout(r,n)})}(e.getNextRun(r)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const vr=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function na(n){if(!Mn(n).activated)throw vr.create("use-before-activation",{appName:n.name})}function kd(n,r){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,vs.Z)(function*({url:n,body:r},e){const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const V=yield c.getHeartbeatsHeader();V&&(s["X-Firebase-Client"]=V)}const h={method:"POST",body:JSON.stringify(r),headers:s};let m,I;try{m=yield fetch(n,h)}catch(V){throw vr.create("fetch-network-error",{originalErrorMessage:V?.message})}if(200!==m.status)throw vr.create("fetch-status-error",{httpStatus:m.status});try{I=yield m.json()}catch(V){throw vr.create("fetch-parse-error",{originalErrorMessage:V?.message})}const D=I.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const R=1e3*Number(D[1]),H=Date.now();return{token:I.token,expireTimeMillis:H+R,issuedAtTimeMillis:H}})).apply(this,arguments)}function Wg(n,r){const{projectId:e,appId:s,apiKey:c}=n.options;return{url:`${Vg}/projects/${e}/apps/${s}:${tw}?key=${c}`,body:{debug_token:r}}}const UT="firebase-app-check-database",jT=1,Af="firebase-app-check-store";let Mf=null;function py(){return(py=(0,vs.Z)(function*(n,r){const s=(yield function aw(){return Mf||(Mf=new Promise((n,r)=>{try{const e=indexedDB.open(UT,jT);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var c;r(vr.create("storage-open",{originalErrorMessage:null===(c=s.target.error)||void 0===c?void 0:c.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Af,{keyPath:"compositeKey"})}}catch(e){r(vr.create("storage-open",{originalErrorMessage:e?.message}))}}),Mf)}()).transaction(Af,"readwrite"),h=s.objectStore(Af).put({compositeKey:n,value:r});return new Promise((m,I)=>{h.onsuccess=D=>{m()},s.onerror=D=>{var R;I(vr.create("storage-set",{originalErrorMessage:null===(R=D.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const Rf=new bc.Yd("@firebase/app-check");function my(n,r){return(0,L.hl)()?function cw(n,r){return function fy(n,r){return py.apply(this,arguments)}(function dl(n){return`${n.options.appId}-${n.name}`}(n),r)}(n,r).catch(e=>{Rf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Zg(){return Hg().enabled}function Pf(){return ks.apply(this,arguments)}function ks(){return(ks=(0,vs.Z)(function*(){const n=Hg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Qb={error:"UNKNOWN_ERROR"};function ra(n){return L.US.encodeString(JSON.stringify(n),!1)}function vi(n){return qi.apply(this,arguments)}function qi(){return(qi=(0,vs.Z)(function*(n,r=!1){const e=n.app;na(e);const s=Mn(e);let h,c=s.token;if(c&&!ia(c)&&(s.token=void 0,c=void 0),!c){const D=yield s.cachedTokenPromise;D&&(ia(D)?c=D:yield my(e,void 0))}if(!r&&c&&ia(c))return{token:c.token};let I,m=!1;if(Zg()){s.exchangeTokenPromise||(s.exchangeTokenPromise=kd(Wg(e,yield Pf()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),m=!0);const D=yield s.exchangeTokenPromise;return yield my(e,D),s.token=D,{token:D.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),m=!0),c=yield Mn(e).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?Rf.warn(D.message):Rf.error(D),h=D}return c?h?I=ia(c)?{token:c.token,internalError:h}:hw(h):(I={token:c.token},s.token=c,yield my(e,c)):I=hw(h),m&&function Kg(n,r){const e=Mn(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=r.error?s.error(r.error):s.next(r)}catch{}}(e,I),I})).apply(this,arguments)}function _y(n){return qg.apply(this,arguments)}function qg(){return(qg=(0,vs.Z)(function*(n){const r=n.app;na(r);const{provider:e}=Mn(r);if(Zg()){const s=yield Pf(),{token:c}=yield kd(Wg(r,s),n.heartbeatServiceProvider);return{token:c}}{const{token:s}=yield e.getToken();return{token:s}}})).apply(this,arguments)}function vy(n,r){const e=Mn(n),s=e.tokenObservers.filter(c=>c.next!==r);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function dw(n){const{app:r}=n,e=Mn(r);let s=e.tokenRefresher;s||(s=function Jb(n){const{app:r}=n;return new rw((0,vs.Z)(function*(){let s;if(s=Mn(r).token?yield vi(n,!0):yield vi(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=Mn(r);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},ly.RETRIAL_MIN_WAIT,ly.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function ia(n){return n.expireTimeMillis-Date.now()>0}function hw(n){return{token:ra(Qb),error:n}}class fw{constructor(r,e){this.app=r,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:r}=Mn(this.app);for(const e of r)vy(this.app,e.next);return Promise.resolve()}}const Ew="app-check-internal";!function o0(){(0,Cc._registerComponent)(new $i.wA("app-check",n=>function Xb(n,r){return new fw(n,r)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,r,e)=>{n.getProvider(Ew).initialize()})),(0,Cc._registerComponent)(new $i.wA(Ew,n=>function e0(n){return{getToken:r=>vi(n,r),getLimitedUseToken:()=>_y(n),addTokenListener:r=>function yy(n,r,e,s){const{app:c}=n,h=Mn(c);if(h.tokenObservers=[...h.tokenObservers,{next:e,error:s,type:r}],h.token&&ia(h.token)){const I=h.token;Promise.resolve().then(()=>{e({token:I.token}),dw(n)}).catch(()=>{})}h.cachedTokenPromise.then(()=>dw(n))}(n,"INTERNAL",r),removeTokenListener:r=>vy(n.app,r)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Cc.registerVersion)("@firebase/app-check","0.8.0")}();class My{constructor(){return(0,Kr.vb)("app-check")}}typeof window<"u"&&window;var bw=N(7142);const Kc=new d.OlP("angularfire2.auth.use-emulator"),Tw=new d.OlP("angularfire2.auth.settings"),Sw=new d.OlP("angularfire2.auth.tenant-id"),hl=new d.OlP("angularfire2.auth.langugage-code"),m0=new d.OlP("angularfire2.auth.use-device-language"),Jg=new d.OlP("angularfire.auth.persistence"),_0=(n,r,e,s,c,h,m,I)=>(0,Yr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const D=r.runOutsideAngular(()=>n.auth());if(e&&D.useEmulator(...e),s&&(D.tenantId=s),D.languageCode=c,h&&D.useDeviceLanguage(),m)for(const[R,H]of Object.entries(m))D.settings[R]=H;return I&&D.setPersistence(I),D},[e,s,c,h,m,I]);let Py=(()=>{class n{constructor(e,s,c,h,m,I,D,R,H,V,K,ve){const Ae=new yi.xQ,xe=(0,Ze.of)(void 0).pipe((0,Zc.QV)(m.outsideAngular),(0,Bt.w)(()=>h.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,8758)))),(0,_t.U)(()=>(0,Yr.on)(e,h,s)),(0,_t.U)(ze=>_0(ze,h,I,R,H,V,D,K)),sy({bufferSize:1,refCount:!1}));if(ns(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ze.of)(null);else{xe.pipe(qc()).subscribe();const Pt=xe.pipe((0,Bt.w)(kt=>kt.getRedirectResult().then(Zn=>Zn,()=>null)),Kr.iC,sy({bufferSize:1,refCount:!1})),Vt=xe.pipe((0,Bt.w)(kt=>new On.y(Zn=>({unsubscribe:h.runOutsideAngular(()=>kt.onAuthStateChanged(wo=>Zn.next(wo),wo=>Zn.error(wo),()=>Zn.complete()))})))),Nt=xe.pipe((0,Bt.w)(kt=>new On.y(Zn=>({unsubscribe:h.runOutsideAngular(()=>kt.onIdTokenChanged(wo=>Zn.next(wo),wo=>Zn.error(wo),()=>Zn.complete()))}))));this.authState=Pt.pipe(Tf(Vt),(0,xd.R)(m.outsideAngular),(0,Zc.QV)(m.insideAngular)),this.user=Pt.pipe(Tf(Nt),(0,xd.R)(m.outsideAngular),(0,Zc.QV)(m.insideAngular)),this.idToken=this.user.pipe((0,Bt.w)(kt=>kt?(0,xt.D)(kt.getIdToken()):(0,Ze.of)(null))),this.idTokenResult=this.user.pipe((0,Bt.w)(kt=>kt?(0,xt.D)(kt.getIdTokenResult()):(0,Ze.of)(null))),this.credential=(0,bh.T)(Pt,Ae,this.authState.pipe(ui(kt=>!kt))).pipe((0,_t.U)(kt=>kt?.user?kt:null),(0,xd.R)(m.outsideAngular),(0,Zc.QV)(m.insideAngular))}return(0,Yr.pX)(this,xe,h,{spy:{apply:(ze,Pt,Vt)=>{(ze.startsWith("signIn")||ze.startsWith("createUser"))&&Vt.then(Nt=>Ae.next(Nt))}}})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Yr.Dh),d.LFG(Yr.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Kr.HU),d.LFG(Kc,8),d.LFG(Tw,8),d.LFG(Sw,8),d.LFG(hl,8),d.LFG(m0,8),d.LFG(Jg,8),d.LFG(My,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Aw(n){return null==n}function Mw(n){return"function"==typeof n.set}function Rw(n,r){return Mw(r)?r:n.ref(r)}function fl(n,r){if(function ZT(n){return"string"==typeof n}(n))return r.stringCase();if(Mw(n))return r.firebaseCase();if(function Ld(n){return"function"==typeof n.exportVal}(n))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Of(n,r,e="on",s=Ch.z){return new On.y(c=>{let h=null;return h=n[e](r,(m,I)=>{s.schedule(()=>{c.next({snapshot:m,prevKey:I})}),"once"===e&&s.schedule(()=>c.complete())},m=>{s.schedule(()=>c.error(m))}),"on"===e?{unsubscribe(){null!=h&&n.off(r,h)}}:{unsubscribe(){}}}).pipe((0,_t.U)(c=>{const{snapshot:h,prevKey:m}=c;let I=null;return h.exists()&&(I=h.key),{type:r,payload:h,prevKey:m,key:I}}),(0,Hm.B)())}function kf(n,r){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===r)return s;return-1}function qT(n,r){const{payload:e,prevKey:s,key:c}=r,h=kf(n,c),m=function Ei(n,r){if(Aw(r))return 0;{const e=kf(n,r);return-1===e?n.length:e+1}}(n,s);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let I=null;r.payload.forEach(D=>{const R={payload:D,type:"value",prevKey:I,key:D.key};return I=D.key,n=[...n,R],!1})}return n;case"child_added":if(h>-1){const I=n[h-1];(I&&I.key||null)!==s&&(n=n.filter(D=>D.payload.key!==e.key)).splice(m,0,r)}else{if(null==s)return[r,...n];(n=n.slice()).splice(m,0,r)}return n;case"child_removed":return n.filter(I=>I.payload.key!==e.key);case"child_changed":return n.map(I=>I.payload.key===c?r:I);case"child_moved":if(h>-1){const I=n.splice(h,1)[0];return(n=n.slice()).splice(m,0,I),n}return n;default:return n}}function Ny(n){return(Aw(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function xy(n,r,e){return function Xg(n,r,e){return Of(n,"value","once",e).pipe((0,Bt.w)(s=>{const c=[(0,Ze.of)(s)];return r.forEach(h=>c.push(Of(n,h,"on",e))),(0,bh.T)(...c).pipe(Lu(qT,[]))}),(0,Ep.x)())}(n,r=Ny(r),e)}function Pw(n,r,e){const s=(r=Ny(r)).map(c=>Of(n,c,"on",e));return(0,bh.T)(...s)}function Oy(n,r){return function(s,c){return fl(s,{stringCase:()=>n.child(s)[r](c),firebaseCase:()=>s[r](c),snapshotCase:()=>s.ref[r](c)})}}function v0(n){return function(e){return e?fl(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function kw(n,r){return function(){return Of(n,"value","on",r)}}const w0=new d.OlP("angularfire2.realtimeDatabaseURL"),I0=new d.OlP("angularfire2.database.use-emulator");let Lw=(()=>{class n{constructor(e,s,c,h,m,I,D,R,H,V,K,ve,Ae,xe,ze){this.schedulers=I;const Pt=D,Vt=(0,Yr.on)(e,m,s);R&&_0(Vt,m,H,K,ve,Ae,V,xe),this.database=(0,Yr.cc)(`${Vt.name}.database.${c}`,"AngularFireDatabase",Vt.name,()=>{const Nt=m.runOutsideAngular(()=>Vt.database(c||void 0));return Pt&&Nt.useEmulator(...Pt),Nt},[Pt])}list(e,s){const c=this.schedulers.ngZone.runOutsideAngular(()=>Rw(this.database,e));let h=c;return s&&(h=s(c)),function E0(n,r){const e=r.schedulers.outsideAngular,s=r.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Oy(s,"update"),set:Oy(s,"set"),push:c=>s.push(c),remove:v0(s),snapshotChanges:c=>xy(n,c,e).pipe(Kr.iC),stateChanges:c=>Pw(n,c,e).pipe(Kr.iC),auditTrail:c=>function Nw(n,r,e){return function Ow(n,r,e){return function xw(n,r){return Of(n,"value","on",r).pipe((0,_t.U)(e=>{let s;return e.payload.forEach(c=>(s=c.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function Wm(...n){return r=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),r.lift(new Yl(n,e))}}(r),(0,_t.U)(([c,h])=>{const m=c.lastKeyToLoad,I=h.map(D=>D.key);return{actions:h,lastKeyToLoad:m,loadedKeys:I}}),function Ip(n){return r=>r.lift(new Uu(n))}(c=>-1===c.loadedKeys.indexOf(c.lastKeyToLoad)),(0,_t.U)(c=>c.actions))}(n,Pw(n,r).pipe(Lu((c,h)=>[...c,h],[])),e)}(n,c,e).pipe(Kr.iC),valueChanges:(c,h)=>xy(n,c,e).pipe((0,_t.U)(I=>I.map(D=>h&&h.idField?Object.assign(Object.assign({},D.payload.val()),{[h.idField]:D.key}):D.payload.val())),Kr.iC)}}(h,this)}object(e){return function Lf(n,r){return{query:n,snapshotChanges:()=>kw(n,r.schedulers.outsideAngular)().pipe(Kr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>kw(n,r.schedulers.outsideAngular)().pipe(Kr.iC,(0,_t.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Rw(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Yr.Dh),d.LFG(Yr.xv,8),d.LFG(w0,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Kr.HU),d.LFG(I0,8),d.LFG(Py,8),d.LFG(Kc,8),d.LFG(Tw,8),d.LFG(Sw,8),d.LFG(hl,8),d.LFG(m0,8),d.LFG(Jg,8),d.LFG(My,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),em=(()=>{class n{constructor(){bw.Z.registerVersion("angularfire",Kr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Lw]}),n})(),ky=(()=>{class n{constructor(e){this.db=e}get(e="allwords"){return this.db.list(e).snapshotChanges().pipe((0,_t.U)(s=>s.map(c=>({...c.payload.val(),key:c.payload.key}))))}post(e="allwords",s,c={}){return this.db.list(e).set(s,c)}put(e,s="allwords"){return this.db.list(s).update(e.key,e)}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(Lw))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),pl=(()=>{class n extends wc{constructor(e,s){super(e),this.http=e,this.firebaseHelper=s,this.lastWords=[]}addWord(e,s){return this.firebaseHelper.post("allwords",e,s)}getWords(){return this.firebaseHelper.get("allwords").pipe((0,yr.b)(e=>this.lastWords=e))}updateWord(e){return this.firebaseHelper.put(e)}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(zr),d.LFG(ky))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),tm=(()=>{class n{constructor(){this._isLoggedIn=!1,this.userPassword="123456789876543",this.localStorageKey="isLoggedIn"}checkPassword(e){return this._isLoggedIn=e===this.userPassword,localStorage.setItem(this.localStorageKey,JSON.stringify(this._isLoggedIn)),this._isLoggedIn}checkIfLogged(){return this._isLoggedIn||JSON.parse(localStorage.getItem(this.localStorageKey))}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xr=N(5125),Fd=N(9759),b0=N(1280),D0=N(2594);const Fw={};function nm(...n){let r,e;return(0,Fd.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(r=n.pop()),1===n.length&&(0,b0.k)(n[0])&&(n=n[0]),(0,D0.n)(n,e).lift(new Uw(r))}class Uw{constructor(r){this.resultSelector=r}call(r,e){return e.subscribe(new jw(r,this.resultSelector))}}class jw extends ql{constructor(r,e){super(r),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(Fw),this.observables.push(r)}_complete(){const r=this.observables,e=r.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(Fu(this,r[s],void 0,s))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,e,s){const c=this.values,m=this.toRespond?c[s]===Fw?--this.toRespond:this.toRespond:0;c[s]=e,0===m&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(r){let e;try{e=this.resultSelector.apply(this,r)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}var Ff=N(7449);function Ly(...n){return function Bw(){return(0,Ff.J)(1)}()((0,Ze.of)(...n))}function Hw(n){return new On.y(r=>{let e;try{e=n()}catch(c){return void r.error(c)}return(e?(0,xt.D)(e):(0,Ir.c)()).subscribe(r)})}var KT=N(4813),rm=N(6222),T0=N(4247),gl=N(5846);function Va(n){return function(e){const s=new S0(n),c=e.lift(s);return s.caught=c}}class S0{constructor(r){this.selector=r}call(r,e){return e.subscribe(new A0(r,this.selector,this.caught))}}class A0 extends gl.Ds{constructor(r,e,s){super(r),this.selector=e,this.caught=s}error(r){if(!this.isStopped){let e;try{e=this.selector(r,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const s=new gl.IY(this);this.add(s);const c=(0,gl.ft)(e,s);c!==s&&this.add(c)}}}function im(n){return function(e){return 0===n?(0,Ir.c)():e.lift(new Uf(n))}}class Uf{constructor(r){if(this.total=r,this.total<0)throw new Fi}call(r,e){return e.subscribe(new M0(r,this.total))}}class M0 extends bn.L{constructor(r,e){super(r),this.total=e,this.ring=new Array,this.count=0}_next(r){const e=this.ring,s=this.total,c=this.count++;e.length<s?e.push(r):e[c%s]=r}_complete(){const r=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,c=this.ring;for(let h=0;h<s;h++){const m=e++%s;r.next(c[m])}}r.complete()}}class N0{constructor(r){this.value=r}call(r,e){return e.subscribe(new QT(r,this.value))}}class QT extends bn.L{constructor(r,e){super(r),this.value=e}_next(r){this.destination.next(this.value)}}var Vw=N(2851);function Fy(n){return r=>r.lift(new x0(n))}class x0{constructor(r){this.notifier=r}call(r,e){const s=new O0(r),c=(0,gl.ft)(this.notifier,new gl.IY(s));return c&&!s.seenValue?(s.add(c),e.subscribe(s)):s}}class O0 extends gl.Ds{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const lt="primary",jf=Symbol("RouteTitle");class $w{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ud(n){return new $w(n)}function Ww(n,r,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(r.hasChildren()||s.length<n.length))return null;const c={};for(let h=0;h<s.length;h++){const m=s[h],I=n[h];if(m.startsWith(":"))c[m.substring(1)]=I;else if(m!==I.path)return null}return{consumed:n.slice(0,s.length),posParams:c}}function yo(n,r){const e=n?Object.keys(n):void 0,s=r?Object.keys(r):void 0;if(!e||!s||e.length!=s.length)return!1;let c;for(let h=0;h<e.length;h++)if(c=e[h],!zw(n[c],r[c]))return!1;return!0}function zw(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;const e=[...n].sort(),s=[...r].sort();return e.every((c,h)=>s[h]===c)}return n===r}function sm(n){return n.length>0?n[n.length-1]:null}function Yc(n){return function C0(n){return!!n&&(n instanceof On.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(n)?n:(0,d.QGY)(n)?(0,xt.D)(Promise.resolve(n)):(0,Ze.of)(n)}const Gw={exact:function qw(n,r,e){if(!ml(n.segments,r.segments)||!om(n.segments,r.segments,e)||n.numberOfChildren!==r.numberOfChildren)return!1;for(const s in r.children)if(!n.children[s]||!qw(n.children[s],r.children[s],e))return!1;return!0},subset:Kw},Uy={exact:function L0(n,r){return yo(n,r)},subset:function jy(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(e=>zw(n[e],r[e]))},ignored:()=>!0};function Zw(n,r,e){return Gw[e.paths](n.root,r.root,e.matrixParams)&&Uy[e.queryParams](n.queryParams,r.queryParams)&&!("exact"===e.fragment&&n.fragment!==r.fragment)}function Kw(n,r,e){return By(n,r,r.segments,e)}function By(n,r,e,s){if(n.segments.length>e.length){const c=n.segments.slice(0,e.length);return!(!ml(c,e)||r.hasChildren()||!om(c,e,s))}if(n.segments.length===e.length){if(!ml(n.segments,e)||!om(n.segments,e,s))return!1;for(const c in r.children)if(!n.children[c]||!Kw(n.children[c],r.children[c],s))return!1;return!0}{const c=e.slice(0,n.segments.length),h=e.slice(n.segments.length);return!!(ml(n.segments,c)&&om(n.segments,c,s)&&n.children[lt])&&By(n.children[lt],r,h,s)}}function om(n,r,e){return r.every((s,c)=>Uy[e](n[c].parameters,s.parameters))}class jd{constructor(r=new Qt([],{}),e={},s=null){this.root=r,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ud(this.queryParams)),this._queryParamMap}toString(){return Yw.serialize(this)}}class Qt{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Object.values(e).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cm(this)}}class Bf{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ud(this.parameters)),this._parameterMap}toString(){return hm(this)}}function ml(n,r){return n.length===r.length&&n.every((e,s)=>e.path===r[s].path)}let Hf=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return new am},providedIn:"root"})}return n})();class am{parse(r){const e=new JT(r);return new jd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){const e=`/${Vf(r.root,!0)}`,s=function $y(n){const r=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(c=>`${um(e)}=${um(c)}`).join("&"):`${um(e)}=${um(s)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${e}${s}${"string"==typeof r.fragment?`#${function j0(n){return encodeURI(n)}(r.fragment)}`:""}`}}const Yw=new am;function cm(n){return n.segments.map(r=>hm(r)).join("/")}function Vf(n,r){if(!n.hasChildren())return cm(n);if(r){const e=n.children[lt]?Vf(n.children[lt],!1):"",s=[];return Object.entries(n.children).forEach(([c,h])=>{c!==lt&&s.push(`${c}:${Vf(h,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function U0(n,r){let e=[];return Object.entries(n.children).forEach(([s,c])=>{s===lt&&(e=e.concat(r(c,s)))}),Object.entries(n.children).forEach(([s,c])=>{s!==lt&&(e=e.concat(r(c,s)))}),e}(n,(s,c)=>c===lt?[Vf(n.children[lt],!1)]:[`${c}:${Vf(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[lt]?`${cm(n)}/${e[0]}`:`${cm(n)}/(${e.join("//")})`}}function Hy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function um(n){return Hy(n).replace(/%3B/gi,";")}function Vy(n){return Hy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lm(n){return decodeURIComponent(n)}function dm(n){return lm(n.replace(/\+/g,"%20"))}function hm(n){return`${Vy(n.path)}${function Qw(n){return Object.keys(n).map(r=>`;${Vy(r)}=${Vy(n[r])}`).join("")}(n.parameters)}`}const B0=/^[^\/()?;#]+/;function Wy(n){const r=n.match(B0);return r?r[0]:""}const zy=/^[^\/()?;=#]+/,V0=/^[^=?&#]+/,Jw=/^[^&#]+/;class JT{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(s[lt]=new Qt(r,e)),s}parseSegment(){const r=Wy(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(r),new Bf(lm(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=function H0(n){const r=n.match(zy);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const c=Wy(this.remaining);c&&(s=c,this.capture(s))}r[lm(e)]=lm(s)}parseQueryParam(r){const e=function _l(n){const r=n.match(V0);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const m=function $0(n){const r=n.match(Jw);return r?r[0]:""}(this.remaining);m&&(s=m,this.capture(s))}const c=dm(e),h=dm(s);if(r.hasOwnProperty(c)){let m=r[c];Array.isArray(m)||(m=[m],r[c]=m),m.push(h)}else r[c]=h}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Wy(this.remaining),c=this.remaining[s.length];if("/"!==c&&")"!==c&&";"!==c)throw new d.vHH(4010,!1);let h;s.indexOf(":")>-1?(h=s.slice(0,s.indexOf(":")),this.capture(h),this.capture(":")):r&&(h=lt);const m=this.parseChildren();e[h]=1===Object.keys(m).length?m[lt]:new Qt([],m),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new d.vHH(4011,!1)}}function fm(n){return n.segments.length>0?new Qt([],{[lt]:n}):n}function pm(n){const r={};for(const s of Object.keys(n.children)){const h=pm(n.children[s]);if(s===lt&&0===h.segments.length&&h.hasChildren())for(const[m,I]of Object.entries(h.children))r[m]=I;else(h.segments.length>0||h.hasChildren())&&(r[s]=h)}return function W0(n){if(1===n.numberOfChildren&&n.children[lt]){const r=n.children[lt];return new Qt(n.segments.concat(r.segments),r.children)}return n}(new Qt(n.segments,r))}function Qc(n){return n instanceof jd}function eI(n){let r;const c=fm(function e(h){const m={};for(const D of h.children){const R=e(D);m[D.outlet]=R}const I=new Qt(h.url,m);return h===n&&(r=I),I}(n.root));return r??c}function Gy(n,r,e,s){let c=n;for(;c.parent;)c=c.parent;if(0===r.length)return gm(c,c,c,e,s);const h=function z0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qy(!0,0,n);let r=0,e=!1;const s=n.reduce((c,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const I={};return Object.entries(h.outlets).forEach(([D,R])=>{I[D]="string"==typeof R?R.split("/"):R}),[...c,{outlets:I}]}if(h.segmentPath)return[...c,h.segmentPath]}return"string"!=typeof h?[...c,h]:0===m?(h.split("/").forEach((I,D)=>{0==D&&"."===I||(0==D&&""===I?e=!0:".."===I?r++:""!=I&&c.push(I))}),c):[...c,h]},[]);return new qy(e,r,s)}(r);if(h.toRoot())return gm(c,c,new Qt([],{}),e,s);const m=function G0(n,r,e){if(n.isAbsolute)return new mm(r,!0,0);if(!e)return new mm(r,!1,NaN);if(null===e.parent)return new mm(e,!0,0);const s=Bd(n.commands[0])?0:1;return function Z0(n,r,e){let s=n,c=r,h=e;for(;h>c;){if(h-=c,s=s.parent,!s)throw new d.vHH(4005,!1);c=s.segments.length}return new mm(s,!1,c-h)}(e,e.segments.length-1+s,n.numberOfDoubleDots)}(h,c,n),I=m.processChildren?Vd(m.segmentGroup,m.index,h.commands):q0(m.segmentGroup,m.index,h.commands);return gm(c,m.segmentGroup,I,e,s)}function Bd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hd(n){return"object"==typeof n&&null!=n&&n.outlets}function gm(n,r,e,s,c){let m,h={};s&&Object.entries(s).forEach(([D,R])=>{h[D]=Array.isArray(R)?R.map(H=>`${H}`):`${R}`}),m=n===r?e:Zy(n,r,e);const I=fm(pm(m));return new jd(I,h,c)}function Zy(n,r,e){const s={};return Object.entries(n.children).forEach(([c,h])=>{s[c]=h===r?e:Zy(h,r,e)}),new Qt(n.segments,s)}class qy{constructor(r,e,s){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=s,r&&s.length>0&&Bd(s[0]))throw new d.vHH(4003,!1);const c=s.find(Hd);if(c&&c!==sm(s))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mm{constructor(r,e,s){this.segmentGroup=r,this.processChildren=e,this.index=s}}function q0(n,r,e){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return Vd(n,r,e);const s=function K0(n,r,e){let s=0,c=r;const h={match:!1,pathIndex:0,commandIndex:0};for(;c<n.segments.length;){if(s>=e.length)return h;const m=n.segments[c],I=e[s];if(Hd(I))break;const D=`${I}`,R=s<e.length-1?e[s+1]:null;if(c>0&&void 0===D)break;if(D&&R&&"object"==typeof R&&void 0===R.outlets){if(!rI(D,R,m))return h;s+=2}else{if(!rI(D,{},m))return h;s++}c++}return{match:!0,pathIndex:c,commandIndex:s}}(n,r,e),c=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const h=new Qt(n.segments.slice(0,s.pathIndex),{});return h.children[lt]=new Qt(n.segments.slice(s.pathIndex),n.children),Vd(h,0,c)}return s.match&&0===c.length?new Qt(n.segments,{}):s.match&&!n.hasChildren()?Ky(n,r,e):s.match?Vd(n,0,c):Ky(n,r,e)}function Vd(n,r,e){if(0===e.length)return new Qt(n.segments,{});{const s=function tI(n){return Hd(n[0])?n[0].outlets:{[lt]:n}}(e),c={};if(Object.keys(s).some(h=>h!==lt)&&n.children[lt]&&1===n.numberOfChildren&&0===n.children[lt].segments.length){const h=Vd(n.children[lt],r,e);return new Qt(n.segments,h.children)}return Object.entries(s).forEach(([h,m])=>{"string"==typeof m&&(m=[m]),null!==m&&(c[h]=q0(n.children[h],r,m))}),Object.entries(n.children).forEach(([h,m])=>{void 0===s[h]&&(c[h]=m)}),new Qt(n.segments,c)}}function Ky(n,r,e){const s=n.segments.slice(0,r);let c=0;for(;c<e.length;){const h=e[c];if(Hd(h)){const D=XT(h.outlets);return new Qt(s,D)}if(0===c&&Bd(e[0])){s.push(new Bf(n.segments[r].path,nI(e[0]))),c++;continue}const m=Hd(h)?h.outlets[lt]:`${h}`,I=c<e.length-1?e[c+1]:null;m&&I&&Bd(I)?(s.push(new Bf(m,nI(I))),c+=2):(s.push(new Bf(m,{})),c++)}return new Qt(s,{})}function XT(n){const r={};return Object.entries(n).forEach(([e,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[e]=Ky(new Qt([],{}),0,s))}),r}function nI(n){const r={};return Object.entries(n).forEach(([e,s])=>r[e]=`${s}`),r}function rI(n,r,e){return n==e.path&&yo(r,e.parameters)}const $f="imperative";class sa{constructor(r,e){this.id=r,this.url=e}}class _m extends sa{constructor(r,e,s="imperative",c=null){super(r,e),this.type=0,this.navigationTrigger=s,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jc extends sa{constructor(r,e,s){super(r,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wf extends sa{constructor(r,e,s,c){super(r,e),this.reason=s,this.code=c,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $d extends sa{constructor(r,e,s,c){super(r,e),this.reason=s,this.code=c,this.type=16}}class ym extends sa{constructor(r,e,s,c){super(r,e),this.error=s,this.target=c,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iI extends sa{constructor(r,e,s,c){super(r,e),this.urlAfterRedirects=s,this.state=c,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y0 extends sa{constructor(r,e,s,c){super(r,e),this.urlAfterRedirects=s,this.state=c,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q0 extends sa{constructor(r,e,s,c,h){super(r,e),this.urlAfterRedirects=s,this.state=c,this.shouldActivate=h,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zf extends sa{constructor(r,e,s,c){super(r,e),this.urlAfterRedirects=s,this.state=c,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sI extends sa{constructor(r,e,s,c){super(r,e),this.urlAfterRedirects=s,this.state=c,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oI{constructor(r){this.route=r,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aI{constructor(r){this.route=r,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cI{constructor(r){this.snapshot=r,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uI{constructor(r){this.snapshot=r,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lI{constructor(r){this.snapshot=r,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J0{constructor(r){this.snapshot=r,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X0{constructor(r,e,s){this.routerEvent=r,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dI{}class vm{constructor(r){this.url=r}}class tD{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gf,this.attachRef=null}}let Gf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const c=this.getOrCreateContext(e);c.outlet=s,this.contexts.set(e,c)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new tD,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class hI{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=yl(r,this._root);return e?e.children.map(s=>s.value):[]}firstChild(r){const e=yl(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=Yy(r,this._root);return e.length<2?[]:e[e.length-2].children.map(c=>c.value).filter(c=>c!==r)}pathFromRoot(r){return Yy(r,this._root).map(e=>e.value)}}function yl(n,r){if(n===r.value)return r;for(const e of r.children){const s=yl(n,e);if(s)return s}return null}function Yy(n,r){if(n===r.value)return[r];for(const e of r.children){const s=Yy(n,e);if(s.length)return s.unshift(r),s}return[]}class vo{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wd(n){const r={};return n&&n.children.forEach(e=>r[e.value.outlet]=e),r}class nD extends hI{constructor(r,e){super(r),this.snapshot=e,wm(this,r)}toString(){return this.snapshot.toString()}}function fI(n,r){const e=function eS(n,r){const m=new Em([],{},{},"",{},lt,r,null,{});return new Zf("",new vo(m,[]))}(0,r),s=new Xr.X([new Bf("",{})]),c=new Xr.X({}),h=new Xr.X({}),m=new Xr.X({}),I=new Xr.X(""),D=new oa(s,c,m,I,h,lt,r,e.root);return D.snapshot=e.root,new nD(new vo(D,[]),e)}class oa{constructor(r,e,s,c,h,m,I,D){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=s,this.fragmentSubject=c,this.dataSubject=h,this.outlet=m,this.component=I,this._futureSnapshot=D,this.title=this.dataSubject?.pipe((0,_t.U)(R=>R[jf]))??(0,Ze.of)(void 0),this.url=r,this.params=e,this.queryParams=s,this.fragment=c,this.data=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(r=>Ud(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(r=>Ud(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pI(n,r="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==r)for(s=e.length-1;s>=1;){const c=e[s],h=e[s-1];if(c.routeConfig&&""===c.routeConfig.path)s--;else{if(h.component)break;s--}}return function rD(n){return n.reduce((r,e)=>({params:{...r.params,...e.params},data:{...r.data,...e.data},resolve:{...e.data,...r.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Em{get title(){return this.data?.[jf]}constructor(r,e,s,c,h,m,I,D,R){this.url=r,this.params=e,this.queryParams=s,this.fragment=c,this.data=h,this.outlet=m,this.component=I,this.routeConfig=D,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ud(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ud(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zf extends hI{constructor(r,e){super(e),this.url=r,wm(this,e)}toString(){return gI(this._root)}}function wm(n,r){r.value._routerState=n,r.children.forEach(e=>wm(n,e))}function gI(n){const r=n.children.length>0?` { ${n.children.map(gI).join(", ")} } `:"";return`${n.value}${r}`}function Im(n){if(n.snapshot){const r=n.snapshot,e=n._futureSnapshot;n.snapshot=e,yo(r.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),yo(r.params,e.params)||n.paramsSubject.next(e.params),function k0(n,r){if(n.length!==r.length)return!1;for(let e=0;e<n.length;++e)if(!yo(n[e],r[e]))return!1;return!0}(r.url,e.url)||n.urlSubject.next(e.url),yo(r.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function zd(n,r){const e=yo(n.params,r.params)&&function F0(n,r){return ml(n,r)&&n.every((e,s)=>yo(e.parameters,r[s].parameters))}(n.url,r.url);return e&&!(!n.parent!=!r.parent)&&(!n.parent||zd(n.parent,r.parent))}let Qy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Gf),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(qf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:s,previousValue:c}=e.name;if(s)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=e;const c=this.location,m=e.snapshot.component,I=this.parentContexts.getOrCreateContext(this.name).children,D=new iD(e,I,c.injector);this.activated=c.createComponent(m,{index:c.length,injector:D,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]})}return n})();class iD{constructor(r,e,s){this.route=r,this.childContexts=e,this.parent=s}get(r,e){return r===oa?this.route:r===Gf?this.childContexts:this.parent.get(r,e)}}const qf=new d.OlP("");let mI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:s}=e,c=nm([s.queryParams,s.params,s.data]).pipe((0,Bt.w)(([h,m,I],D)=>(I={...h,...m,...I},0===D?(0,Ze.of)(I):Promise.resolve(I)))).subscribe(h=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(e);const m=(0,d.qFp)(s.component);if(m)for(const{templateName:I}of m.inputs)e.activatedComponentRef.setInput(I,h[I]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,c)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function Gd(n,r,e){if(e&&n.shouldReuseRoute(r.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=r.value;const c=function Cm(n,r,e){return r.children.map(s=>{for(const c of e.children)if(n.shouldReuseRoute(s.value,c.value.snapshot))return Gd(n,s,c);return Gd(n,s)})}(n,r,e);return new vo(s,c)}{if(n.shouldAttach(r.value)){const h=n.retrieve(r.value);if(null!==h){const m=h.route;return m.value._futureSnapshot=r.value,m.children=r.children.map(I=>Gd(n,I)),m}}const s=function oD(n){return new oa(new Xr.X(n.url),new Xr.X(n.params),new Xr.X(n.queryParams),new Xr.X(n.fragment),new Xr.X(n.data),n.outlet,n.component,n)}(r.value),c=r.children.map(h=>Gd(n,h));return new vo(s,c)}}const Jy="ngNavigationCancelingError";function Xy(n,r){const{redirectTo:e,navigationBehaviorOptions:s}=Qc(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,c=ev(!1,0,r);return c.url=e,c.navigationBehaviorOptions=s,c}function ev(n,r,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[Jy]=!0,s.cancellationCode=r,e&&(s.url=e),s}function nv(n){return n&&n[Jy]}let _I=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(s,c){1&s&&d._UZ(0,"router-outlet")},dependencies:[Qy],encapsulation:2})}return n})();function ov(n){const r=n.children&&n.children.map(ov),e=r?{...n,children:r}:{...n};return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==lt&&(e.component=_I),e}function Eo(n){return n.outlet||lt}function Kf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class EI{constructor(r,e,s,c,h){this.routeReuseStrategy=r,this.futureState=e,this.currState=s,this.forwardEvent=c,this.inputBindingEnabled=h}activate(r){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,r),Im(this.futureState.root),this.activateChildRoutes(e,s,r)}deactivateChildRoutes(r,e,s){const c=Wd(e);r.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,c[m],s),delete c[m]}),Object.values(c).forEach(h=>{this.deactivateRouteAndItsChildren(h,s)})}deactivateRoutes(r,e,s){const c=r.value,h=e?e.value:null;if(c===h)if(c.component){const m=s.getContext(c.outlet);m&&this.deactivateChildRoutes(r,e,m.children)}else this.deactivateChildRoutes(r,e,s);else h&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const s=e.getContext(r.value.outlet),c=s&&r.value.component?s.children:e,h=Wd(r);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],c);if(s&&s.outlet){const m=s.outlet.detach(),I=s.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:m,route:r,contexts:I})}}deactivateRouteAndOutlet(r,e){const s=e.getContext(r.value.outlet),c=s&&r.value.component?s.children:e,h=Wd(r);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],c);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(r,e,s){const c=Wd(e);r.children.forEach(h=>{this.activateRoutes(h,c[h.value.outlet],s),this.forwardEvent(new J0(h.value.snapshot))}),r.children.length&&this.forwardEvent(new uI(r.value.snapshot))}activateRoutes(r,e,s){const c=r.value,h=e?e.value:null;if(Im(c),c===h)if(c.component){const m=s.getOrCreateContext(c.outlet);this.activateChildRoutes(r,e,m.children)}else this.activateChildRoutes(r,e,s);else if(c.component){const m=s.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const I=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),m.children.onOutletReAttached(I.contexts),m.attachRef=I.componentRef,m.route=I.route.value,m.outlet&&m.outlet.attach(I.componentRef,I.route.value),Im(I.route.value),this.activateChildRoutes(r,null,m.children)}else{const I=Kf(c.snapshot);m.attachRef=null,m.route=c,m.injector=I,m.outlet&&m.outlet.activateWith(c,m.injector),this.activateChildRoutes(r,null,m.children)}}else this.activateChildRoutes(r,null,s)}}class cv{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Yf{constructor(r,e){this.component=r,this.route=e}}function wI(n,r,e){const s=n._root;return Zd(s,r?r._root:null,e,[s.value])}function vl(n,r){const e=Symbol(),s=r.get(n,e);return s===e?"function"!=typeof n||(0,d.Z0I)(n)?r.get(n):n:s}function Zd(n,r,e,s,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=Wd(r);return n.children.forEach(m=>{(function hD(n,r,e,s,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=n.value,m=r?r.value:null,I=e?e.getContext(n.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const D=function II(n,r,e){if("function"==typeof e)return e(n,r);switch(e){case"pathParamsChange":return!ml(n.url,r.url);case"pathParamsOrQueryParamsChange":return!ml(n.url,r.url)||!yo(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zd(n,r)||!yo(n.queryParams,r.queryParams);default:return!zd(n,r)}}(m,h,h.routeConfig.runGuardsAndResolvers);D?c.canActivateChecks.push(new cv(s)):(h.data=m.data,h._resolvedData=m._resolvedData),Zd(n,r,h.component?I?I.children:null:e,s,c),D&&I&&I.outlet&&I.outlet.isActivated&&c.canDeactivateChecks.push(new Yf(I.outlet.component,m))}else m&&qd(r,I,c),c.canActivateChecks.push(new cv(s)),Zd(n,null,h.component?I?I.children:null:e,s,c)})(m,h[m.value.outlet],e,s.concat([m.value]),c),delete h[m.value.outlet]}),Object.entries(h).forEach(([m,I])=>qd(I,e.getContext(m),c)),c}function qd(n,r,e){const s=Wd(n),c=n.value;Object.entries(s).forEach(([h,m])=>{qd(m,c.component?r?r.children.getContext(h):null:r,e)}),e.canDeactivateChecks.push(new Yf(c.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,c))}function ir(n){return"function"==typeof n}function gD(n){return n instanceof bf||"EmptyError"===n?.name}const uv=Symbol("INITIAL_VALUE");function aa(){return(0,Bt.w)(n=>nm(n.map(r=>r.pipe(er(1),function YT(...n){const r=n[n.length-1];return(0,Fd.K)(r)?(n.pop(),e=>Ly(n,e,r)):e=>Ly(n,e)}(uv)))).pipe((0,_t.U)(r=>{for(const e of r)if(!0!==e){if(e===uv)return uv;if(!1===e||e instanceof jd)return e}return!0}),ui(r=>r!==uv),er(1)))}function SI(n){return(0,KT.z)((0,yr.b)(r=>{if(Qc(r))throw Xy(0,r)}),(0,_t.U)(r=>!0===r))}class Yd{constructor(r){this.segmentGroup=r||null}}class wD{constructor(r){this.urlTree=r}}function El(n){return(0,rm._)(new Yd(n))}function AI(n){return(0,rm._)(new wD(n))}class ID{constructor(r,e){this.urlSerializer=r,this.urlTree=e}noMatchError(r){return new d.vHH(4002,!1)}lineralizeSegments(r,e){let s=[],c=e.root;for(;;){if(s=s.concat(c.segments),0===c.numberOfChildren)return(0,Ze.of)(s);if(c.numberOfChildren>1||!c.children[lt])return(0,rm._)(new d.vHH(4e3,!1));c=c.children[lt]}}applyRedirectCommands(r,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,s)}applyRedirectCreateUrlTree(r,e,s,c){const h=this.createSegmentGroup(r,e.root,s,c);return new jd(h,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const s={};return Object.entries(r).forEach(([c,h])=>{if("string"==typeof h&&h.startsWith(":")){const I=h.substring(1);s[c]=e[I]}else s[c]=h}),s}createSegmentGroup(r,e,s,c){const h=this.createSegments(r,e.segments,s,c);let m={};return Object.entries(e.children).forEach(([I,D])=>{m[I]=this.createSegmentGroup(r,D,s,c)}),new Qt(h,m)}createSegments(r,e,s,c){return e.map(h=>h.path.startsWith(":")?this.findPosParam(r,h,c):this.findOrReturn(h,s))}findPosParam(r,e,s){const c=s[e.path.substring(1)];if(!c)throw new d.vHH(4001,!1);return c}findOrReturn(r,e){let s=0;for(const c of e){if(c.path===r.path)return e.splice(s),c;s++}return r}}const Dm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hv(n,r,e,s,c){const h=RI(n,r,e);return h.matched?(s=function yI(n,r){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,r,`Route: ${n.path}`)),n._injector??r}(r,s),function bm(n,r,e,s){const c=r.canMatch;if(!c||0===c.length)return(0,Ze.of)(!0);const h=c.map(m=>{const I=vl(m,n);return Yc(function CI(n){return n&&ir(n.canMatch)}(I)?I.canMatch(r,e):n.runInContext(()=>I(r,e)))});return(0,Ze.of)(h).pipe(aa(),SI())}(s,r,e).pipe((0,_t.U)(m=>!0===m?h:{...Dm}))):(0,Ze.of)(h)}function RI(n,r,e){if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||e.length>0)?{...Dm}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const c=(r.matcher||Ww)(e,n,r);if(!c)return{...Dm};const h={};Object.entries(c.posParams??{}).forEach(([I,D])=>{h[I]=D.path});const m=c.consumed.length>0?{...h,...c.consumed[c.consumed.length-1].parameters}:h;return{matched:!0,consumedSegments:c.consumed,remainingSegments:e.slice(c.consumed.length),parameters:m,positionalParamSegments:c.posParams??{}}}function PI(n,r,e,s){return e.length>0&&function bD(n,r,e){return e.some(s=>Qf(n,r,s)&&Eo(s)!==lt)}(n,e,s)?{segmentGroup:new Qt(r,CD(s,new Qt(e,n.children))),slicedSegments:[]}:0===e.length&&function DD(n,r,e){return e.some(s=>Qf(n,r,s))}(n,e,s)?{segmentGroup:new Qt(n.segments,oS(n,0,e,s,n.children)),slicedSegments:e}:{segmentGroup:new Qt(n.segments,n.children),slicedSegments:e}}function oS(n,r,e,s,c){const h={};for(const m of s)if(Qf(n,e,m)&&!c[Eo(m)]){const I=new Qt([],{});h[Eo(m)]=I}return{...c,...h}}function CD(n,r){const e={};e[lt]=r;for(const s of n)if(""===s.path&&Eo(s)!==lt){const c=new Qt([],{});e[Eo(s)]=c}return e}function Qf(n,r,e){return(!(n.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}class OI{constructor(r,e,s,c,h,m,I){this.injector=r,this.configLoader=e,this.rootComponentType=s,this.config=c,this.urlTree=h,this.paramsInheritanceStrategy=m,this.urlSerializer=I,this.allowRedirects=!0,this.applyRedirects=new ID(this.urlSerializer,this.urlTree)}noMatchError(r){return new d.vHH(4002,!1)}recognize(){const r=PI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,r,lt).pipe(Va(e=>{if(e instanceof wD)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Yd?this.noMatchError(e):e}),(0,_t.U)(e=>{const s=new Em([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),c=new vo(s,e),h=new Zf("",c),m=function Xw(n,r,e=null,s=null){return Gy(eI(n),r,e,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return m.queryParams=this.urlTree.queryParams,h.url=this.urlSerializer.serialize(m),this.inheritParamsAndData(h._root),{state:h,tree:m}}))}match(r){return this.processSegmentGroup(this.injector,this.config,r.root,lt).pipe(Va(s=>{throw s instanceof Yd?this.noMatchError(s):s}))}inheritParamsAndData(r){const e=r.value,s=pI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),r.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(r,e,s,c){return 0===s.segments.length&&s.hasChildren()?this.processChildren(r,e,s):this.processSegment(r,e,s,s.segments,c,!0)}processChildren(r,e,s){const c=[];for(const h of Object.keys(s.children))"primary"===h?c.unshift(h):c.push(h);return(0,xt.D)(c).pipe(ds(h=>{const m=s.children[h],I=function uD(n,r){const e=n.filter(s=>Eo(s)===r);return e.push(...n.filter(s=>Eo(s)!==r)),e}(e,h);return this.processSegmentGroup(r,I,m,h)}),Lu((h,m)=>(h.push(...m),h)),Df(null),function R0(n,r){const e=arguments.length>=2;return s=>s.pipe(n?ui((c,h)=>n(c,h,s)):Ug.y,im(1),e?Df(r):qE(()=>new bf))}(),(0,Et.zg)(h=>{if(null===h)return El(s);const m=fv(h);return function SD(n){n.sort((r,e)=>r.value.outlet===lt?-1:e.value.outlet===lt?1:r.value.outlet.localeCompare(e.value.outlet))}(m),(0,Ze.of)(m)}))}processSegment(r,e,s,c,h,m){return(0,xt.D)(e).pipe(ds(I=>this.processSegmentAgainstRoute(I._injector??r,e,I,s,c,h,m).pipe(Va(D=>{if(D instanceof Yd)return(0,Ze.of)(null);throw D}))),qc(I=>!!I),Va(I=>{if(gD(I))return function TD(n,r,e){return 0===r.length&&!n.children[e]}(s,c,h)?(0,Ze.of)([]):El(s);throw I}))}processSegmentAgainstRoute(r,e,s,c,h,m,I){return function NI(n,r,e,s){return!!(Eo(n)===s||s!==lt&&Qf(r,e,n))&&("**"===n.path||RI(r,n,e).matched)}(s,c,h,m)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(r,c,s,h,m,I):I&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,c,e,s,h,m):El(c):El(c)}expandSegmentAgainstRouteUsingRedirect(r,e,s,c,h,m){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,s,c,m):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,s,c,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,s,c){const h=this.applyRedirects.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?AI(h):this.applyRedirects.lineralizeSegments(s,h).pipe((0,Et.zg)(m=>{const I=new Qt(m,{});return this.processSegment(r,e,I,m,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,s,c,h,m){const{matched:I,consumedSegments:D,remainingSegments:R,positionalParamSegments:H}=RI(e,c,h);if(!I)return El(e);const V=this.applyRedirects.applyRedirectCommands(D,c.redirectTo,H);return c.redirectTo.startsWith("/")?AI(V):this.applyRedirects.lineralizeSegments(c,V).pipe((0,Et.zg)(K=>this.processSegment(r,s,e,K.concat(R),m,!1)))}matchSegmentAgainstRoute(r,e,s,c,h,m){let I;if("**"===s.path){const D=c.length>0?sm(c).parameters:{},R=new Em(c,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pv(s),Eo(s),s.component??s._loadedComponent??null,s,gv(s));I=(0,Ze.of)({snapshot:R,consumedSegments:[],remainingSegments:[]}),e.children={}}else I=hv(e,s,c,r).pipe((0,_t.U)(({matched:D,consumedSegments:R,remainingSegments:H,parameters:V})=>D?{snapshot:new Em(R,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pv(s),Eo(s),s.component??s._loadedComponent??null,s,gv(s)),consumedSegments:R,remainingSegments:H}:null));return I.pipe((0,Bt.w)(D=>null===D?El(e):this.getChildConfig(r=s._injector??r,s,c).pipe((0,Bt.w)(({routes:R})=>{const H=s._loadedInjector??r,{snapshot:V,consumedSegments:K,remainingSegments:ve}=D,{segmentGroup:Ae,slicedSegments:xe}=PI(e,K,ve,R);if(0===xe.length&&Ae.hasChildren())return this.processChildren(H,R,Ae).pipe((0,_t.U)(Pt=>null===Pt?null:[new vo(V,Pt)]));if(0===R.length&&0===xe.length)return(0,Ze.of)([new vo(V,[])]);const ze=Eo(s)===h;return this.processSegment(H,R,Ae,xe,ze?lt:h,!0).pipe((0,_t.U)(Pt=>[new vo(V,Pt)]))}))))}getChildConfig(r,e,s){return e.children?(0,Ze.of)({routes:e.children,injector:r}):e.loadChildren?void 0!==e._loadedRoutes?(0,Ze.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function TI(n,r,e,s){const c=r.canLoad;if(void 0===c||0===c.length)return(0,Ze.of)(!0);const h=c.map(m=>{const I=vl(m,n);return Yc(function fD(n){return n&&ir(n.canLoad)}(I)?I.canLoad(r,e):n.runInContext(()=>I(r,e)))});return(0,Ze.of)(h).pipe(aa(),SI())}(r,e,s).pipe((0,Et.zg)(c=>c?this.configLoader.loadChildren(r,e).pipe((0,yr.b)(h=>{e._loadedRoutes=h.routes,e._loadedInjector=h.injector})):function Qd(n){return(0,rm._)(ev(!1,3))}())):(0,Ze.of)({routes:[],injector:r})}}function AD(n){const r=n.value.routeConfig;return r&&""===r.path}function fv(n){const r=[],e=new Set;for(const s of n){if(!AD(s)){r.push(s);continue}const c=r.find(h=>s.value.routeConfig===h.value.routeConfig);void 0!==c?(c.children.push(...s.children),e.add(c)):r.push(s)}for(const s of e){const c=fv(s.children);r.push(new vo(s.value,c))}return r.filter(s=>!e.has(s))}function pv(n){return n.data||{}}function gv(n){return n.resolve||{}}function PD(n){return"string"==typeof n.title||null===n.title}function UI(n){return(0,Bt.w)(r=>{const e=n(r);return e?(0,xt.D)(e).pipe((0,_t.U)(()=>r)):(0,Ze.of)(r)})}const Jf=new d.OlP("ROUTES");let jI=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Ze.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=Yc(e.loadComponent()).pipe((0,_t.U)(ND),(0,yr.b)(h=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=h}),ji(()=>{this.componentLoaders.delete(e)})),c=new T0.c(s,()=>new yi.xQ).pipe((0,Vw.x)());return this.componentLoaders.set(e,c),c}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return(0,Ze.of)({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const h=function uS(n,r,e,s){return Yc(n.loadChildren()).pipe((0,_t.U)(ND),(0,Et.zg)(c=>c instanceof d.YKP||Array.isArray(c)?(0,Ze.of)(c):(0,xt.D)(r.compileModuleAsync(c))),(0,_t.U)(c=>{s&&s(n);let h,m,I=!1;return Array.isArray(c)?(m=c,!0):(h=c.create(e).injector,m=h.get(Jf,[],{optional:!0,self:!0}).flat()),{routes:m.map(ov),injector:h}}))}(s,this.compiler,e,this.onLoadEndListener).pipe(ji(()=>{this.childrenLoaders.delete(s)})),m=new T0.c(h,()=>new yi.xQ).pipe((0,Vw.x)());return this.childrenLoaders.set(s,m),m}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ND(n){return function lS(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let mv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yi.xQ,this.transitionAbortSubject=new yi.xQ,this.configLoader=(0,d.f3M)(jI),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Hf),this.rootContexts=(0,d.f3M)(Gf),this.inputBindingEnabled=null!==(0,d.f3M)(qf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ze.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=c=>this.events.next(new aI(c)),this.configLoader.onLoadStartListener=c=>this.events.next(new oI(c))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:s})}setupNavigations(e,s,c){return this.transitions=new Xr.X({id:0,currentUrlTree:s,currentRawUrl:s,currentBrowserUrl:s,extractedUrl:e.urlHandlingStrategy.extract(s),urlAfterRedirects:e.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$f,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ui(h=>0!==h.id),(0,_t.U)(h=>({...h,extractedUrl:e.urlHandlingStrategy.extract(h.rawUrl)})),(0,Bt.w)(h=>{this.currentTransition=h;let m=!1,I=!1;return(0,Ze.of)(h).pipe((0,yr.b)(D=>{this.currentNavigation={id:D.id,initialUrl:D.rawUrl,extractedUrl:D.extractedUrl,trigger:D.source,extras:D.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Bt.w)(D=>{const R=D.currentBrowserUrl.toString(),H=!e.navigated||D.extractedUrl.toString()!==R||R!==D.currentUrlTree.toString();if(!H&&"reload"!==(D.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const K="";return this.events.next(new $d(D.id,this.urlSerializer.serialize(D.rawUrl),K,0)),D.resolve(null),Ir.E}if(e.urlHandlingStrategy.shouldProcessUrl(D.rawUrl))return(0,Ze.of)(D).pipe((0,Bt.w)(K=>{const ve=this.transitions?.getValue();return this.events.next(new _m(K.id,this.urlSerializer.serialize(K.extractedUrl),K.source,K.restoredState)),ve!==this.transitions?.getValue()?Ir.E:Promise.resolve(K)}),function kI(n,r,e,s,c,h){return(0,Et.zg)(m=>function xI(n,r,e,s,c,h,m="emptyOnly"){return new OI(n,r,e,s,c,m,h).recognize()}(n,r,e,s,m.extractedUrl,c,h).pipe((0,_t.U)(({state:I,tree:D})=>({...m,targetSnapshot:I,urlAfterRedirects:D}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,yr.b)(K=>{h.targetSnapshot=K.targetSnapshot,h.urlAfterRedirects=K.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:K.urlAfterRedirects};const ve=new iI(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(ve)}));if(H&&e.urlHandlingStrategy.shouldProcessUrl(D.currentRawUrl)){const{id:K,extractedUrl:ve,source:Ae,restoredState:xe,extras:ze}=D,Pt=new _m(K,this.urlSerializer.serialize(ve),Ae,xe);this.events.next(Pt);const Vt=fI(0,this.rootComponentType).snapshot;return this.currentTransition=h={...D,targetSnapshot:Vt,urlAfterRedirects:ve,extras:{...ze,skipLocationChange:!1,replaceUrl:!1}},(0,Ze.of)(h)}{const K="";return this.events.next(new $d(D.id,this.urlSerializer.serialize(D.extractedUrl),K,1)),D.resolve(null),Ir.E}}),(0,yr.b)(D=>{const R=new Y0(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(R)}),(0,_t.U)(D=>(this.currentTransition=h={...D,guards:wI(D.targetSnapshot,D.currentSnapshot,this.rootContexts)},h)),function mD(n,r){return(0,Et.zg)(e=>{const{targetSnapshot:s,currentSnapshot:c,guards:{canActivateChecks:h,canDeactivateChecks:m}}=e;return 0===m.length&&0===h.length?(0,Ze.of)({...e,guardsResult:!0}):function lv(n,r,e,s){return(0,xt.D)(n).pipe((0,Et.zg)(c=>function dv(n,r,e,s,c){const h=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,Ze.of)(!0);const m=h.map(I=>{const D=Kf(r)??c,R=vl(I,D);return Yc(function iS(n){return n&&ir(n.canDeactivate)}(R)?R.canDeactivate(n,r,e,s):D.runInContext(()=>R(n,r,e,s))).pipe(qc())});return(0,Ze.of)(m).pipe(aa())}(c.component,c.route,e,r,s)),qc(c=>!0!==c,!0))}(m,s,c,n).pipe((0,Et.zg)(I=>I&&function Kd(n){return"boolean"==typeof n}(I)?function _D(n,r,e,s){return(0,xt.D)(r).pipe(ds(c=>Ly(function yD(n,r){return null!==n&&r&&r(new cI(n)),(0,Ze.of)(!0)}(c.route.parent,s),function DI(n,r){return null!==n&&r&&r(new lI(n)),(0,Ze.of)(!0)}(c.route,s),function ED(n,r,e){const s=r[r.length-1],h=r.slice(0,r.length-1).reverse().map(m=>function dD(n){const r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(m)).filter(m=>null!==m).map(m=>Hw(()=>{const I=m.guards.map(D=>{const R=Kf(m.node)??e,H=vl(D,R);return Yc(function rS(n){return n&&ir(n.canActivateChild)}(H)?H.canActivateChild(s,n):R.runInContext(()=>H(s,n))).pipe(qc())});return(0,Ze.of)(I).pipe(aa())}));return(0,Ze.of)(h).pipe(aa())}(n,c.path,e),function vD(n,r,e){const s=r.routeConfig?r.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Ze.of)(!0);const c=s.map(h=>Hw(()=>{const m=Kf(r)??e,I=vl(h,m);return Yc(function pD(n){return n&&ir(n.canActivate)}(I)?I.canActivate(r,n):m.runInContext(()=>I(r,n))).pipe(qc())}));return(0,Ze.of)(c).pipe(aa())}(n,c.route,e))),qc(c=>!0!==c,!0))}(s,h,n,r):(0,Ze.of)(I)),(0,_t.U)(I=>({...e,guardsResult:I})))})}(this.environmentInjector,D=>this.events.next(D)),(0,yr.b)(D=>{if(h.guardsResult=D.guardsResult,Qc(D.guardsResult))throw Xy(0,D.guardsResult);const R=new Q0(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot,!!D.guardsResult);this.events.next(R)}),ui(D=>!!D.guardsResult||(this.cancelNavigationTransition(D,"",3),!1)),UI(D=>{if(D.guards.canActivateChecks.length)return(0,Ze.of)(D).pipe((0,yr.b)(R=>{const H=new zf(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(H)}),(0,Bt.w)(R=>{let H=!1;return(0,Ze.of)(R).pipe(function LI(n,r){return(0,Et.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:c}}=e;if(!c.length)return(0,Ze.of)(e);let h=0;return(0,xt.D)(c).pipe(ds(m=>function MD(n,r,e,s){const c=n.routeConfig,h=n._resolve;return void 0!==c?.title&&!PD(c)&&(h[jf]=c.title),function RD(n,r,e,s){const c=function cS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===c.length)return(0,Ze.of)({});const h={};return(0,xt.D)(c).pipe((0,Et.zg)(m=>function FI(n,r,e,s){const c=Kf(r)??s,h=vl(n,c);return Yc(h.resolve?h.resolve(r,e):c.runInContext(()=>h(r,e)))}(n[m],r,e,s).pipe(qc(),(0,yr.b)(I=>{h[m]=I}))),im(1),function P0(n){return r=>r.lift(new N0(n))}(h),Va(m=>gD(m)?Ir.E:(0,rm._)(m)))}(h,n,r,s).pipe((0,_t.U)(m=>(n._resolvedData=m,n.data=pI(n,e).resolve,c&&PD(c)&&(n.data[jf]=c.title),null)))}(m.route,s,n,r)),(0,yr.b)(()=>h++),im(1),(0,Et.zg)(m=>h===c.length?(0,Ze.of)(e):Ir.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,yr.b)({next:()=>H=!0,complete:()=>{H||this.cancelNavigationTransition(R,"",2)}}))}),(0,yr.b)(R=>{const H=new sI(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(H)}))}),UI(D=>{const R=H=>{const V=[];H.routeConfig?.loadComponent&&!H.routeConfig._loadedComponent&&V.push(this.configLoader.loadComponent(H.routeConfig).pipe((0,yr.b)(K=>{H.component=K}),(0,_t.U)(()=>{})));for(const K of H.children)V.push(...R(K));return V};return nm(R(D.targetSnapshot.root)).pipe(Df(),er(1))}),UI(()=>this.afterPreactivation()),(0,_t.U)(D=>{const R=function sD(n,r,e){const s=Gd(n,r._root,e?e._root:void 0);return new nD(s,r)}(e.routeReuseStrategy,D.targetSnapshot,D.currentRouterState);return this.currentTransition=h={...D,targetRouterState:R},h}),(0,yr.b)(()=>{this.events.next(new dI)}),((n,r,e,s)=>(0,_t.U)(c=>(new EI(r,c.targetRouterState,c.currentRouterState,e,s).activate(n),c)))(this.rootContexts,e.routeReuseStrategy,D=>this.events.next(D),this.inputBindingEnabled),er(1),(0,yr.b)({next:D=>{m=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jc(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects))),e.titleStrategy?.updateTitle(D.targetRouterState.snapshot),D.resolve(!0)},complete:()=>{m=!0}}),Fy(this.transitionAbortSubject.pipe((0,yr.b)(D=>{throw D}))),ji(()=>{m||I||this.cancelNavigationTransition(h,"",1),this.currentNavigation?.id===h.id&&(this.currentNavigation=null)}),Va(D=>{if(I=!0,nv(D))this.events.next(new Wf(h.id,this.urlSerializer.serialize(h.extractedUrl),D.message,D.cancellationCode)),function tv(n){return nv(n)&&Qc(n.url)}(D)?this.events.next(new vm(D.url)):h.resolve(!1);else{this.events.next(new ym(h.id,this.urlSerializer.serialize(h.extractedUrl),D,h.targetSnapshot??void 0));try{h.resolve(e.errorHandler(D))}catch(R){h.reject(R)}}return Ir.E}))}))}cancelNavigationTransition(e,s,c){const h=new Wf(e.id,this.urlSerializer.serialize(e.extractedUrl),s,c);this.events.next(h),e.resolve(!1)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xD(n){return n!==$f}let _v=(()=>{class n{buildTitle(e){let s,c=e.root;for(;void 0!==c;)s=this.getResolvedTitleForRoute(c)??s,c=c.children.find(h=>h.outlet===lt);return s}getResolvedTitleForRoute(e){return e.data[jf]}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(yv)},providedIn:"root"})}return n})(),yv=(()=>{class n extends _v{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(ye))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BI=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Tm)},providedIn:"root"})}return n})();class OD{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}let Tm=(()=>{class n extends OD{static#e=this.\u0275fac=function(){let e;return function(c){return(e||(e=d.n5z(n)))(c||n)}}();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Sm=new d.OlP("",{providedIn:"root",factory:()=>({})});let dS=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(hS)},providedIn:"root"})}return n})(),hS=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,s){return e}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Xf||{});function vv(n,r){n.events.pipe(ui(e=>e instanceof Jc||e instanceof Wf||e instanceof ym||e instanceof $d),(0,_t.U)(e=>e instanceof Jc||e instanceof $d?Xf.COMPLETE:e instanceof Wf&&(0===e.code||1===e.code)?Xf.REDIRECTING:Xf.FAILED),ui(e=>e!==Xf.REDIRECTING),er(1)).subscribe(()=>{r()})}function kD(n){throw n}function LD(n,r,e){return r.parse("/")}const FD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ls=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new yi.xQ,this.options=(0,d.f3M)(Sm,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||kD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||LD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(dS),this.routeReuseStrategy=(0,d.f3M)(BI),this.titleStrategy=(0,d.f3M)(_v),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Jf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(mv),this.urlSerializer=(0,d.f3M)(Hf),this.location=(0,d.f3M)(be),this.componentInputBindingEnabled=!!(0,d.f3M)(qf,{optional:!0}),this.eventsSubscription=new io.w,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fI(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(s=>{try{const{currentTransition:c}=this.navigationTransitions;if(null===c)return void(tp(s)&&this._events.next(s));if(s instanceof _m)xD(c.source)&&(this.browserUrlTree=c.extractedUrl);else if(s instanceof $d)this.rawUrlTree=c.rawUrl;else if(s instanceof iI){if("eager"===this.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);this.setBrowserUrl(h,c)}this.browserUrlTree=c.urlAfterRedirects}}else if(s instanceof dI)this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects);else if(s instanceof Wf)0!==s.code&&1!==s.code&&(this.navigated=!0),(3===s.code||2===s.code)&&this.restoreHistory(c);else if(s instanceof vm){const h=this.urlHandlingStrategy.merge(s.url,c.currentRawUrl),m={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xD(c.source)};this.scheduleNavigation(h,$f,null,m,{resolve:c.resolve,reject:c.reject,promise:c.promise})}s instanceof ym&&this.restoreHistory(c,!0),s instanceof Jc&&(this.navigated=!0),tp(s)&&this._events.next(s)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$f,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,s,e.state)},0)}))}navigateToSyncWithBrowser(e,s,c){const h={replaceUrl:!0},m=c?.navigationId?c:null;if(c){const D={...c};delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(h.state=D)}const I=this.parseUrl(e);this.scheduleNavigation(I,s,m,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ov),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,s={}){const{relativeTo:c,queryParams:h,fragment:m,queryParamsHandling:I,preserveFragment:D}=s,R=D?this.currentUrlTree.fragment:m;let V,H=null;switch(I){case"merge":H={...this.currentUrlTree.queryParams,...h};break;case"preserve":H=this.currentUrlTree.queryParams;break;default:H=h||null}null!==H&&(H=this.removeEmptyProps(H));try{V=eI(c?c.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),V=this.currentUrlTree.root}return Gy(V,e,H,R??null)}navigateByUrl(e,s={skipLocationChange:!1}){const c=Qc(e)?e:this.parseUrl(e),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,$f,null,s)}navigate(e,s={skipLocationChange:!1}){return function ep(n){for(let r=0;r<n.length;r++)if(null==n[r])throw new d.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(c){s=this.malformedUriErrorHandler(c,this.urlSerializer,e)}return s}isActive(e,s){let c;if(c=!0===s?{...FD}:!1===s?{...fS}:s,Qc(e))return Zw(this.currentUrlTree,e,c);const h=this.parseUrl(e);return Zw(this.currentUrlTree,h,c)}removeEmptyProps(e){return Object.keys(e).reduce((s,c)=>{const h=e[c];return null!=h&&(s[c]=h),s},{})}scheduleNavigation(e,s,c,h,m){if(this.disposed)return Promise.resolve(!1);let I,D,R;m?(I=m.resolve,D=m.reject,R=m.promise):R=new Promise((V,K)=>{I=V,D=K});const H=this.pendingTasks.add();return vv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(H))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:h,resolve:I,reject:D,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(V=>Promise.reject(V))}setBrowserUrl(e,s){const c=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(c)||s.extras.replaceUrl){const m={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(c,"",m)}else{const h={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(c,"",h)}}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-this.browserPageId;0!==h?this.location.historyGo(h):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tp(n){return!(n instanceof dI||n instanceof vm)}let Am=(()=>{class n{constructor(e,s,c,h,m,I){this.router=e,this.route=s,this.tabIndexAttribute=c,this.renderer=h,this.el=m,this.locationStrategy=I,this.href=null,this.commands=null,this.onChanges=new yi.xQ,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const D=m.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===D||"area"===D,this.isAnchorElement?this.subscription=e.events.subscribe(R=>{R instanceof Jc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,s,c,h,m){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||s||c||h||m||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,s){const c=this.renderer,h=this.el.nativeElement;null!==s?c.setAttribute(h,e,s):c.removeAttribute(h,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(Ls),d.Y36(oa),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ne))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,c){1&s&&d.NdJ("click",function(m){return c.onClick(m.button,m.ctrlKey,m.shiftKey,m.altKey,m.metaKey)}),2&s&&d.uIk("target",c.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]})}return n})(),HI=(()=>{class n{get isActive(){return this._isActive}constructor(e,s,c,h,m){this.router=e,this.element=s,this.renderer=c,this.cdr=h,this.link=m,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=e.events.subscribe(I=>{I instanceof Jc&&this.update()})}ngAfterContentInit(){(0,Ze.of)(this.links.changes,(0,Ze.of)(null)).pipe((0,Ff.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=(0,xt.D)(e).pipe((0,Ff.J)()).subscribe(s=>{this._isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const s=Array.isArray(e)?e:e.split(" ");this.classes=s.filter(c=>!!c)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(s=>{e?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const s=function UD(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return c=>!!c.urlTree&&e.isActive(c.urlTree,s)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(Ls),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(Am,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(s,c,h){if(1&s&&d.Suo(h,Am,5),2&s){let m;d.iGM(m=d.CRH())&&(c.links=m)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.TTD]})}return n})();class VI{}let Ev=(()=>{class n{constructor(e,s,c,h,m){this.router=e,this.injector=c,this.preloadingStrategy=h,this.loader=m}setUpPreloading(){this.subscription=this.router.events.pipe(ui(e=>e instanceof Jc),ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const c=[];for(const h of s){h.providers&&!h._injector&&(h._injector=(0,d.MMx)(h.providers,e,`Route: ${h.path}`));const m=h._injector??e,I=h._loadedInjector??m;(h.loadChildren&&!h._loadedRoutes&&void 0===h.canLoad||h.loadComponent&&!h._loadedComponent)&&c.push(this.preloadConfig(m,h)),(h.children||h._loadedRoutes)&&c.push(this.processRoutes(I,h.children??h._loadedRoutes))}return(0,xt.D)(c).pipe((0,Ff.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let c;c=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):(0,Ze.of)(null);const h=c.pipe((0,Et.zg)(m=>null===m?(0,Ze.of)(void 0):(s._loadedRoutes=m.routes,s._loadedInjector=m.injector,this.processRoutes(m.injector??e,m.routes))));if(s.loadComponent&&!s._loadedComponent){const m=this.loader.loadComponent(s);return(0,xt.D)([h,m]).pipe((0,Ff.J)())}return h})}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(Ls),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(VI),d.LFG(jI))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wv=new d.OlP("");let $I=(()=>{class n{constructor(e,s,c,h,m={}){this.urlSerializer=e,this.transitions=s,this.viewportScroller=c,this.zone=h,this.options=m,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},m.scrollPositionRestoration=m.scrollPositionRestoration||"disabled",m.anchorScrolling=m.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _m?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof $d&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof X0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new X0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){d.$Z()};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function $a(n,r){return{\u0275kind:n,\u0275providers:r}}function Iv(){const n=(0,d.f3M)(d.zs3);return r=>{const e=n.get(d.z2F);if(r!==e.components[0])return;const s=n.get(Ls),c=n.get(Mm);1===n.get(Cv)&&s.initialNavigation(),n.get(VD,null,d.XFs.Optional)?.setUpPreloading(),n.get(wv,null,d.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),c.closed||(c.next(),c.complete(),c.unsubscribe())}}const Mm=new d.OlP("",{factory:()=>new yi.xQ}),Cv=new d.OlP("",{providedIn:"root",factory:()=>1}),VD=new d.OlP("");function wi(n){return $a(0,[{provide:VD,useExisting:Ev},{provide:VI,useExisting:n}])}const Rm=new d.OlP("ROUTER_FORROOT_GUARD"),Xc=[be,{provide:Hf,useClass:am},Ls,Gf,{provide:oa,useFactory:function WI(n){return n.routerState.root},deps:[Ls]},jI,[]];function ZI(){return new d.PXZ("Router",Ls)}let Pm=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[Xc,[],{provide:Jf,multi:!0,useValue:e},{provide:Rm,useFactory:qI,deps:[[Ls,new d.FiY,new d.tp0]]},{provide:Sm,useValue:s||{}},s?.useHash?{provide:ne,useClass:ce}:{provide:ne,useClass:We},{provide:wv,useFactory:()=>{const n=(0,d.f3M)(Er),r=(0,d.f3M)(d.R0b),e=(0,d.f3M)(Sm),s=(0,d.f3M)(mv),c=(0,d.f3M)(Hf);return e.scrollOffset&&n.setOffset(e.scrollOffset),new $I(c,s,n,r,e)}},s?.preloadingStrategy?wi(s.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:ZI},s?.initialNavigation?GD(s):[],s?.bindToComponentInputs?$a(8,[mI,{provide:qf,useExisting:mI}]).\u0275providers:[],[{provide:KI,useFactory:Iv},{provide:d.tb,multi:!0,useExisting:KI}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Jf,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(Rm,8))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function qI(n){return"guarded"}function GD(n){return["disabled"===n.initialNavigation?$a(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const r=(0,d.f3M)(Ls);return()=>{r.setUpLocationChangeListener()}}},{provide:Cv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$a(2,[{provide:Cv,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:r=>{const e=r.get(se,Promise.resolve());return()=>e.then(()=>new Promise(s=>{const c=r.get(Ls),h=r.get(Mm);vv(c,()=>{s(!0)}),r.get(mv).afterPreactivation=()=>(s(!0),h.closed?(0,Ze.of)(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const KI=new d.OlP("");let DS=(()=>{class n{constructor(e){this.userService=e,this.onLogin=new d.vpe}checkPassword(e){this.userService.checkPassword(e),this.onLogin.emit(this.userService.checkIfLogged())}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(tm))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],outputs:{onLogin:"onLogin"},decls:5,vars:0,consts:[[1,"login-wrapper"],["type","password"],["password",""],[3,"click"]],template:function(s,c){if(1&s){const h=d.EpF();d.TgZ(0,"div",0),d._UZ(1,"input",1,2),d.TgZ(3,"button",3),d.NdJ("click",function(){d.CHM(h);const I=d.MAs(2);return d.KtG(c.checkPassword(I.value))}),d._uU(4,"Login"),d.qZA()()}},encapsulation:2})}return n})();function Dv(n,r){if(1&n&&(d.TgZ(0,"a",3),d._uU(1),d.qZA()),2&n){const e=r.$implicit;d.Q6J("routerLink",e.target),d.xp6(1),d.Oqu(e.text)}}function YI(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"app-login",4),d.NdJ("onLogin",function(){d.CHM(e);const c=d.oxw();return d.KtG(c.checkLogin())}),d.qZA()}}let QI=(()=>{class n{constructor(e,s){this.wordsService=e,this.userService=s,this.title="WordsExpert",this.links=[{target:"/add-words",text:"Add Words"},{target:"/check-words",text:"Check Words"},{target:"/learn-words",text:"Learn Words"},{target:"/repeat-words",text:"Repeat Words"}],this.wordsService.getWords().pipe(er(1)).subscribe()}ngOnInit(){this.checkLogin()}checkLogin(){this.isLoggedIn=this.userService.checkIfLogged()}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(pl),d.Y36(tm))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:3,consts:[[2,"text-align","center"],["routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],[3,"onLogin",4,"ngIf"],["routerLinkActive","active",3,"routerLink"],[3,"onLogin"]],template:function(s,c){1&s&&(d.TgZ(0,"div",0)(1,"h1"),d._uU(2),d.qZA()(),d.TgZ(3,"nav"),d.YNc(4,Dv,2,2,"a",1),d.qZA(),d.YNc(5,YI,1,0,"app-login",2),d._UZ(6,"router-outlet")),2&s&&(d.xp6(2),d.hij(" Welcome to ",c.title,"! "),d.xp6(2),d.Q6J("ngForOf",c.links),d.xp6(1),d.Q6J("ngIf",!c.isLoggedIn))},dependencies:[Rr,si,Qy,Am,HI,DS],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;margin:5px;background-color:#0d1366;display:inline-block;width:150px;font-size:18px;font-weight:700;text-align:center;text-decoration:none;color:#fff}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#add8e6;color:#000}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#add8e6;color:#000}"]})}return n})();class JI{constructor(r,e){this.dueTime=r,this.scheduler=e}call(r,e){return e.subscribe(new XI(r,this.dueTime,this.scheduler))}}class XI extends bn.L{constructor(r,e,s){super(r),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Jd,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:r}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}}clearDebounce(){const r=this.debouncedSubscription;null!==r&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)}}function Jd(n){n.debouncedNext()}const Nm=["word"],eC=["translation"];function tC(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"div",9),d.NdJ("dblclick",function(){const h=d.CHM(e).$implicit,m=d.oxw();return d.KtG(m.addExistingToLearn(h))}),d._uU(1),d.TgZ(2,"b"),d._uU(3),d.qZA(),d._uU(4),d.qZA()}if(2&n){const e=r.$implicit,s=d.oxw();d.ekj("added",s.isAlreadyAdded(e)),d.xp6(1),d.hij(" ",e.key," - "),d.xp6(2),d.Oqu(e.english),d.xp6(1),d.lnq(" - ",e.russian," - ",e.status," (",e.successes||0,") ")}}let JD=(()=>{class n{constructor(e){this.wordService=e,this.wordValue=new yi.xQ,this.destroyed=new yi.xQ,this.loaded=!1,this.wordsList=[],this.searchResult=[],this.newWords={}}ngOnInit(){this.setWordList(),this.handleSearch()}setWordList(){this.wordService.getWords().subscribe(e=>{console.log(e),this.wordsList=e,this.loaded=!0})}handleSearch(){this.wordValue.asObservable().pipe(Fy(this.destroyed),function QD(n,r=Ch.P){return e=>e.lift(new JI(n,r))}(500),(0,Ep.x)()).subscribe(e=>{this.updateSearch(e)})}addWord(){const e=this.wordInput.nativeElement.value,s=this.translationInput.nativeElement.value;if(!e||!s)return;const c={english:e,russian:s,status:"queue",wasMistaked:!0,successes:0};this.wordService.addWord(String(this.wordsList.length+1),c).then(h=>this.clear())}clear(){this.wordInput.nativeElement.value="",this.translationInput.nativeElement.value=""}onChangeWordInput(e){this.wordValue.next(e.target.value)}updateSearch(e){this.searchResult=e?this.wordsList.filter(s=>s.english.toLowerCase().includes(e.toLowerCase())):[]}addExistingToLearn(e){if(this.isAlreadyAdded(e))return;const s={...e,status:"queue",successes:0,wasMistaked:!0};this.wordService.updateWord(s).then(c=>this.newWords[s.english]=!0)}isAlreadyAdded(e){return this.newWords[e.english]}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(pl))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-add-words"]],viewQuery:function(s,c){if(1&s&&(d.Gf(Nm,5),d.Gf(eC,5)),2&s){let h;d.iGM(h=d.CRH())&&(c.wordInput=h.first),d.iGM(h=d.CRH())&&(c.translationInput=h.first)}},decls:13,vars:4,consts:[[1,"wrapper"],[1,"input-wrapper"],["type","text","placeholder","Word",3,"disabled","input"],["word",""],["type","text","placeholder","Translation",3,"disabled"],["translation",""],[3,"disabled","click"],[1,"search-result"],["class","search-item",3,"added","dblclick",4,"ngFor","ngForOf"],[1,"search-item",3,"dblclick"]],template:function(s,c){1&s&&(d.TgZ(0,"div",0)(1,"h2"),d._uU(2,"Add words"),d.qZA(),d.TgZ(3,"div",1)(4,"input",2,3),d.NdJ("input",function(m){return c.onChangeWordInput(m)}),d.qZA()(),d.TgZ(6,"div",1),d._UZ(7,"input",4,5),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return c.addWord()}),d._uU(10,"Add"),d.qZA(),d.TgZ(11,"div",7),d.YNc(12,tC,5,7,"div",8),d.qZA()()),2&s&&(d.xp6(4),d.Q6J("disabled",!c.loaded),d.xp6(3),d.Q6J("disabled",!c.loaded),d.xp6(2),d.Q6J("disabled",!c.loaded),d.xp6(3),d.Q6J("ngForOf",c.searchResult))},dependencies:[Rr],styles:[".wrapper[_ngcontent-%COMP%]{margin:auto}.wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:350px;margin:20px auto 0}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:18px}.wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:30px;display:block;font-size:16px;font-weight:700;margin:20px auto 0}.wrapper[_ngcontent-%COMP%]   .search-result[_ngcontent-%COMP%]{margin-top:50px}.wrapper[_ngcontent-%COMP%]   .search-result[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]{max-width:80%;text-align:center;font-size:20px;margin:5px auto;cursor:pointer;-webkit-user-select:none;user-select:none}.wrapper[_ngcontent-%COMP%]   .search-result[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]:hover{color:#00f}.wrapper[_ngcontent-%COMP%]   .search-result[_ngcontent-%COMP%]   .search-item.added[_ngcontent-%COMP%]{color:green}"]})}return n})(),Tv=(()=>{class n{transform(e,s){const c=e.split(""),h=e.split(" ");for(let m=0;m<c.length;m++)c[m]=" _ ";return h.length>1?c.join("")+" ("+c.length+")  ("+h.length+") ":c.join("")+" ("+c.length+") "}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275pipe=d.Yjl({name:"english",type:n,pure:!0})}return n})();const TS=["answer"];function nC(n,r){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.ALo(2,"english"),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Oqu(d.lcZ(2,1,e.currentWord.english))}}function XD(n,r){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Oqu(e.currentWord.english)}}function eT(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(){d.CHM(e);const c=d.oxw(),h=d.MAs(11);return d.KtG(c.checkWord(h.value))}),d._uU(1,"Check"),d.qZA()}}function tT(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(){d.CHM(e);const c=d.oxw();return d.KtG(c.nextWord())}),d._uU(1,"Next word"),d.qZA()}}function SS(n,r){1&n&&(d.TgZ(0,"div",14),d._uU(1,"Correct!"),d.qZA())}function AS(n,r){1&n&&(d.TgZ(0,"div",15),d._uU(1,"Mistake :("),d.qZA())}let rC=(()=>{class n{constructor(e){this.wordService=e,this.wordsList=[],this.currentWordIndex=1,this.learned=0,this.queue=0,this.inProgress=0,this.notChecked=0,this.onRepeat=0,this.allWordsCount=0,this.inputLength=0,this.learnedNew=0}ngOnInit(){this.wordService.getWords().pipe(er(1)).subscribe(e=>{this.allWordsCount=e.length;const s=[];e.forEach(c=>{"learned"===c.status?this.learned++:"queue"===c.status?this.queue++:"in-progress"===c.status?this.inProgress++:"on-repeat"===c.status?this.onRepeat++:"learned-new"===c.status?this.learnedNew++:"not-checked"===c.status&&(this.notChecked++,s.push(c))});for(let c=0;c<s.length;c++){const h=Math.floor(Math.random()*s.length);[s[c],s[h]]=[s[h],s[c]]}this.wordsList=s})}get currentWord(){return this.wordsList.length>0?this.wordsList[this.currentWordIndex-1]:{english:"loading",russian:"loading",status:"loading",index:"loading"}}checkWord(e){const s=this.currentWord;String(e).toLowerCase()===this.currentWord.english.toLowerCase()?(this.correct=!0,this.learned++,s.status="learned"):(this.mistake=!0,this.queue++,s.status="queue"),this.notChecked--,this.wordService.updateWord(s)}get wasAnswered(){return this.correct||this.mistake}reset(){this.correct=null,this.mistake=null,this.answer.nativeElement.value=""}nextWord(){this.reset(),this.currentWordIndex++}get success(){return(100*(this.allWordsCount-this.notChecked)/this.allWordsCount).toFixed(2)+"%"}get rCoefficient(){return(100*this.learned/(this.allWordsCount-this.notChecked)).toFixed(2)+"%"}onKeyUp(){this.inputLength=this.answer.nativeElement.value.length}onEnter(e){this.wasAnswered?this.nextWord():this.checkWord(e)}get lnor(){return this.onRepeat+this.learnedNew}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(pl))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-check-words"]],viewQuery:function(s,c){if(1&s&&d.Gf(TS,5),2&s){let h;d.iGM(h=d.CRH())&&(c.answer=h.first)}},decls:38,vars:18,consts:[[1,"wrapper"],[1,"id"],[1,"russian"],[4,"ngIf","ngIfElse"],["fullWord",""],[1,"input-wrapper"],["type","text",3,"keyup.enter","keyup"],["answer",""],[1,"buttons"],[3,"click",4,"ngIf"],["class","correct",4,"ngIf"],["class","mistake",4,"ngIf"],[1,"stats"],[3,"click"],[1,"correct"],[1,"mistake"]],template:function(s,c){if(1&s){const h=d.EpF();d.TgZ(0,"div",0)(1,"div")(2,"span",1),d._uU(3),d.qZA(),d.TgZ(4,"span",2),d._uU(5),d.qZA()(),d.YNc(6,nC,3,3,"div",3),d.YNc(7,XD,2,1,"ng-template",null,4,d.W1O),d.TgZ(9,"div",5)(10,"input",6,7),d.NdJ("keyup.enter",function(){d.CHM(h);const I=d.MAs(11);return d.KtG(c.onEnter(I.value))})("keyup",function(){return c.onKeyUp()}),d.qZA(),d.TgZ(12,"span"),d._uU(13),d.qZA(),d.TgZ(14,"div",8),d.YNc(15,eT,2,0,"button",9),d.YNc(16,tT,2,0,"button",9),d.qZA()(),d.YNc(17,SS,2,0,"div",10),d.YNc(18,AS,2,0,"div",11),d.TgZ(19,"div",12)(20,"div"),d._uU(21),d.qZA(),d.TgZ(22,"div"),d._uU(23),d.qZA(),d.TgZ(24,"div"),d._uU(25),d.qZA(),d.TgZ(26,"div"),d._uU(27),d.qZA(),d.TgZ(28,"div"),d._uU(29),d.qZA(),d.TgZ(30,"div"),d._uU(31),d.qZA(),d.TgZ(32,"div"),d._uU(33),d.qZA(),d.TgZ(34,"div"),d._uU(35),d.qZA(),d.TgZ(36,"div"),d._uU(37),d.qZA()()()}if(2&s){const h=d.MAs(8);d.xp6(3),d.Oqu(c.currentWord.key),d.xp6(2),d.hij(". ",c.currentWord.russian,""),d.xp6(1),d.Q6J("ngIf",!c.wasAnswered)("ngIfElse",h),d.xp6(7),d.hij(" ",c.inputLength,""),d.xp6(2),d.Q6J("ngIf",!c.wasAnswered),d.xp6(1),d.Q6J("ngIf",c.wasAnswered),d.xp6(1),d.Q6J("ngIf",c.correct),d.xp6(1),d.Q6J("ngIf",c.mistake),d.xp6(3),d.hij("Learned - ",c.learned,""),d.xp6(2),d.hij("Learned new - ",c.learnedNew,""),d.xp6(2),d.hij("On repeat - ",c.onRepeat,""),d.xp6(2),d.hij("Learned new + On repeat - ",c.lnor,""),d.xp6(2),d.hij("In queue - ",c.queue,""),d.xp6(2),d.hij("In progress - ",c.inProgress,""),d.xp6(2),d.hij("Not checked - ",c.notChecked,""),d.xp6(2),d.hij("Success - ",c.success,""),d.xp6(2),d.hij("R Coefficient - ",c.rCoefficient,"")}},dependencies:[si,Tv],styles:[".wrapper[_ngcontent-%COMP%]{width:400px;margin:20px auto;text-align:center;font-size:24px;line-height:30px}.wrapper[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{font-weight:700}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{margin-top:15px}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:24px;padding:5px;text-align:center}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin:10px auto}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:700;color:#fff;text-decoration:none;padding:5px 20px;border-radius:3px;background:rgb(64,199,129);box-shadow:0 -3px #35a76e inset;transition:.2s;width:160px;font-size:22px}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(53,167,110);cursor:pointer}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:rgb(33,147,90);box-shadow:0 3px #21935a inset}.wrapper[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{color:green}.wrapper[_ngcontent-%COMP%]   .mistake[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{font-size:16px;border:1px solid lightgray;width:250px;margin:140px auto 0;padding:20px}"]})}return n})();const nT=["answer"],rT=["russianInput"],iT=["englishInput"];function MS(n,r){if(1&n&&(d.ynx(0),d.TgZ(1,"span",17),d._uU(2),d.qZA(),d.TgZ(3,"span",18),d._uU(4),d.qZA(),d.BQk()),2&n){const e=d.oxw(2);d.xp6(2),d.Oqu(e.currentWord.key),d.xp6(2),d.hij(". ",e.currentWord.russian,"")}}function RS(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"input",19,20),d.NdJ("keyup.enter",function(){d.CHM(e);const c=d.oxw(2);return d.KtG(c.onSave())}),d.qZA()}if(2&n){const e=d.oxw(2);d.Q6J("value",e.currentWord.russian)}}function PS(n,r){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.ALo(2,"english"),d.qZA()),2&n){const e=d.oxw(2);d.xp6(1),d.Oqu(d.xi3(2,1,e.currentWord.english,e.wordSuccesses))}}function NS(n,r){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&n){const e=d.oxw(3);d.xp6(1),d.Oqu(e.currentWord.english)}}function xS(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"input",19,21),d.NdJ("keyup.enter",function(){d.CHM(e);const c=d.oxw(3);return d.KtG(c.onSave())}),d.qZA()}if(2&n){const e=d.oxw(3);d.Q6J("value",e.currentWord.english)}}function sT(n,r){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,NS,2,1,"span",6),d.YNc(2,xS,2,1,"input",7),d.qZA()),2&n){const e=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!e.editMode),d.xp6(1),d.Q6J("ngIf",e.editMode)}}function xm(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"button",22),d.NdJ("click",function(){d.CHM(e),d.oxw();const c=d.MAs(9),h=d.oxw();return d.KtG(h.checkWord(c.value))}),d._uU(1,"Check"),d.qZA()}}function oT(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"button",22),d.NdJ("click",function(){d.CHM(e);const c=d.oxw(2);return d.KtG(c.nextWord())}),d._uU(1,"Next word"),d.qZA()}}function aT(n,r){1&n&&(d.TgZ(0,"div",23),d._uU(1,"Correct!"),d.qZA())}function iC(n,r){1&n&&(d.TgZ(0,"div",24),d._uU(1,"Mistake :("),d.qZA())}function wl(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"div",4)(1,"div",5),d.NdJ("dblclick",function(){d.CHM(e);const c=d.oxw();return d.KtG(c.enableEditMode())}),d.YNc(2,MS,5,2,"ng-container",6),d.YNc(3,RS,2,1,"input",7),d.qZA(),d.YNc(4,PS,3,4,"div",8),d.YNc(5,sT,3,2,"ng-template",null,9,d.W1O),d.TgZ(7,"div",10)(8,"input",11,12),d.NdJ("keyup.enter",function(){d.CHM(e);const c=d.MAs(9),h=d.oxw();return d.KtG(h.onEnter(c.value))})("keyup",function(){d.CHM(e);const c=d.MAs(9),h=d.oxw();return d.KtG(h.onKeyUp(c.value))}),d.qZA(),d.TgZ(10,"span"),d._uU(11),d.qZA(),d.TgZ(12,"div",13),d.YNc(13,xm,2,0,"button",14),d.YNc(14,oT,2,0,"button",14),d.qZA()(),d.YNc(15,aT,2,0,"div",15),d.YNc(16,iC,2,0,"div",16),d.qZA()}if(2&n){const e=d.MAs(6),s=d.oxw();d.xp6(2),d.Q6J("ngIf",!s.editMode),d.xp6(1),d.Q6J("ngIf",s.editMode),d.xp6(1),d.Q6J("ngIf",!s.wasAnswered)("ngIfElse",e),d.xp6(4),d.ekj("discrepancy",s.discrepancy),d.xp6(3),d.hij(" ",s.inputLength,""),d.xp6(2),d.Q6J("ngIf",!s.wasAnswered),d.xp6(1),d.Q6J("ngIf",s.wasAnswered),d.xp6(1),d.Q6J("ngIf",s.correct),d.xp6(1),d.Q6J("ngIf",s.mistake)}}function sC(n,r){if(1&n&&(d.TgZ(0,"li"),d._uU(1),d.qZA()),2&n){const e=r.$implicit;d.xp6(1),d.AsE("",e.english," - ",e.russian,"")}}function Sv(n,r){if(1&n&&(d.TgZ(0,"div",25)(1,"h2"),d._uU(2,"Finish!"),d.qZA(),d.TgZ(3,"ol"),d.YNc(4,sC,2,2,"li",26),d.qZA()()),2&n){const e=d.oxw();d.xp6(4),d.Q6J("ngForOf",e.IncorrectWords)}}function Av(n,r){if(1&n&&(d.TgZ(0,"div",27),d._UZ(1,"iframe",28),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("src",e.frameUrl,d.uOi)}}let oC=(()=>{class n{constructor(e,s,c){this.wordService=e,this.sanitizer=s,this.location=c,this.QueueWordsList=[],this.ProgressWordsList=[],this.IncorrectWords=[],this.currentWordIndex=1,this.correctAnswers=0,this.discrepancy=!1,this.mistakeAnswers=0,this.inputLength=0,this.finish=!1,this.editMode=!1}ngOnInit(){this.wordService.getWords().pipe(er(1)).subscribe(e=>{this.progressQueueFilter(e),this.ProgressWordsList.length<30&&this.addFromQueue(),this.makeRandomization(this.ProgressWordsList)})}progressQueueFilter(e){e.forEach(s=>{"queue"===s.status?this.QueueWordsList.push(s):"in-progress"===s.status&&this.ProgressWordsList.push(s)})}addFromQueue(){this.makeRandomization(this.QueueWordsList);const e=this.ProgressWordsList.length;for(let s=1;s<=30-e;s++){const h=this.QueueWordsList[this.QueueWordsList.length-1];if(!h)break;h.status="in-progress",h.successes=0,this.wordService.updateWord(h),this.ProgressWordsList.push(h),this.QueueWordsList.pop()}}get currentWord(){return this.ProgressWordsList.length>0?this.ProgressWordsList[this.currentWordIndex-1]:{english:"loading",russian:"loading",status:"loading",key:"0"}}checkWord(e){const s=this.currentWord;String(e).toLowerCase()===this.currentWord.english.toLowerCase()?(this.correct=!0,this.correctAnswers++,s.successes++,s.successes>3&&(s.status=s.wasMistaked?"on-repeat":"learned-new",s.successes=0,s.date=new Date)):(this.mistake=!0,this.mistakeAnswers++,s.successes=s.successes>0?0:s.successes-.5,s.wasMistaked=!0,this.IncorrectWords.push(s)),this.wordService.updateWord(s)}checkDiscrepancy(e){String(e).toLowerCase()!==this.currentWord.english.toLowerCase()&&(this.discrepancy=e.length>=this.currentWord.english.length)}get wasAnswered(){return this.correct||this.mistake}reset(){this.correct=null,this.mistake=null,this.discrepancy=null,this.answer.nativeElement.value=""}nextWord(){this.reset(),this.currentWordIndex<this.ProgressWordsList.length?this.currentWordIndex++:this.finish=!0}onKeyUp(e){this.inputLength=this.answer.nativeElement.value.length,this.checkDiscrepancy(e)}onEnter(e){this.wasAnswered?this.nextWord():this.checkWord(e)}get allAnswers(){return this.correctAnswers+this.mistakeAnswers}get wordStatus(){return this.currentWord.status}get wordSuccesses(){return this.currentWord.successes}get inProgress(){return this.ProgressWordsList.length}get inQueue(){return this.QueueWordsList.length}get frameUrl(){return this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.merriam-webster.com/dictionary/${this.currentWord.english}`)}makeRandomization(e){for(let s=0;s<e.length;s++){const c=Math.floor(Math.random()*e.length);[e[s],e[c]]=[e[c],e[s]]}}enableEditMode(){this.wasAnswered&&(this.editMode=!0)}onSave(){const e={...this.currentWord,russian:this.russianInput.nativeElement.value,english:this.englishInput.nativeElement.value};this.wordService.updateWord(e).then(s=>{Object.assign(this.currentWord,e),this.editMode=!1,console.log(this.currentWord)})}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(pl),d.Y36(mr),d.Y36(be))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-learn-words"]],viewQuery:function(s,c){if(1&s&&(d.Gf(nT,5),d.Gf(rT,5),d.Gf(iT,5)),2&s){let h;d.iGM(h=d.CRH())&&(c.answer=h.first),d.iGM(h=d.CRH())&&(c.russianInput=h.first),d.iGM(h=d.CRH())&&(c.englishInput=h.first)}},decls:18,vars:10,consts:[["class","wrapper",4,"ngIf"],["class","finish",4,"ngIf"],["class","frame",4,"ngIf"],[1,"stats"],[1,"wrapper"],[3,"dblclick"],[4,"ngIf"],["type","text",3,"value","keyup.enter",4,"ngIf"],[4,"ngIf","ngIfElse"],["fullWord",""],[1,"input-wrapper"],["type","text",3,"keyup.enter","keyup"],["answer",""],[1,"buttons"],[3,"click",4,"ngIf"],["class","correct",4,"ngIf"],["class","mistake",4,"ngIf"],[1,"id"],[1,"russian"],["type","text",3,"value","keyup.enter"],["russianInput",""],["englishInput",""],[3,"click"],[1,"correct"],[1,"mistake"],[1,"finish"],[4,"ngFor","ngForOf"],[1,"frame"],[3,"src"]],template:function(s,c){1&s&&(d.YNc(0,wl,17,11,"div",0),d.YNc(1,Sv,5,1,"div",1),d.YNc(2,Av,2,1,"div",2),d.TgZ(3,"div",3)(4,"div"),d._uU(5),d.qZA(),d.TgZ(6,"div"),d._uU(7),d.qZA(),d.TgZ(8,"div"),d._uU(9),d.qZA(),d.TgZ(10,"div"),d._uU(11),d.qZA(),d.TgZ(12,"div"),d._uU(13),d.qZA(),d.TgZ(14,"div"),d._uU(15),d.qZA(),d.TgZ(16,"div"),d._uU(17),d.qZA()()),2&s&&(d.Q6J("ngIf",!c.finish),d.xp6(1),d.Q6J("ngIf",c.finish),d.xp6(1),d.Q6J("ngIf",c.mistake),d.xp6(3),d.hij("In progress - ",c.inProgress,""),d.xp6(2),d.hij("In queue - ",c.inQueue,""),d.xp6(2),d.hij("All answers - ",c.allAnswers,""),d.xp6(2),d.hij("Correct - ",c.correctAnswers,""),d.xp6(2),d.hij("Mistake - ",c.mistakeAnswers,""),d.xp6(2),d.hij("Word Status - ",c.wordStatus,""),d.xp6(2),d.hij("Word Successes - ",c.wordSuccesses,""))},dependencies:[Rr,si,Tv],styles:[".wrapper[_ngcontent-%COMP%]{width:400px;margin:20px auto;text-align:center;font-size:24px;line-height:30px}.wrapper[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{font-weight:700}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{margin-top:15px}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:24px;padding:5px;text-align:center}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input.discrepancy[_ngcontent-%COMP%]{color:red;border-color:red;outline:none}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin:10px auto}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:700;color:#fff;text-decoration:none;padding:5px 20px;border-radius:3px;background:rgb(64,199,129);box-shadow:0 -3px #35a76e inset;transition:.2s;width:160px;font-size:22px}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(53,167,110);cursor:pointer}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:rgb(33,147,90);box-shadow:0 3px #21935a inset}.wrapper[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{color:green}.wrapper[_ngcontent-%COMP%]   .mistake[_ngcontent-%COMP%]{color:red}.frame[_ngcontent-%COMP%]{width:90%;margin:20px auto}.frame[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:1000px}.stats[_ngcontent-%COMP%], .finish[_ngcontent-%COMP%]{font-size:16px;border:1px solid lightgray;width:200px;margin:140px auto 0;padding:20px;text-align:center;line-height:30px}.finish[_ngcontent-%COMP%]{width:300px}.finish[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{text-align:left}"]})}return n})();function Mv(n,r){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.ALo(2,"english"),d.qZA()),2&n){const e=d.oxw(2);d.xp6(1),d.Oqu(d.lcZ(2,1,e.currentWord.english))}}function Rv(n,r){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&n){const e=d.oxw(2);d.xp6(1),d.Oqu(e.currentWord.english)}}function Om(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"button",16),d.NdJ("click",function(){d.CHM(e),d.oxw();const c=d.MAs(11),h=d.oxw();return d.KtG(h.checkWord(c.value))}),d._uU(1,"Check"),d.qZA()}}function OS(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"button",16),d.NdJ("click",function(){d.CHM(e);const c=d.oxw(2);return d.KtG(c.nextWord())}),d._uU(1,"Next word"),d.qZA()}}function kS(n,r){1&n&&(d.TgZ(0,"div",17),d._uU(1,"Correct!"),d.qZA())}function LS(n,r){1&n&&(d.TgZ(0,"div",18),d._uU(1,"Mistake :("),d.qZA())}function aC(n,r){if(1&n){const e=d.EpF();d.TgZ(0,"div",4)(1,"div")(2,"span",5),d._uU(3),d.qZA(),d.TgZ(4,"span",6),d._uU(5),d.qZA()(),d.YNc(6,Mv,3,3,"div",7),d.YNc(7,Rv,2,1,"ng-template",null,8,d.W1O),d.TgZ(9,"div",9)(10,"input",10,11),d.NdJ("keyup.enter",function(){d.CHM(e);const c=d.MAs(11),h=d.oxw();return d.KtG(h.onEnter(c.value))})("keyup",function(){d.CHM(e);const c=d.MAs(11),h=d.oxw();return d.KtG(h.onKeyUp(c.value))}),d.qZA(),d.TgZ(12,"span"),d._uU(13),d.qZA(),d.TgZ(14,"div",12),d.YNc(15,Om,2,0,"button",13),d.YNc(16,OS,2,0,"button",13),d.qZA()(),d.YNc(17,kS,2,0,"div",14),d.YNc(18,LS,2,0,"div",15),d.qZA()}if(2&n){const e=d.MAs(8),s=d.oxw();d.xp6(3),d.Oqu(s.currentWord.key),d.xp6(2),d.hij(". ",s.currentWord.russian,""),d.xp6(1),d.Q6J("ngIf",!s.wasAnswered)("ngIfElse",e),d.xp6(4),d.ekj("discrepancy",s.discrepancy),d.xp6(3),d.hij(" ",s.inputLength,""),d.xp6(2),d.Q6J("ngIf",!s.wasAnswered),d.xp6(1),d.Q6J("ngIf",s.wasAnswered),d.xp6(1),d.Q6J("ngIf",s.correct),d.xp6(1),d.Q6J("ngIf",s.mistake)}}function cT(n,r){1&n&&(d.TgZ(0,"div",19),d._uU(1,"Finish!"),d.qZA())}function uT(n,r){if(1&n&&(d.TgZ(0,"div",20),d._UZ(1,"iframe",21),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Q6J("src",e.frameUrl,d.uOi)}}let lT=(()=>{class n extends oC{constructor(){super(...arguments),this.currentDate=new Date}ngOnInit(){this.wordService.getWords().pipe(er(1)).subscribe(e=>{this.repeatFilter(e),this.makeRandomization(this.ProgressWordsList)})}repeatFilter(e){e.forEach(s=>{const c=(+this.currentDate-+new Date(s.date))/864e5;"on-repeat"===s.status&&(c>7*(s.successes+1)?this.ProgressWordsList.push(s):s.dateDifference=c)})}checkWord(e){const s=this.currentWord;String(e).toLowerCase()===this.currentWord.english.toLowerCase()?(this.correct=!0,this.correctAnswers++,s.successes++):(this.mistake=!0,this.mistakeAnswers++,s.status="queue",s.successes=0),s.date=new Date,this.wordService.updateWord(s)}static#e=this.\u0275fac=function(){let e;return function(c){return(e||(e=d.n5z(n)))(c||n)}}();static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-repeat-words"]],features:[d.qOj],decls:18,vars:10,consts:[["class","wrapper",4,"ngIf"],["class","finish",4,"ngIf"],["class","frame",4,"ngIf"],[1,"stats"],[1,"wrapper"],[1,"id"],[1,"russian"],[4,"ngIf","ngIfElse"],["fullWord",""],[1,"input-wrapper"],["type","text",3,"keyup.enter","keyup"],["answer",""],[1,"buttons"],[3,"click",4,"ngIf"],["class","correct",4,"ngIf"],["class","mistake",4,"ngIf"],[3,"click"],[1,"correct"],[1,"mistake"],[1,"finish"],[1,"frame"],[3,"src"]],template:function(s,c){1&s&&(d.YNc(0,aC,19,11,"div",0),d.YNc(1,cT,2,0,"div",1),d.YNc(2,uT,2,1,"div",2),d.TgZ(3,"div",3)(4,"div"),d._uU(5),d.qZA(),d.TgZ(6,"div"),d._uU(7),d.qZA(),d.TgZ(8,"div"),d._uU(9),d.qZA(),d.TgZ(10,"div"),d._uU(11),d.qZA(),d.TgZ(12,"div"),d._uU(13),d.qZA(),d.TgZ(14,"div"),d._uU(15),d.qZA(),d.TgZ(16,"div"),d._uU(17),d.qZA()()),2&s&&(d.Q6J("ngIf",!c.finish),d.xp6(1),d.Q6J("ngIf",c.finish),d.xp6(1),d.Q6J("ngIf",c.mistake),d.xp6(3),d.hij("In progress - ",c.inProgress,""),d.xp6(2),d.hij("In queue - ",c.inQueue,""),d.xp6(2),d.hij("All answers - ",c.allAnswers,""),d.xp6(2),d.hij("Correct - ",c.correctAnswers,""),d.xp6(2),d.hij("Mistake - ",c.mistakeAnswers,""),d.xp6(2),d.hij("Word Status - ",c.wordStatus,""),d.xp6(2),d.hij("Word Successes - ",c.wordSuccesses,""))},dependencies:[si,Tv],styles:[".wrapper[_ngcontent-%COMP%]{width:400px;margin:20px auto;text-align:center;font-size:24px;line-height:30px}.wrapper[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{font-weight:700}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{margin-top:15px}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:24px;padding:5px;text-align:center}.wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input.discrepancy[_ngcontent-%COMP%]{color:red;border-color:red;outline:none}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin:10px auto}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:700;color:#fff;text-decoration:none;padding:5px 20px;border-radius:3px;background:rgb(64,199,129);box-shadow:0 -3px #35a76e inset;transition:.2s;width:160px;font-size:22px}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(53,167,110);cursor:pointer}.wrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:rgb(33,147,90);box-shadow:0 3px #21935a inset}.wrapper[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{color:green}.wrapper[_ngcontent-%COMP%]   .mistake[_ngcontent-%COMP%]{color:red}.frame[_ngcontent-%COMP%]{width:90%;margin:20px auto}.frame[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:1000px}.stats[_ngcontent-%COMP%], .finish[_ngcontent-%COMP%]{font-size:16px;border:1px solid lightgray;width:200px;margin:140px auto 0;padding:20px;text-align:center;line-height:30px}"]})}return n})();function dT(n,r){if(1&n&&(d.TgZ(0,"div",2),d._uU(1),d.qZA()),2&n){const e=d.oxw();d.xp6(1),d.Oqu(e.queueWords[e.index].english)}}let cC=(()=>{class n{constructor(e){this.wordService=e,this.index=0}ngOnInit(){this.getAndPrepareWords(),this.findSimilarWords()}getAndPrepareWords(){this.wordService.getWords().pipe(er(1)).subscribe(e=>{const s=e.filter(c=>{if("on-repeat"===c.status&&"checked"!==c.englishStatus)return c.englishStatus||(c.englishStatus="queue",this.wordService.updateWord(c)),c.englishStatus="queue"});for(let c=0;c<s.length;c++){const h=Math.floor(Math.random()*s.length);[s[c],s[h]]=[s[h],s[c]]}this.queueWords=s})}findSimilarWords(){this.wordService.getWords().pipe(er(1)).subscribe(e=>{const s=[];e.forEach(c=>{const h=this.queueWords[this.index];let m=0;c.english!==h.english&&c.russian!==h.russian?(c.english.length===h.english.length&&m++,c.english[0]===h.english[0]&&(c.english[1]===h.english[1]&&m++,m++),c.english[c.english.length-1]===h.english[h.english.length-1]&&(c.english[c.english.length-2]===h.english[h.english.length-2]&&m++,m++),s.push({word:c,score:m})):s.push(m)}),console.log(s.sort((c,h)=>h.score-c.score))})}static#e=this.\u0275fac=function(s){return new(s||n)(d.Y36(pl))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["english"]],decls:2,vars:1,consts:[[1,"wrapper"],["class","word",4,"ngIf"],[1,"word"]],template:function(s,c){1&s&&(d.TgZ(0,"div",0),d.YNc(1,dT,2,1,"div",1),d.qZA()),2&s&&(d.xp6(1),d.Q6J("ngIf",c.queueWords&&c.queueWords[c.index]&&c.queueWords[c.index].english))},dependencies:[si],styles:[".wrapper[_ngcontent-%COMP%]{width:400px;margin:20px auto;text-align:center;font-size:24px;line-height:30px}"]})}return n})(),Pv=(()=>{class n{constructor(e){this.userService=e}canActivateChild(){return this.userService.checkIfLogged()}static#e=this.\u0275fac=function(s){return new(s||n)(d.LFG(tm))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const uC=[{path:"",canActivateChild:[Pv],children:[{path:"add-words",component:JD},{path:"check-words",component:rC},{path:"learn-words",component:oC},{path:"repeat-words",component:lT},{path:"english",component:cC}]}];let hT=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[Pv],imports:[Pm.forRoot(uC),Pm]})}return n})();const lC_firebase={apiKey:"AIzaSyAdDx5ENsy8n1e32EQW__HG6oK-G_6wgTA",authDomain:"wordexpert-1.firebaseapp.com",databaseURL:"https://wordexpert-1.firebaseio.com",projectId:"wordexpert-1",storageBucket:"wordexpert-1.appspot.com",messagingSenderId:"55201365314",appId:"1:55201365314:web:b8ec34264862d150"};let dC=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=d.oAB({type:n,bootstrap:[QI]});static#n=this.\u0275inj=d.cJS({providers:[pl,ky],imports:[ls,hT,Gl,Yr.hO.initializeApp(lC_firebase,"wordexpert-1"),em]})}return n})();(0,d.G48)(),Nn().bootstrapModule(dC).catch(n=>console.log(n))},5125:(Ve,_e,N)=>{N.d(_e,{X:()=>O});var d=N(2079),X=N(6229);class O extends d.xQ{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const z=super._subscribe(ee);return z&&!z.closed&&ee.next(this._value),z}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new X.N;return this._value}next(ee){super.next(this._value=ee)}}},4699:(Ve,_e,N)=>{N.d(_e,{y:()=>Q});var d=N(254),O=N(5297),te=N(7308),z=N(2677),he=N(4813),se=N(7213);let Q=(()=>{class F{constructor(ne){this._isScalar=!1,ne&&(this._subscribe=ne)}lift(ne){const me=new F;return me.source=this,me.operator=ne,me}subscribe(ne,me,We){const{operator:ce}=this,be=function ee(F,j,ne){if(F){if(F instanceof d.L)return F;if(F[O.b])return F[O.b]()}return F||j||ne?new d.L(F,j,ne):new d.L(te.c)}(ne,me,We);if(be.add(ce?ce.call(be,this.source):this.source||se.config.useDeprecatedSynchronousErrorHandling&&!be.syncErrorThrowable?this._subscribe(be):this._trySubscribe(be)),se.config.useDeprecatedSynchronousErrorHandling&&be.syncErrorThrowable&&(be.syncErrorThrowable=!1,be.syncErrorThrown))throw be.syncErrorValue;return be}_trySubscribe(ne){try{return this._subscribe(ne)}catch(me){se.config.useDeprecatedSynchronousErrorHandling&&(ne.syncErrorThrown=!0,ne.syncErrorValue=me),function X(F){for(;F;){const{closed:j,destination:ne,isStopped:me}=F;if(j||me)return!1;F=ne&&ne instanceof d.L?ne:null}return!0}(ne)?ne.error(me):console.warn(me)}}forEach(ne,me){return new(me=P(me))((We,ce)=>{let be;be=this.subscribe(Se=>{try{ne(Se)}catch(Ue){ce(Ue),be&&be.unsubscribe()}},ce,We)})}_subscribe(ne){const{source:me}=this;return me&&me.subscribe(ne)}[z.L](){return this}pipe(...ne){return 0===ne.length?this:(0,he.U)(ne)(this)}toPromise(ne){return new(ne=P(ne))((me,We)=>{let ce;this.subscribe(be=>ce=be,be=>We(be),()=>me(ce))})}}return F.create=j=>new F(j),F})();function P(F){if(F||(F=se.config.Promise||Promise),!F)throw new Error("no Promise impl found");return F}},7308:(Ve,_e,N)=>{N.d(_e,{c:()=>O});var d=N(7213),X=N(3510);const O={closed:!0,next(te){},error(te){if(d.config.useDeprecatedSynchronousErrorHandling)throw te;(0,X.z)(te)},complete(){}}},2079:(Ve,_e,N)=>{N.d(_e,{Yc:()=>he,xQ:()=>se});var d=N(4699),X=N(254),O=N(7902),te=N(6229),ee=N(9806),z=N(5297);class he extends X.L{constructor(F){super(F),this.destination=F}}let se=(()=>{class P extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[z.b](){return new he(this)}lift(j){const ne=new Q(this,this);return ne.operator=j,ne}next(j){if(this.closed)throw new te.N;if(!this.isStopped){const{observers:ne}=this,me=ne.length,We=ne.slice();for(let ce=0;ce<me;ce++)We[ce].next(j)}}error(j){if(this.closed)throw new te.N;this.hasError=!0,this.thrownError=j,this.isStopped=!0;const{observers:ne}=this,me=ne.length,We=ne.slice();for(let ce=0;ce<me;ce++)We[ce].error(j);this.observers.length=0}complete(){if(this.closed)throw new te.N;this.isStopped=!0;const{observers:j}=this,ne=j.length,me=j.slice();for(let We=0;We<ne;We++)me[We].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(j){if(this.closed)throw new te.N;return super._trySubscribe(j)}_subscribe(j){if(this.closed)throw new te.N;return this.hasError?(j.error(this.thrownError),O.w.EMPTY):this.isStopped?(j.complete(),O.w.EMPTY):(this.observers.push(j),new ee.W(this,j))}asObservable(){const j=new d.y;return j.source=this,j}}return P.create=(F,j)=>new Q(F,j),P})();class Q extends se{constructor(F,j){super(),this.destination=F,this.source=j}next(F){const{destination:j}=this;j&&j.next&&j.next(F)}error(F){const{destination:j}=this;j&&j.error&&this.destination.error(F)}complete(){const{destination:F}=this;F&&F.complete&&this.destination.complete()}_subscribe(F){const{source:j}=this;return j?this.source.subscribe(F):O.w.EMPTY}}},9806:(Ve,_e,N)=>{N.d(_e,{W:()=>X});var d=N(7902);class X extends d.w{constructor(te,ee){super(),this.subject=te,this.subscriber=ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const te=this.subject,ee=te.observers;if(this.subject=null,!ee||0===ee.length||te.isStopped||te.closed)return;const z=ee.indexOf(this.subscriber);-1!==z&&ee.splice(z,1)}}},254:(Ve,_e,N)=>{N.d(_e,{L:()=>he});var d=N(8594),X=N(7308),O=N(7902),te=N(5297),ee=N(7213),z=N(3510);class he extends O.w{constructor(P,F,j){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!P){this.destination=X.c;break}if("object"==typeof P){P instanceof he?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new se(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new se(this,P,F,j)}}[te.b](){return this}static create(P,F,j){const ne=new he(P,F,j);return ne.syncErrorThrowable=!1,ne}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class se extends he{constructor(P,F,j,ne){super(),this._parentSubscriber=P;let me,We=this;(0,d.m)(F)?me=F:F&&(me=F.next,j=F.error,ne=F.complete,F!==X.c&&(We=Object.create(F),(0,d.m)(We.unsubscribe)&&this.add(We.unsubscribe.bind(We)),We.unsubscribe=this.unsubscribe.bind(this))),this._context=We,this._next=me,this._error=j,this._complete=ne}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:F}=this;ee.config.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:F}=this,{useDeprecatedSynchronousErrorHandling:j}=ee.config;if(this._error)j&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(F.syncErrorThrowable)j?(F.syncErrorValue=P,F.syncErrorThrown=!0):(0,z.z)(P),this.unsubscribe();else{if(this.unsubscribe(),j)throw P;(0,z.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const F=()=>this._complete.call(this._context);ee.config.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,F),this.unsubscribe()):(this.__tryOrUnsub(F),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,F){try{P.call(this._context,F)}catch(j){if(this.unsubscribe(),ee.config.useDeprecatedSynchronousErrorHandling)throw j;(0,z.z)(j)}}__tryOrSetError(P,F,j){if(!ee.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,j)}catch(ne){return ee.config.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=ne,P.syncErrorThrown=!0,!0):((0,z.z)(ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},7902:(Ve,_e,N)=>{N.d(_e,{w:()=>z});var d=N(1280),X=N(7755),O=N(8594);const ee=(()=>{function se(Q){return Error.call(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((P,F)=>`${F+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q,this}return se.prototype=Object.create(Error.prototype),se})();class z{constructor(Q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Q&&(this._ctorUnsubscribe=!0,this._unsubscribe=Q)}unsubscribe(){let Q;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:F,_unsubscribe:j,_subscriptions:ne}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof z)P.remove(this);else if(null!==P)for(let me=0;me<P.length;++me)P[me].remove(this);if((0,O.m)(j)){F&&(this._unsubscribe=void 0);try{j.call(this)}catch(me){Q=me instanceof ee?he(me.errors):[me]}}if((0,d.k)(ne)){let me=-1,We=ne.length;for(;++me<We;){const ce=ne[me];if((0,X.K)(ce))try{ce.unsubscribe()}catch(be){Q=Q||[],be instanceof ee?Q=Q.concat(he(be.errors)):Q.push(be)}}}if(Q)throw new ee(Q)}add(Q){let P=Q;if(!Q)return z.EMPTY;switch(typeof Q){case"function":P=new z(Q);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof z)){const ne=P;P=new z,P._subscriptions=[ne]}break;default:throw new Error("unrecognized teardown "+Q+" added to Subscription.")}let{_parentOrParents:F}=P;if(null===F)P._parentOrParents=this;else if(F instanceof z){if(F===this)return P;P._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return P;F.push(this)}const j=this._subscriptions;return null===j?this._subscriptions=[P]:j.push(P),P}remove(Q){const P=this._subscriptions;if(P){const F=P.indexOf(Q);-1!==F&&P.splice(F,1)}}}var se;function he(se){return se.reduce((Q,P)=>Q.concat(P instanceof ee?P.errors:P),[])}z.EMPTY=((se=new z).closed=!0,se)},7213:(Ve,_e,N)=>{N.d(_e,{config:()=>X});let d=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const te=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+te.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=O},get useDeprecatedSynchronousErrorHandling(){return d}}},5846:(Ve,_e,N)=>{N.d(_e,{Ds:()=>z,IY:()=>te,ft:()=>se});var d=N(254),X=N(4699),O=N(4372);class te extends d.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class z extends d.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function se(Q,P){if(P.closed)return;if(Q instanceof X.y)return Q.subscribe(P);let F;try{F=(0,O.s)(Q)(P)}catch(j){P.error(j)}return F}},4247:(Ve,_e,N)=>{N.d(_e,{N:()=>z,c:()=>ee});var d=N(2079),X=N(4699),O=N(7902),te=N(2851);class ee extends X.y{constructor(F,j){super(),this.source=F,this.subjectFactory=j,this._refCount=0,this._isComplete=!1}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let F=this._connection;return F||(this._isComplete=!1,F=this._connection=new O.w,F.add(this.source.subscribe(new he(this.getSubject(),this))),F.closed&&(this._connection=null,F=O.w.EMPTY)),F}refCount(){return(0,te.x)()(this)}}const z=(()=>{const P=ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class he extends d.Yc{constructor(F,j){super(F),this.connectable=j}_error(F){this._unsubscribe(),super._error(F)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const F=this.connectable;if(F){this.connectable=null;const j=F._connection;F._refCount=0,F._subject=null,F._connection=null,j&&j.unsubscribe()}}}},1226:(Ve,_e,N)=>{N.d(_e,{E:()=>X,c:()=>O});var d=N(4699);const X=new d.y(ee=>ee.complete());function O(ee){return ee?function te(ee){return new d.y(z=>ee.schedule(()=>z.complete()))}(ee):X}},5253:(Ve,_e,N)=>{N.d(_e,{D:()=>We});var d=N(4699),X=N(4372),O=N(7902),te=N(2677),he=N(5513),se=N(6258),F=N(6007),j=N(9990);function We(ce,be){return be?function me(ce,be){if(null!=ce){if(function P(ce){return ce&&"function"==typeof ce[te.L]}(ce))return function ee(ce,be){return new d.y(Se=>{const Ue=new O.w;return Ue.add(be.schedule(()=>{const Ie=ce[te.L]();Ue.add(Ie.subscribe({next(le){Ue.add(be.schedule(()=>Se.next(le)))},error(le){Ue.add(be.schedule(()=>Se.error(le)))},complete(){Ue.add(be.schedule(()=>Se.complete()))}}))})),Ue})}(ce,be);if((0,F.t)(ce))return function z(ce,be){return new d.y(Se=>{const Ue=new O.w;return Ue.add(be.schedule(()=>ce.then(Ie=>{Ue.add(be.schedule(()=>{Se.next(Ie),Ue.add(be.schedule(()=>Se.complete()))}))},Ie=>{Ue.add(be.schedule(()=>Se.error(Ie)))}))),Ue})}(ce,be);if((0,j.z)(ce))return(0,he.r)(ce,be);if(function ne(ce){return ce&&"function"==typeof ce[se.hZ]}(ce)||"string"==typeof ce)return function Q(ce,be){if(!ce)throw new Error("Iterable cannot be null");return new d.y(Se=>{const Ue=new O.w;let Ie;return Ue.add(()=>{Ie&&"function"==typeof Ie.return&&Ie.return()}),Ue.add(be.schedule(()=>{Ie=ce[se.hZ](),Ue.add(be.schedule(function(){if(Se.closed)return;let le,Ke;try{const Ne=Ie.next();le=Ne.value,Ke=Ne.done}catch(Ne){return void Se.error(Ne)}Ke?Se.complete():(Se.next(le),this.schedule())}))})),Ue})}(ce,be)}throw new TypeError((null!==ce&&typeof ce||ce)+" is not observable")}(ce,be):ce instanceof d.y?ce:new d.y((0,X.s)(ce))}},2594:(Ve,_e,N)=>{N.d(_e,{n:()=>te});var d=N(4699),X=N(4947),O=N(5513);function te(ee,z){return z?(0,O.r)(ee,z):new d.y((0,X.V)(ee))}},7354:(Ve,_e,N)=>{N.d(_e,{T:()=>ee});var d=N(4699),X=N(9759),O=N(7449),te=N(2594);function ee(...z){let he=Number.POSITIVE_INFINITY,se=null,Q=z[z.length-1];return(0,X.K)(Q)?(se=z.pop(),z.length>1&&"number"==typeof z[z.length-1]&&(he=z.pop())):"number"==typeof Q&&(he=z.pop()),null===se&&1===z.length&&z[0]instanceof d.y?z[0]:(0,O.J)(he)((0,te.n)(z,se))}},9193:(Ve,_e,N)=>{N.d(_e,{of:()=>te});var d=N(9759),X=N(2594),O=N(5513);function te(...ee){let z=ee[ee.length-1];return(0,d.K)(z)?(ee.pop(),(0,O.r)(ee,z)):(0,X.n)(ee)}},6222:(Ve,_e,N)=>{N.d(_e,{_:()=>X});var d=N(4699);function X(te,ee){return new d.y(ee?z=>ee.schedule(O,0,{error:te,subscriber:z}):z=>z.error(te))}function O({error:te,subscriber:ee}){ee.error(te)}},2068:(Ve,_e,N)=>{N.d(_e,{x:()=>X});var d=N(254);function X(ee,z){return he=>he.lift(new O(ee,z))}class O{constructor(z,he){this.compare=z,this.keySelector=he}call(z,he){return he.subscribe(new te(z,this.compare,this.keySelector))}}class te extends d.L{constructor(z,he,se){super(z),this.keySelector=se,this.hasKey=!1,"function"==typeof he&&(this.compare=he)}compare(z,he){return z===he}_next(z){let he;try{const{keySelector:Q}=this;he=Q?Q(z):z}catch(Q){return this.destination.error(Q)}let se=!1;if(this.hasKey)try{const{compare:Q}=this;se=Q(this.key,he)}catch(Q){return this.destination.error(Q)}else this.hasKey=!0;se||(this.key=he,this.destination.next(z))}}},6124:(Ve,_e,N)=>{N.d(_e,{U:()=>X});var d=N(254);function X(ee,z){return function(se){if("function"!=typeof ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return se.lift(new O(ee,z))}}class O{constructor(z,he){this.project=z,this.thisArg=he}call(z,he){return he.subscribe(new te(z,this.project,this.thisArg))}}class te extends d.L{constructor(z,he,se){super(z),this.project=he,this.count=0,this.thisArg=se||this}_next(z){let he;try{he=this.project.call(this.thisArg,z,this.count++)}catch(se){return void this.destination.error(se)}this.destination.next(he)}}},7449:(Ve,_e,N)=>{N.d(_e,{J:()=>O});var d=N(6743),X=N(158);function O(te=Number.POSITIVE_INFINITY){return(0,d.zg)(X.y,te)}},6743:(Ve,_e,N)=>{N.d(_e,{zg:()=>te});var d=N(6124),X=N(5253),O=N(5846);function te(se,Q,P=Number.POSITIVE_INFINITY){return"function"==typeof Q?F=>F.pipe(te((j,ne)=>(0,X.D)(se(j,ne)).pipe((0,d.U)((me,We)=>Q(j,me,ne,We))),P)):("number"==typeof Q&&(P=Q),F=>F.lift(new ee(se,P)))}class ee{constructor(Q,P=Number.POSITIVE_INFINITY){this.project=Q,this.concurrent=P}call(Q,P){return P.subscribe(new z(Q,this.project,this.concurrent))}}class z extends O.Ds{constructor(Q,P,F=Number.POSITIVE_INFINITY){super(Q),this.project=P,this.concurrent=F,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Q){this.active<this.concurrent?this._tryNext(Q):this.buffer.push(Q)}_tryNext(Q){let P;const F=this.index++;try{P=this.project(Q,F)}catch(j){return void this.destination.error(j)}this.active++,this._innerSub(P)}_innerSub(Q){const P=new O.IY(this),F=this.destination;F.add(P);const j=(0,O.ft)(Q,P);j!==P&&F.add(j)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Q){this.destination.next(Q)}notifyComplete(){const Q=this.buffer;this.active--,Q.length>0?this._next(Q.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},427:(Ve,_e,N)=>{N.d(_e,{ht:()=>Q,QV:()=>he});var d=N(254),X=N(1226),O=N(9193),te=N(6222);class z{constructor(j,ne,me){this.kind=j,this.value=ne,this.error=me,this.hasValue="N"===j}observe(j){switch(this.kind){case"N":return j.next&&j.next(this.value);case"E":return j.error&&j.error(this.error);case"C":return j.complete&&j.complete()}}do(j,ne,me){switch(this.kind){case"N":return j&&j(this.value);case"E":return ne&&ne(this.error);case"C":return me&&me()}}accept(j,ne,me){return j&&"function"==typeof j.next?this.observe(j):this.do(j,ne,me)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return(0,te._)(this.error);case"C":return(0,X.c)()}throw new Error("unexpected notification kind value")}static createNext(j){return typeof j<"u"?new z("N",j):z.undefinedValueNotification}static createError(j){return new z("E",void 0,j)}static createComplete(){return z.completeNotification}}function he(F,j=0){return function(me){return me.lift(new se(F,j))}}z.completeNotification=new z("C"),z.undefinedValueNotification=new z("N",void 0);class se{constructor(j,ne=0){this.scheduler=j,this.delay=ne}call(j,ne){return ne.subscribe(new Q(j,this.scheduler,this.delay))}}class Q extends d.L{constructor(j,ne,me=0){super(j),this.scheduler=ne,this.delay=me}static dispatch(j){const{notification:ne,destination:me}=j;ne.observe(me),this.unsubscribe()}scheduleMessage(j){this.destination.add(this.scheduler.schedule(Q.dispatch,this.delay,new P(j,this.destination)))}_next(j){this.scheduleMessage(z.createNext(j))}_error(j){this.scheduleMessage(z.createError(j)),this.unsubscribe()}_complete(){this.scheduleMessage(z.createComplete()),this.unsubscribe()}}class P{constructor(j,ne){this.notification=j,this.destination=ne}}},2851:(Ve,_e,N)=>{N.d(_e,{x:()=>X});var d=N(254);function X(){return function(z){return z.lift(new O(z))}}class O{constructor(z){this.connectable=z}call(z,he){const{connectable:se}=this;se._refCount++;const Q=new te(z,se),P=he.subscribe(Q);return Q.closed||(Q.connection=se.connect()),P}}class te extends d.L{constructor(z,he){super(z),this.connectable=he}_unsubscribe(){const{connectable:z}=this;if(!z)return void(this.connection=null);this.connectable=null;const he=z._refCount;if(he<=0)return void(this.connection=null);if(z._refCount=he-1,he>1)return void(this.connection=null);const{connection:se}=this,Q=z._connection;this.connection=null,Q&&(!se||Q===se)&&Q.unsubscribe()}}},5705:(Ve,_e,N)=>{N.d(_e,{B:()=>he});var d=N(4247);class O{constructor(Q,P){this.subjectFactory=Q,this.selector=P}call(Q,P){const{selector:F}=this,j=this.subjectFactory(),ne=F(j).subscribe(Q);return ne.add(P.subscribe(j)),ne}}var te=N(2851),ee=N(2079);function z(){return new ee.xQ}function he(){return se=>(0,te.x)()(function X(se,Q){return function(F){let j;if(j="function"==typeof se?se:function(){return se},"function"==typeof Q)return F.lift(new O(j,Q));const ne=Object.create(F,d.N);return ne.source=F,ne.subjectFactory=j,ne}}(z)(se))}},2671:(Ve,_e,N)=>{N.d(_e,{R:()=>be});var d=N(4699);let X=1;const O=Promise.resolve(),te={};function ee(Ue){return Ue in te&&(delete te[Ue],!0)}const z={setImmediate(Ue){const Ie=X++;return te[Ie]=!0,O.then(()=>ee(Ie)&&Ue()),Ie},clearImmediate(Ue){ee(Ue)}};var se=N(1618),P=N(1781);const ne=new class F extends P.v{flush(Ie){this.active=!0,this.scheduled=void 0;const{actions:le}=this;let Ke,Ne=-1,He=le.length;Ie=Ie||le.shift();do{if(Ke=Ie.execute(Ie.state,Ie.delay))break}while(++Ne<He&&(Ie=le.shift()));if(this.active=!1,Ke){for(;++Ne<He&&(Ie=le.shift());)Ie.unsubscribe();throw Ke}}}(class Q extends se.o{constructor(Ie,le){super(Ie,le),this.scheduler=Ie,this.work=le}requestAsyncId(Ie,le,Ke=0){return null!==Ke&&Ke>0?super.requestAsyncId(Ie,le,Ke):(Ie.actions.push(this),Ie.scheduled||(Ie.scheduled=z.setImmediate(Ie.flush.bind(Ie,null))))}recycleAsyncId(Ie,le,Ke=0){if(null!==Ke&&Ke>0||null===Ke&&this.delay>0)return super.recycleAsyncId(Ie,le,Ke);0===Ie.actions.length&&(z.clearImmediate(le),Ie.scheduled=void 0)}});var me=N(1280);class ce extends d.y{constructor(Ie,le=0,Ke=ne){super(),this.source=Ie,this.delayTime=le,this.scheduler=Ke,(!function We(Ue){return!(0,me.k)(Ue)&&Ue-parseFloat(Ue)+1>=0}(le)||le<0)&&(this.delayTime=0),(!Ke||"function"!=typeof Ke.schedule)&&(this.scheduler=ne)}static create(Ie,le=0,Ke=ne){return new ce(Ie,le,Ke)}static dispatch(Ie){const{source:le,subscriber:Ke}=Ie;return this.add(le.subscribe(Ke))}_subscribe(Ie){return this.scheduler.schedule(ce.dispatch,this.delayTime,{source:this.source,subscriber:Ie})}}function be(Ue,Ie=0){return function(Ke){return Ke.lift(new Se(Ue,Ie))}}class Se{constructor(Ie,le){this.scheduler=Ie,this.delay=le}call(Ie,le){return new ce(le,this.delay,this.scheduler).subscribe(Ie)}}},5222:(Ve,_e,N)=>{N.d(_e,{w:()=>te});var d=N(6124),X=N(5253),O=N(5846);function te(he,se){return"function"==typeof se?Q=>Q.pipe(te((P,F)=>(0,X.D)(he(P,F)).pipe((0,d.U)((j,ne)=>se(P,j,F,ne))))):Q=>Q.lift(new ee(he))}class ee{constructor(se){this.project=se}call(se,Q){return Q.subscribe(new z(se,this.project))}}class z extends O.Ds{constructor(se,Q){super(se),this.project=Q,this.index=0}_next(se){let Q;const P=this.index++;try{Q=this.project(se,P)}catch(F){return void this.destination.error(F)}this._innerSub(Q)}_innerSub(se){const Q=this.innerSubscription;Q&&Q.unsubscribe();const P=new O.IY(this),F=this.destination;F.add(P),this.innerSubscription=(0,O.ft)(se,P),this.innerSubscription!==P&&F.add(this.innerSubscription)}_complete(){const{innerSubscription:se}=this;(!se||se.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(se){this.destination.next(se)}}},2420:(Ve,_e,N)=>{N.d(_e,{b:()=>te});var d=N(254);function X(){}var O=N(8594);function te(he,se,Q){return function(F){return F.lift(new ee(he,se,Q))}}class ee{constructor(se,Q,P){this.nextOrObserver=se,this.error=Q,this.complete=P}call(se,Q){return Q.subscribe(new z(se,this.nextOrObserver,this.error,this.complete))}}class z extends d.L{constructor(se,Q,P,F){super(se),this._tapNext=X,this._tapError=X,this._tapComplete=X,this._tapError=P||X,this._tapComplete=F||X,(0,O.m)(Q)?(this._context=this,this._tapNext=Q):Q&&(this._context=Q,this._tapNext=Q.next||X,this._tapError=Q.error||X,this._tapComplete=Q.complete||X)}_next(se){try{this._tapNext.call(this._context,se)}catch(Q){return void this.destination.error(Q)}this.destination.next(se)}_error(se){try{this._tapError.call(this._context,se)}catch(Q){return void this.destination.error(Q)}this.destination.error(se)}_complete(){try{this._tapComplete.call(this._context)}catch(se){return void this.destination.error(se)}return this.destination.complete()}}},5513:(Ve,_e,N)=>{N.d(_e,{r:()=>O});var d=N(4699),X=N(7902);function O(te,ee){return new d.y(z=>{const he=new X.w;let se=0;return he.add(ee.schedule(function(){se!==te.length?(z.next(te[se++]),z.closed||he.add(this.schedule())):z.complete()})),he})}},1618:(Ve,_e,N)=>{N.d(_e,{o:()=>O});var d=N(7902);class X extends d.w{constructor(ee,z){super()}schedule(ee,z=0){return this}}class O extends X{constructor(ee,z){super(ee,z),this.scheduler=ee,this.work=z,this.pending=!1}schedule(ee,z=0){if(this.closed)return this;this.state=ee;const he=this.id,se=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(se,he,z)),this.pending=!0,this.delay=z,this.id=this.id||this.requestAsyncId(se,this.id,z),this}requestAsyncId(ee,z,he=0){return setInterval(ee.flush.bind(ee,this),he)}recycleAsyncId(ee,z,he=0){if(null!==he&&this.delay===he&&!1===this.pending)return z;clearInterval(z)}execute(ee,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ee,z);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,z){let se,he=!1;try{this.work(ee)}catch(Q){he=!0,se=!!Q&&Q||new Error(Q)}if(he)return this.unsubscribe(),se}_unsubscribe(){const ee=this.id,z=this.scheduler,he=z.actions,se=he.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==se&&he.splice(se,1),null!=ee&&(this.id=this.recycleAsyncId(z,ee,null)),this.delay=null}}},1781:(Ve,_e,N)=>{N.d(_e,{v:()=>X});let d=(()=>{class O{constructor(ee,z=O.now){this.SchedulerAction=ee,this.now=z}schedule(ee,z=0,he){return new this.SchedulerAction(this,ee).schedule(he,z)}}return O.now=()=>Date.now(),O})();class X extends d{constructor(te,ee=d.now){super(te,()=>X.delegate&&X.delegate!==this?X.delegate.now():ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(te,ee=0,z){return X.delegate&&X.delegate!==this?X.delegate.schedule(te,ee,z):super.schedule(te,ee,z)}flush(te){const{actions:ee}=this;if(this.active)return void ee.push(te);let z;this.active=!0;do{if(z=te.execute(te.state,te.delay))break}while(te=ee.shift());if(this.active=!1,z){for(;te=ee.shift();)te.unsubscribe();throw z}}}},435:(Ve,_e,N)=>{N.d(_e,{P:()=>te,z:()=>O});var d=N(1618);const O=new(N(1781).v)(d.o),te=O},6680:(Ve,_e,N)=>{N.d(_e,{c:()=>z,N:()=>ee});var d=N(1618),O=N(1781);const ee=new class te extends O.v{}(class X extends d.o{constructor(se,Q){super(se,Q),this.scheduler=se,this.work=Q}schedule(se,Q=0){return Q>0?super.schedule(se,Q):(this.delay=Q,this.state=se,this.scheduler.flush(this),this)}execute(se,Q){return Q>0||this.closed?super.execute(se,Q):this._execute(se,Q)}requestAsyncId(se,Q,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(se,Q,P):se.flush(this)}}),z=ee},6258:(Ve,_e,N)=>{N.d(_e,{hZ:()=>X});const X=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},2677:(Ve,_e,N)=>{N.d(_e,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},5297:(Ve,_e,N)=>{N.d(_e,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},6229:(Ve,_e,N)=>{N.d(_e,{N:()=>X});const X=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},3510:(Ve,_e,N)=>{function d(X){setTimeout(()=>{throw X},0)}N.d(_e,{z:()=>d})},158:(Ve,_e,N)=>{function d(X){return X}N.d(_e,{y:()=>d})},1280:(Ve,_e,N)=>{N.d(_e,{k:()=>d});const d=Array.isArray||(X=>X&&"number"==typeof X.length)},9990:(Ve,_e,N)=>{N.d(_e,{z:()=>d});const d=X=>X&&"number"==typeof X.length&&"function"!=typeof X},8594:(Ve,_e,N)=>{function d(X){return"function"==typeof X}N.d(_e,{m:()=>d})},7755:(Ve,_e,N)=>{function d(X){return null!==X&&"object"==typeof X}N.d(_e,{K:()=>d})},6007:(Ve,_e,N)=>{function d(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}N.d(_e,{t:()=>d})},9759:(Ve,_e,N)=>{function d(X){return X&&"function"==typeof X.schedule}N.d(_e,{K:()=>d})},4813:(Ve,_e,N)=>{N.d(_e,{U:()=>O,z:()=>X});var d=N(158);function X(...te){return O(te)}function O(te){return 0===te.length?d.y:1===te.length?te[0]:function(z){return te.reduce((he,se)=>se(he),z)}}},4372:(Ve,_e,N)=>{N.d(_e,{s:()=>F});var d=N(4947),X=N(3510),te=N(6258),z=N(2677),se=N(9990),Q=N(6007),P=N(7755);const F=j=>{if(j&&"function"==typeof j[z.L])return(j=>ne=>{const me=j[z.L]();if("function"!=typeof me.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return me.subscribe(ne)})(j);if((0,se.z)(j))return(0,d.V)(j);if((0,Q.t)(j))return(j=>ne=>(j.then(me=>{ne.closed||(ne.next(me),ne.complete())},me=>ne.error(me)).then(null,X.z),ne))(j);if(j&&"function"==typeof j[te.hZ])return(j=>ne=>{const me=j[te.hZ]();for(;;){let We;try{We=me.next()}catch(ce){return ne.error(ce),ne}if(We.done){ne.complete();break}if(ne.next(We.value),ne.closed)break}return"function"==typeof me.return&&ne.add(()=>{me.return&&me.return()}),ne})(j);{const me=`You provided ${(0,P.K)(j)?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(me)}}},4947:(Ve,_e,N)=>{N.d(_e,{V:()=>d});const d=X=>O=>{for(let te=0,ee=X.length;te<ee&&!O.closed;te++)O.next(X[te]);O.complete()}},5879:(Ve,_e,N)=>{N.d(_e,{$8M:()=>A,$WT:()=>So,$Z:()=>pE,AFp:()=>Gv,ALo:()=>lI,AaK:()=>j,AsE:()=>Ey,BQk:()=>ay,CHM:()=>Wr,CRH:()=>wI,EJc:()=>Sm,EiD:()=>Wv,EpF:()=>Hb,F4k:()=>Vb,FYo:()=>I_,FiY:()=>Fu,G48:()=>tT,Gf:()=>cv,GfV:()=>eE,HDt:()=>vv,JOm:()=>Sc,JVY:()=>Up,JZr:()=>Ie,KtG:()=>lc,L6k:()=>jp,LAX:()=>Xo,LFG:()=>Ye,Lbi:()=>tl,Lck:()=>$0,MAs:()=>KE,MMx:()=>Xw,MR2:()=>Zh,NdJ:()=>JE,Ojb:()=>nl,OlP:()=>Ht,Oqu:()=>xf,P3R:()=>Wp,PXZ:()=>KI,Q6J:()=>oy,QGY:()=>QE,Qsj:()=>og,R0b:()=>Fn,RDi:()=>Ts,Rgc:()=>oa,SBq:()=>nf,Sil:()=>LD,Suo:()=>Yf,TTD:()=>qs,TgZ:()=>Tf,VuI:()=>GS,W1O:()=>qd,X6Q:()=>eT,XFs:()=>$e,Xpm:()=>iu,Xq5:()=>jE,Xts:()=>Gh,Y36:()=>sl,YKP:()=>Jw,YNc:()=>bf,Yjl:()=>rh,Yz7:()=>$t,Z0I:()=>_n,ZZ4:()=>n,_UZ:()=>jg,_c5:()=>D,_uU:()=>_w,aQg:()=>s,c2e:()=>BI,cJS:()=>Ci,cg1:()=>Jg,dDg:()=>ES,dqk:()=>Mt,eBb:()=>Vv,eFA:()=>KD,eJc:()=>bI,ekj:()=>Pf,eoX:()=>GI,f3M:()=>it,g9A:()=>Jh,h0i:()=>_l,hGG:()=>R,hij:()=>Qg,iGM:()=>EI,ifc:()=>Ee,ip1:()=>_v,jDz:()=>Gy,kL8:()=>Py,lG2:()=>ha,lcZ:()=>vm,lnq:()=>wy,lqb:()=>Ms,lri:()=>$D,mCW:()=>sd,n5z:()=>_c,oAB:()=>da,oxw:()=>XE,pB0:()=>Bp,q3G:()=>Yt,q4F:()=>b_,qFp:()=>qS,qLn:()=>Bc,qOj:()=>Dd,qZA:()=>xd,qzn:()=>Ss,rWj:()=>WD,rg0:()=>oc,sBO:()=>nT,s_b:()=>Cm,soG:()=>Tm,tb:()=>bv,tp0:()=>Yl,uIk:()=>Q_,uOi:()=>$p,vHH:()=>le,vpe:()=>Dr,wAp:()=>Ld,xi3:()=>eD,xp6:()=>fE,ynx:()=>Od,z2F:()=>Jd,z3N:()=>Jo,zSh:()=>Yp,zs3:()=>_i});var d=N(2079),X=N(7902),O=N(4699),te=N(7354),ee=N(5125),z=N(9193),he=N(5705),se=N(5222),Q=N(2068);function P(t){for(let i in t)if(t[i]===P)return i;throw Error("Could not find renamed property on target object.")}function F(t,i){for(const o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}function j(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(j).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ne(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const me=P({__forward_ref__:P});function We(t){return t.__forward_ref__=We,t.toString=function(){return j(this())},t}function ce(t){return be(t)?t():t}function be(t){return"function"==typeof t&&t.hasOwnProperty(me)&&t.__forward_ref__===We}function Se(t){return t&&!!t.\u0275providers}const Ie="https://g.co/ng/security#xss";class le extends Error{constructor(i,o){super(function Ke(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,o)),this.code=i}}function Ne(t){return"string"==typeof t?t:null==t?"":String(t)}function pt(t,i){throw new le(-201,!1)}function nn(t,i){null==t&&function Ge(t,i,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}(i,t,null,"!=")}function $t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ci(t){return{providers:t.providers||[],imports:t.imports||[]}}function bi(t){return js(t,or)||js(t,Gt)}function _n(t){return null!==bi(t)}function js(t,i){return t.hasOwnProperty(i)?t[i]:null}function Qi(t){return t&&(t.hasOwnProperty(Wt)||t.hasOwnProperty(Do))?t[Wt]:null}const or=P({\u0275prov:P}),Wt=P({\u0275inj:P}),Gt=P({ngInjectableDef:P}),Do=P({ngInjectorDef:P});var $e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($e||{});let gt;function wt(t){const i=gt;return gt=t,i}function Zt(t,i,o){const a=bi(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&$e.Optional?null:void 0!==i?i:void pt(j(t))}const Mt=globalThis,cn={},ti="__NG_DI_FLAG__",cr="ngTempTokenPath",$=/\n/gm,q="__source";let pe;function ke(t){const i=pe;return pe=t,i}function Je(t,i=$e.Default){if(void 0===pe)throw new le(-203,!1);return null===pe?Zt(t,void 0,i):pe.get(t,i&$e.Optional?null:void 0,i)}function Ye(t,i=$e.Default){return(function ue(){return gt}()||Je)(ce(t),i)}function it(t,i=$e.Default){return Ye(t,yn(i))}function yn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yt(t){const i=[];for(let o=0;o<t.length;o++){const a=ce(t[o]);if(Array.isArray(a)){if(0===a.length)throw new le(900,!1);let u,p=$e.Default;for(let _=0;_<a.length;_++){const v=a[_],w=ni(v);"number"==typeof w?-1===w?u=v.token:p|=w:u=v}i.push(Ye(u,p))}else i.push(Ye(a))}return i}function rn(t,i){return t[ti]=i,t.prototype[ti]=i,t}function ni(t){return t[ti]}function oe(t){return{toString:t}.toString()}var re=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(re||{}),Ee=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ee||{});const Fe={},Pe=[],st=P({\u0275cmp:P}),Tt=P({\u0275dir:P}),vn=P({\u0275pipe:P}),fn=P({\u0275mod:P}),qn=P({\u0275fac:P}),Mr=P({__NG_ELEMENT_ID__:P}),ri=P({__NG_ENV_ID__:P});function ii(t,i,o){let a=t.length;for(;;){const u=t.indexOf(i,o);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const p=i.length;if(u+p===a||t.charCodeAt(u+p)<=32)return u}o=u+1}}function Hr(t,i,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const p=o[a++],_=o[a++],v=o[a++];t.setAttribute(i,_,v,p)}else{const p=u,_=o[++a];Rn(p)?t.setProperty(i,p,_):t.setAttribute(i,p,_),a++}}return a}function tu(t){return 3===t||4===t||6===t}function Rn(t){return 64===t.charCodeAt(0)}function Ga(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?o=u:0===o||Rr(t,o,u,null,-1===o||2===o?i[++a]:null)}}return t}function Rr(t,i,o,a,u){let p=0,_=t.length;if(-1===i)_=-1;else for(;p<t.length;){const v=t[p++];if("number"==typeof v){if(v===i){_=-1;break}if(v>i){_=p-1;break}}}for(;p<t.length;){const v=t[p];if("number"==typeof v)break;if(v===o){if(null===a)return void(null!==u&&(t[p+1]=u));if(a===t[p+1])return void(t[p+2]=u)}p++,null!==a&&p++,null!==u&&p++}-1!==_&&(t.splice(_,0,i),p=_+1),t.splice(p++,0,o),null!==a&&t.splice(p++,0,a),null!==u&&t.splice(p++,0,u)}const Si="ng-template";function Za(t,i,o){let a=0,u=!0;for(;a<t.length;){let p=t[a++];if("string"==typeof p&&u){const _=t[a++];if(o&&"class"===p&&-1!==ii(_.toLowerCase(),i,0))return!0}else{if(1===p){for(;a<t.length&&"string"==typeof(p=t[a++]);)if(p.toLowerCase()===i)return!0;return!1}"number"==typeof p&&(u=!1)}}return!1}function si(t){return 4===t.type&&t.value!==Si}function Xd(t,i,o){return i===(4!==t.type||o?t.value:Si)}function nu(t,i,o){let a=4;const u=t.attrs||[],p=function eh(t){for(let i=0;i<t.length;i++)if(tu(t[i]))return i;return t.length}(u);let _=!1;for(let v=0;v<i.length;v++){const w=i[v];if("number"!=typeof w){if(!_)if(4&a){if(a=2|1&a,""!==w&&!Xd(t,w,o)||""===w&&1===i.length){if(ur(a))return!1;_=!0}}else{const T=8&a?w:i[++v];if(8&a&&null!==t.attrs){if(!Za(t.attrs,T,o)){if(ur(a))return!1;_=!0}continue}const k=To(8&a?"class":w,u,si(t),o);if(-1===k){if(ur(a))return!1;_=!0;continue}if(""!==T){let G;G=k>p?"":u[k+1].toLowerCase();const J=8&a?G:null;if(J&&-1!==ii(J,T,0)||2&a&&T!==G){if(ur(a))return!1;_=!0}}}}else{if(!_&&!ur(a)&&!ur(w))return!1;if(_&&ur(w))continue;_=!1,a=w|1&a}}return ur(a)||_}function ur(t){return 0==(1&t)}function To(t,i,o,a){if(null===i)return-1;let u=0;if(a||!o){let p=!1;for(;u<i.length;){const _=i[u];if(_===t)return u;if(3===_||6===_)p=!0;else{if(1===_||2===_){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=p?1:2}return-1}return function $s(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,t)}function Vs(t,i,o=!1){for(let a=0;a<i.length;a++)if(nu(t,i[a],o))return!0;return!1}function ru(t,i){return t?":not("+i.trim()+")":i}function th(t){let i=t[0],o=1,a=2,u="",p=!1;for(;o<t.length;){let _=t[o];if("string"==typeof _)if(2&a){const v=t[++o];u+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+_:4&a&&(u+=" "+_);else""!==u&&!ur(_)&&(i+=ru(p,u),u=""),a=_,p=p||!ur(a);o++}return""!==u&&(i+=ru(p,u)),i}function iu(t){return oe(()=>{const i=Dl(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===re.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ee.Emulated,styles:t.styles||Pe,_:null,schemas:t.schemas||null,tView:null,id:""};es(o);const a=t.dependencies;return o.directiveDefs=fa(a,!1),o.pipeDefs=fa(a,!0),o.id=function qa(t){let i=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of o)i=Math.imul(31,i)+u.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(o),o})}function su(t){return It(t)||pn(t)}function bl(t){return null!==t}function da(t){return oe(()=>({type:t.type,bootstrap:t.bootstrap||Pe,declarations:t.declarations||Pe,imports:t.imports||Pe,exports:t.exports||Pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function au(t,i){if(null==t)return Fe;const o={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],p=u;Array.isArray(u)&&(p=u[1],u=u[0]),o[u]=a,i&&(i[u]=p)}return o}function ha(t){return oe(()=>{const i=Dl(t);return es(i),i})}function rh(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function It(t){return t[st]||null}function pn(t){return t[Tt]||null}function Kn(t){return t[vn]||null}function So(t){const i=It(t)||pn(t)||Kn(t);return null!==i&&i.standalone}function Yn(t,i){const o=t[fn]||null;if(!o&&!0===i)throw new Error(`Type ${j(t)} does not have '\u0275mod' property.`);return o}function Dl(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||Fe,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Pe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:au(t.inputs,i),outputs:au(t.outputs)}}function es(t){t.features?.forEach(i=>i(t))}function fa(t,i){if(!t)return null;const o=i?Kn:su;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(bl)}const ot=0,Oe=1,at=2,Jt=3,dr=4,ts=5,Qn=6,Ao=7,un=8,hr=9,Ws=10,Qe=11,Nr=12,cu=13,ns=14,sn=15,Mo=16,zs=17,Er=18,Ro=19,Ka=20,Ai=21,fr=22,Po=23,oi=24,mt=25,pa=1,uu=2,Pn=7,Mi=9,qt=11;function Jn(t){return Array.isArray(t)&&"object"==typeof t[pa]}function Xt(t){return Array.isArray(t)&&!0===t[pa]}function lu(t){return 0!=(4&t.flags)}function Ri(t){return t.componentOffset>-1}function $r(t){return 1==(1&t.flags)}function pr(t){return!!t.template}function Ya(t){return 0!=(512&t[at])}function Ni(t,i){return t.hasOwnProperty(qn)?t[qn]:null}let gn=null,ss=!1;function Xn(t){const i=gn;return gn=t,i}const xo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _a(t){if(!Zs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!gu(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Oo(t){t.dirty=!0,function tc(t){if(void 0===t.liveConsumerNode)return;const i=ss;ss=!0;try{for(const o of t.liveConsumerNode)o.dirty||Oo(o)}finally{ss=i}}(t),t.consumerMarkedDirty?.(t)}function nc(t){return t&&(t.nextProducerIndex=0),Xn(t)}function wn(t,i){if(Xn(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Zs(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)as(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gu(t){xi(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],a=t.producerLastReadVersion[i];if(a!==o.version||(_a(o),a!==o.version))return!0}return!1}function rc(t){if(xi(t),Zs(t))for(let i=0;i<t.producerNode.length;i++)as(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function as(t,i){if(function ya(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),xi(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)as(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[i],u=t.liveConsumerNode[i];xi(u),u.producerIndexOfThis[a]=i}}function Zs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ko=null;function oc(t){const i=Xn(null);try{return t()}finally{Xn(i)}}const Iu=()=>{},Cu=(()=>({...xo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Iu}))();class Ml{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function qs(){return jo}function jo(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ks),Rl}function Rl(){const t=Ys(this),i=t?.current;if(i){const o=t.previous;if(o===Fe)t.previous=i;else for(let a in i)o[a]=i[a];t.current=null,this.ngOnChanges(i)}}function Ks(t,i,o,a){const u=this.declaredInputs[o],p=Ys(t)||function Pl(t,i){return t[cc]=i}(t,{previous:Fe,current:null}),_=p.current||(p.current={}),v=p.previous,w=v[u];_[u]=new Ml(w&&w.currentValue,i,v===Fe),t[a]=i}qs.ngInherit=!0;const cc="__ngSimpleChanges__";function Ys(t){return t[cc]||null}const gr=function(t,i,o){};function Ft(t){for(;Array.isArray(t);)t=t[ot];return t}function Xs(t,i){return Ft(i[t])}function Vn(t,i){return Ft(i[t.index])}function bu(t,i){return t.data[i]}function cs(t,i){return t[i]}function In(t,i){const o=i[t];return Jn(o)?o:o[ot]}function eo(t,i){return null==i?null:t[i]}function ch(t){t[zs]=0}function Tu(t){1024&t[at]||(t[at]|=1024,pp(t,1))}function fp(t){1024&t[at]&&(t[at]&=-1025,pp(t,-1))}function pp(t,i){let o=t[Jt];if(null===o)return;o[ts]+=i;let a=o;for(o=o[Jt];null!==o&&(1===i&&1===a[ts]||-1===i&&0===a[ts]);)o[ts]+=i,a=o,o=o[Jt]}const Xe={lFrame:Fi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $n(){return Xe.bindingsEnabled}function ye(){return Xe.lFrame.lView}function Ct(){return Xe.lFrame.tView}function Wr(t){return Xe.lFrame.contextLView=t,t[un]}function lc(t){return Xe.lFrame.contextLView=null,t}function Cn(){let t=dc();for(;null!==t&&64===t.type;)t=t.parent;return t}function dc(){return Xe.lFrame.currentTNode}function ci(t,i){const o=Xe.lFrame;o.currentTNode=t,o.isParent=i}function Ll(){return Xe.lFrame.isParent}function Au(){Xe.lFrame.isParent=!1}function wr(){const t=Xe.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function xn(){return Xe.lFrame.bindingIndex}function to(){return Xe.lFrame.bindingIndex++}function mr(t){const i=Xe.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,o}function hc(t,i){const o=Xe.lFrame;o.bindingIndex=o.bindingRootIndex=t,fc(i)}function fc(t){Xe.lFrame.currentDirectiveIndex=t}function Mu(){return Xe.lFrame.currentQueryIndex}function jl(t){Xe.lFrame.currentQueryIndex=t}function Ru(t){const i=t[Oe];return 2===i.type?i.declTNode:1===i.type?t[Qn]:null}function fh(t,i,o){if(o&$e.SkipSelf){let u=i,p=t;for(;!(u=u.parent,null!==u||o&$e.Host||(u=Ru(p),null===u||(p=p[ns],10&u.type))););if(null===u)return!1;i=u,t=p}const a=Xe.lFrame=Bl();return a.currentTNode=i,a.lView=t,!0}function bn(t){const i=Bl(),o=t[Oe];Xe.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Bl(){const t=Xe.lFrame,i=null===t?null:t.child;return null===i?Fi(t):i}function Fi(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Ir(){const t=Xe.lFrame;return Xe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const er=Ir;function no(){const t=Ir();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xt(){return Xe.lFrame.selectedIndex}function On(t){Xe.lFrame.selectedIndex=t}function Et(){const t=Xe.lFrame;return bu(t.tView,t.selectedIndex)}let io=!0;function ji(){return io}function Bi(t){io=t}function Bt(t,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const p=t.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:T,ngOnDestroy:M}=p;_&&(t.contentHooks??=[]).push(-o,_),v&&((t.contentHooks??=[]).push(o,v),(t.contentCheckHooks??=[]).push(o,v)),w&&(t.viewHooks??=[]).push(-o,w),T&&((t.viewHooks??=[]).push(o,T),(t.viewCheckHooks??=[]).push(o,T)),null!=M&&(t.destroyHooks??=[]).push(o,M)}}function Ho(t,i,o){Hl(t,i,3,o)}function so(t,i,o,a){(3&t[at])===o&&Hl(t,i,o,a)}function xr(t,i){let o=t[at];(3&o)===i&&(o&=8191,o+=1,t[at]=o)}function Hl(t,i,o,a){const p=a??-1,_=i.length-1;let v=0;for(let w=void 0!==a?65535&t[zs]:0;w<_;w++)if("number"==typeof i[w+1]){if(v=i[w],null!=a&&v>=a)break}else i[w]<0&&(t[zs]+=65536),(v<p||-1==p)&&(ph(t,o,i,w),t[zs]=(4294901760&t[zs])+w+2),w++}function Vl(t,i){gr(4,t,i);const o=Xn(null);try{i.call(t)}finally{Xn(o),gr(5,t,i)}}function ph(t,i,o,a){const u=o[a]<0,p=o[a+1],v=t[u?-o[a]:o[a]];u?t[at]>>13<t[zs]>>16&&(3&t[at])===i&&(t[at]+=8192,Vl(v,p)):Vl(v,p)}const hs=-1;class gc{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function wa(t){return t!==hs}function fs(t){return 32767&t}function Or(t,i){let o=function Ia(t){return t>>16}(t),a=i;for(;o>0;)a=a[ns],o--;return a}let ps=!0;function gs(t){const i=ps;return ps=t,i}const ba=255,ms=5;let zr=0;const Cr={};function Da(t,i){const o=Ta(t,i);if(-1!==o)return o;const a=i[Oe];a.firstCreatePass&&(t.injectorIndex=i.length,$o(a.data,t),$o(i,null),$o(a.blueprint,null));const u=_s(t,i),p=t.injectorIndex;if(wa(u)){const _=fs(u),v=Or(u,i),w=v[Oe].data;for(let T=0;T<8;T++)i[p+T]=v[_+T]|w[_+T]}return i[p+8]=u,p}function $o(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Ta(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function _s(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,u=i;for(;null!==u;){if(a=C(u),null===a)return hs;if(o++,u=u[ns],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return hs}function _h(t,i,o){!function Nu(t,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Mr)&&(a=o[Mr]),null==a&&(a=o[Mr]=zr++);const u=a&ba;i.data[t+(u>>ms)]|=1<<u}(t,i,o)}function xu(t,i,o){if(o&$e.Optional||void 0!==t)return t;pt()}function zl(t,i,o,a){if(o&$e.Optional&&void 0===a&&(a=null),!(o&($e.Self|$e.Host))){const u=t[hr],p=wt(void 0);try{return u?u.get(i,a,o&$e.Optional):Zt(i,a,o&$e.Optional)}finally{wt(p)}}return xu(a,0,o)}function mc(t,i,o,a=$e.Default,u){if(null!==t){if(2048&i[at]&&!(a&$e.Self)){const _=function E(t,i,o,a,u){let p=t,_=i;for(;null!==p&&null!==_&&2048&_[at]&&!(512&_[at]);){const v=Gr(p,_,o,a|$e.Self,Cr);if(v!==Cr)return v;let w=p.parent;if(!w){const T=_[Ka];if(T){const M=T.get(o,Cr,a);if(M!==Cr)return M}w=C(_),_=_[ns]}p=w}return u}(t,i,o,a,Cr);if(_!==Cr)return _}const p=Gr(t,i,o,a,Cr);if(p!==Cr)return p}return zl(i,o,a,u)}function Gr(t,i,o,a,u){const p=function di(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Mr)?t[Mr]:void 0;return"number"==typeof i?i>=0?i&ba:wh:i}(o);if("function"==typeof p){if(!fh(i,t,a))return a&$e.Host?xu(u,0,a):zl(i,o,a,u);try{let _;if(_=p(a),null!=_||a&$e.Optional)return _;pt()}finally{er()}}else if("number"==typeof p){let _=null,v=Ta(t,i),w=hs,T=a&$e.Host?i[sn][Qn]:null;for((-1===v||a&$e.SkipSelf)&&(w=-1===v?_s(t,i):i[v+8],w!==hs&&oo(a,!1)?(_=i[Oe],v=fs(w),i=Or(w,i)):v=-1);-1!==v;){const M=i[Oe];if(vh(p,v,M.data)){const k=Sa(v,i,o,_,a,T);if(k!==Cr)return k}w=i[v+8],w!==hs&&oo(a,i[Oe].data[v+8]===T)&&vh(p,v,i)?(_=M,v=fs(w),i=Or(w,i)):v=-1}}return u}function Sa(t,i,o,a,u,p){const _=i[Oe],v=_.data[t+8],M=Wo(v,_,o,null==a?Ri(v)&&ps:a!=_&&0!=(3&v.type),u&$e.Host&&p===v);return null!==M?ys(i,_,M,v):Cr}function Wo(t,i,o,a,u){const p=t.providerIndexes,_=i.data,v=1048575&p,w=t.directiveStart,M=p>>20,G=u?v+M:t.directiveEnd;for(let J=a?v:v+M;J<G;J++){const fe=_[J];if(J<w&&o===fe||J>=w&&fe.type===o)return J}if(u){const J=_[w];if(J&&pr(J)&&J.type===o)return w}return null}function ys(t,i,o,a){let u=t[o];const p=i.data;if(function gh(t){return t instanceof gc}(u)){const _=u;_.resolving&&function je(t,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new le(-200,`Circular dependency in DI detected for ${t}${o}`)}(function He(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ne(t)}(p[o]));const v=gs(_.canSeeViewProviders);_.resolving=!0;const T=_.injectImpl?wt(_.injectImpl):null;fh(t,a,$e.Default);try{u=t[o]=_.factory(void 0,p,t,a),i.firstCreatePass&&o>=a.directiveStart&&function li(t,i,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:p}=i.type.prototype;if(a){const _=jo(i);(o.preOrderHooks??=[]).push(t,_),(o.preOrderCheckHooks??=[]).push(t,_)}u&&(o.preOrderHooks??=[]).push(0-t,u),p&&((o.preOrderHooks??=[]).push(t,p),(o.preOrderCheckHooks??=[]).push(t,p))}(o,p[o],i)}finally{null!==T&&wt(T),gs(v),_.resolving=!1,er()}}return u}function vh(t,i,o){return!!(o[i+(t>>ms)]&1<<t)}function oo(t,i){return!(t&$e.Self||t&$e.Host&&i)}class kn{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return mc(this._tNode,this._lView,i,yn(a),o)}}function wh(){return new kn(Cn(),ye())}function _c(t){return oe(()=>{const i=t.prototype.constructor,o=i[qn]||yc(i),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const p=u[qn]||yc(u);if(p&&p!==o)return p;u=Object.getPrototypeOf(u)}return p=>new p})}function yc(t){return be(t)?()=>{const i=yc(ce(t));return i&&i()}:Ni(t)}function C(t){const i=t[Oe],o=i.type;return 2===o?i.declTNode:1===o?t[Qn]:null}function A(t){return function yh(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const o=t.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const p=o[u];if(tu(p))break;if(0===p)u+=2;else if("number"==typeof p)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(p===i)return o[u+1];u+=2}}}return null}(Cn(),t)}const W="__parameters__";function Te(t,i,o){return oe(()=>{const a=function Re(t){return function(...o){if(t){const a=t(...o);for(const u in a)this[u]=a[u]}}}(i);function u(...p){if(this instanceof u)return a.apply(this,p),this;const _=new u(...p);return v.annotation=_,v;function v(w,T,M){const k=w.hasOwnProperty(W)?w[W]:Object.defineProperty(w,W,{value:[]})[W];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(_),w}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function ku(t,i){t.forEach(o=>Array.isArray(o)?ku(o,i):i(o))}function Gl(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function Ih(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function qr(t,i,o){let a=wc(t,i);return a>=0?t[1|a]=o:(a=~a,function Zl(t,i,o,a){let u=t.length;if(u==i)t.push(o,a);else if(1===u)t.push(a,t[0]),t[0]=o;else{for(u--,t.push(t[u-1],t[u]);u>i;)t[u]=t[u-2],u--;t[i]=o,t[i+1]=a}}(t,a,i,o)),a}function vp(t,i){const o=wc(t,i);if(o>=0)return t[1|o]}function wc(t,i){return function Ch(t,i,o){let a=0,u=t.length>>o;for(;u!==a;){const p=a+(u-a>>1),_=t[p<<o];if(i===_)return p<<o;_>i?u=p:a=p+1}return~(u<<o)}(t,i,1)}const Fu=rn(Te("Optional"),8),Yl=rn(Te("SkipSelf"),4);function Dn(t){return 128==(128&t.flags)}var Sc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sc||{});const Sh=/^>|^->|<!--|-->|--!>|<!-$/g,Km=/(<|>)/g,Ym="\u200b$1\u200b";const Ah=new Map;let Mp=0;const Wu="__ngContext__";function nr(t,i){Jn(i)?(t[Wu]=i[Ro],function Rp(t){Ah.set(t[Ro],t)}(i)):t[Wu]=i}let uo;function Nc(t,i){return uo(t,i)}function Ra(t){const i=t[Jt];return Xt(i)?i[Jt]:i}function Lh(t){return lo(t[Nr])}function xp(t){return lo(t[dr])}function lo(t){for(;null!==t&&!Xt(t);)t=t[dr];return t}function Ko(t,i,o,a,u){if(null!=a){let p,_=!1;Xt(a)?p=a:Jn(a)&&(_=!0,a=a[ot]);const v=Ft(a);0===t&&null!==o?null==u?l(i,o,v):g(i,o,v,u||null,!0):1===t&&null!==o?g(i,o,v,u||null,!0):2===t?function br(t,i,o){const a=S(t,i);a&&function y(t,i,o,a){t.removeChild(i,o,a)}(t,a,i,o)}(i,v,_):3===t&&i.destroyNode(v),null!=p&&function Rt(t,i,o,a,u){const p=o[Pn];p!==Ft(o)&&Ko(i,t,a,p,u);for(let v=qt;v<o.length;v++){const w=o[v];Yo(w[Oe],w,t,i,a,p)}}(i,t,p,o,u)}}function Uh(t,i){return t.createComment(function $u(t){return t.replace(Sh,i=>i.replace(Km,Ym))}(i))}function Gu(t,i,o){return t.createElement(i,o)}function Hh(t,i){const o=t[Mi],a=o.indexOf(i);fp(i),o.splice(a,1)}function qu(t,i){if(t.length<=qt)return;const o=qt+i,a=t[o];if(a){const u=a[Mo];null!==u&&u!==t&&Hh(u,a),i>0&&(t[o-1][dr]=a[dr]);const p=Ih(t,qt+i);!function kr(t,i){Yo(t,i,i[Qe],2,null,null),i[ot]=null,i[Qn]=null}(a[Oe],a);const _=p[Er];null!==_&&_.detachView(p[Oe]),a[Jt]=null,a[dr]=null,a[at]&=-129}return a}function bs(t,i){if(!(256&i[at])){const o=i[Qe];i[Po]&&rc(i[Po]),i[oi]&&rc(i[oi]),o.destroyNode&&Yo(t,i,o,3,null,null),function Op(t){let i=t[Nr];if(!i)return Pa(t[Oe],t);for(;i;){let o=null;if(Jn(i))o=i[Nr];else{const a=i[qt];a&&(o=a)}if(!o){for(;i&&!i[dr]&&i!==t;)Jn(i)&&Pa(i[Oe],i),i=i[Jt];null===i&&(i=t),Jn(i)&&Pa(i[Oe],i),o=i&&i[dr]}i=o}}(i)}}function Pa(t,i){if(!(256&i[at])){i[at]&=-129,i[at]|=256,function e_(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const u=i[o[a]];if(!(u instanceof gc)){const p=o[a+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const v=u[p[_]],w=p[_+1];gr(4,v,w);try{w.call(v)}finally{gr(5,v,w)}}else{gr(4,u,p);try{p.call(u)}finally{gr(5,u,p)}}}}}(t,i),function Xm(t,i){const o=t.cleanup,a=i[Ao];if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const _=o[p+3];_>=0?a[_]():a[-_].unsubscribe(),p+=2}else o[p].call(a[o[p+1]]);null!==a&&(i[Ao]=null);const u=i[Ai];if(null!==u){i[Ai]=null;for(let p=0;p<u.length;p++)(0,u[p])()}}(t,i),1===i[Oe].type&&i[Qe].destroy();const o=i[Mo];if(null!==o&&Xt(i[Jt])){o!==i[Jt]&&Hh(o,i);const a=i[Er];null!==a&&a.detachView(t)}!function Qm(t){Ah.delete(t[Ro])}(i)}}function xc(t,i,o){return function Na(t,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[ot];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:p}=t.data[a.directiveStart+u];if(p===Ee.None||p===Ee.Emulated)return null}return Vn(a,o)}}(t,i.parent,o)}function g(t,i,o,a,u){t.insertBefore(i,o,a,u)}function l(t,i,o){t.appendChild(i,o)}function f(t,i,o,a,u){null!==a?g(t,i,o,a,u):l(t,i,o)}function S(t,i){return t.parentNode(i)}let De,kp,$h,Lp,de=function ge(t,i,o){return 40&t.type?Vn(t,o):null};function rt(t,i,o,a){const u=xc(t,a,i),p=i[Qe],v=function Z(t,i,o){return de(t,i,o)}(a.parent||i[Qn],a,i);if(null!=u)if(Array.isArray(o))for(let w=0;w<o.length;w++)f(p,u,o[w],v,!1);else f(p,u,o,v,!1);void 0!==De&&De(p,a,i,o,u)}function Kt(t,i){if(null!==i){const o=i.type;if(3&o)return Vn(i,t);if(4&o)return Fr(-1,t[i.index]);if(8&o){const a=i.child;if(null!==a)return Kt(t,a);{const u=t[i.index];return Xt(u)?Fr(-1,u):Ft(u)}}if(32&o)return Nc(i,t)()||Ft(t[i.index]);{const a=Lr(t,i);return null!==a?Array.isArray(a)?a[0]:Kt(Ra(t[sn]),a):Kt(t,i.next)}}return null}function Lr(t,i){return null!==i?t[sn][Qn].projection[i.projection]:null}function Fr(t,i){const o=qt+t+1;if(o<i.length){const a=i[o],u=a[Oe].firstChild;if(null!==u)return Kt(a,u)}return i[Pn]}function xa(t,i,o,a,u,p,_){for(;null!=o;){const v=a[o.index],w=o.type;if(_&&0===i&&(v&&nr(Ft(v),a),o.flags|=2),32!=(32&o.flags))if(8&w)xa(t,i,o.child,a,u,p,!1),Ko(i,t,u,v,p);else if(32&w){const T=Nc(o,a);let M;for(;M=T();)Ko(i,t,u,M,p);Ko(i,t,u,v,p)}else 16&w?Ot(t,i,a,o,u,p):Ko(i,t,u,v,p);o=_?o.projectionNext:o.next}}function Yo(t,i,o,a,u,p){xa(o,a,t.firstChild,i,u,p,!1)}function Ot(t,i,o,a,u,p){const _=o[sn],w=_[Qn].projection[a.projection];if(Array.isArray(w))for(let T=0;T<w.length;T++)Ko(i,t,u,w[T],p);else{let T=w;const M=_[Jt];Dn(a)&&(T.flags|=128),xa(t,i,T,M,u,p,!0)}}function Ut(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}function rd(t,i,o){const{mergedAttrs:a,classes:u,styles:p}=o;null!==a&&Hr(t,i,a),null!==u&&Ut(t,i,u),null!==p&&function Qo(t,i,o){t.setAttribute(i,"style",o)}(t,i,p)}function Yu(t){return function Ku(){if(void 0===kp&&(kp=null,Mt.trustedTypes))try{kp=Mt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kp}()?.createHTML(t)||t}function Ts(t){$h=t}function Fp(t){return function t_(){if(void 0===Lp&&(Lp=null,Mt.trustedTypes))try{Lp=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lp}()?.createScriptURL(t)||t}class ho{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ie})`}}class fC extends ho{getTypeName(){return"HTML"}}class Hv extends ho{getTypeName(){return"Style"}}class pC extends ho{getTypeName(){return"Script"}}class gC extends ho{getTypeName(){return"URL"}}class mC extends ho{getTypeName(){return"ResourceURL"}}function Jo(t){return t instanceof ho?t.changingThisBreaksApplicationSecurity:t}function Ss(t,i){const o=function St(t){return t instanceof ho&&t.getTypeName()||null}(t);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Ie})`)}return o===i}function Up(t){return new fC(t)}function jp(t){return new Hv(t)}function Vv(t){return new pC(t)}function Xo(t){return new gC(t)}function Bp(t){return new mC(t)}class _C{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Yu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class gi{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=Yu(i),o}}const r_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sd(t){return(t=String(t)).match(r_)?t:"unsafe:"+t}function Oa(t){const i={};for(const o of t.split(","))i[o]=!0;return i}function od(...t){const i={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(i[a]=!0);return i}const i_=Oa("area,br,col,hr,img,wbr"),s_=Oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qu=Oa("rp,rt"),o_=od(i_,od(s_,Oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),od(Qu,Oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),od(Qu,s_)),a_=Oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$v=od(a_,Oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hp=Oa("script,style,template");class c_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!o_.hasOwnProperty(o))return this.sanitizedSomething=!0,!Hp.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=i.attributes;for(let u=0;u<a.length;u++){const p=a.item(u),_=p.name,v=_.toLowerCase();if(!$v.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=p.value;a_[v]&&(w=sd(w)),this.buf.push(" ",_,'="',cd(w),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();o_.hasOwnProperty(o)&&!i_.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(cd(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const ad=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ka=/([^\#-~ |!])/g;function cd(t){return t.replace(/&/g,"&amp;").replace(ad,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(ka,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ut;function Wv(t,i){let o=null;try{ut=ut||function As(t){const i=new gi(t);return function yC(){try{return!!(new window.DOMParser).parseFromString(Yu(""),"text/html")}catch{return!1}}()?new _C(i):i}(t);let a=i?String(i):"";o=ut.getInertBodyElement(a);let u=5,p=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=p,p=o.innerHTML,o=ut.getInertBodyElement(a)}while(a!==p);return Yu((new c_).sanitizeChildren(Ju(o)||o))}finally{if(o){const a=Ju(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ju(t){return"content"in t&&function wC(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Yt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yt||{});function Vp(t){const i=kc();return i?i.sanitize(Yt.URL,t)||"":Ss(t,"URL")?Jo(t):sd(Ne(t))}function $p(t){const i=kc();if(i)return Fp(i.sanitize(Yt.RESOURCE_URL,t)||"");if(Ss(t,"ResourceURL"))return Fp(Jo(t));throw new le(904,!1)}function Wp(t,i,o){return function CC(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?$p:Vp}(i,o)(t)}function kc(){const t=ye();return t&&t[Ws].sanitizer}class Ht{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=$t({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gh=new Ht("ENVIRONMENT_INITIALIZER"),zv=new Ht("INJECTOR",-1),Gp=new Ht("INJECTOR_DEF_TYPES");class l_{get(i,o=cn){if(o===cn){const a=new Error(`NullInjectorError: No provider for ${j(i)}!`);throw a.name="NullInjectorError",a}return o}}function Zh(t){return{\u0275providers:t}}function bC(...t){return{\u0275providers:qh(0,t),\u0275fromNgModule:!0}}function qh(t,...i){const o=[],a=new Set;let u;const p=_=>{o.push(_)};return ku(i,_=>{const v=_;Kh(v,p,[],a)&&(u||=[],u.push(v))}),void 0!==u&&d_(u,p),o}function d_(t,i){for(let o=0;o<t.length;o++){const{ngModule:a,providers:u}=t[o];f_(u,p=>{i(p,a)})}}function Kh(t,i,o,a){if(!(t=ce(t)))return!1;let u=null,p=Qi(t);const _=!p&&It(t);if(p||_){if(_&&!_.standalone)return!1;u=t}else{const w=t.ngModule;if(p=Qi(w),!p)return!1;u=w}const v=a.has(u);if(_){if(v)return!1;if(a.add(u),_.dependencies){const w="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of w)Kh(T,i,o,a)}}else{if(!p)return!1;{if(null!=p.imports&&!v){let T;a.add(u);try{ku(p.imports,M=>{Kh(M,i,o,a)&&(T||=[],T.push(M))})}finally{}void 0!==T&&d_(T,i)}if(!v){const T=Ni(u)||(()=>new u);i({provide:u,useFactory:T,deps:Pe},u),i({provide:Gp,useValue:u,multi:!0},u),i({provide:Gh,useValue:()=>Ye(u),multi:!0},u)}const w=p.providers;if(null!=w&&!v){const T=t;f_(w,M=>{i(M,T)})}}}return u!==t&&void 0!==t.providers}function f_(t,i){for(let o of t)Se(o)&&(o=o.\u0275providers),Array.isArray(o)?f_(o,i):i(o)}const Zp=P({provide:String,useValue:P});function Lc(t){return null!==t&&"object"==typeof t&&Zp in t}function Xu(t){return"function"==typeof t}const Yp=new Ht("Set Injector scope."),Qp={},TC={};let p_;function Gi(){return void 0===p_&&(p_=new l_),p_}class Ms{}class ld extends Ms{get destroyed(){return this._destroyed}constructor(i,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,el(i,_=>this.processProvider(_)),this.records.set(zv,fo(void 0,this)),u.has("environment")&&this.records.set(Ms,fo(void 0,this));const p=this.records.get(Yp);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Gp.multi,Pe,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=ke(this),a=wt(void 0);try{return i()}finally{ke(o),wt(a)}}get(i,o=cn,a=$e.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(ri))return i[ri](this);a=yn(a);const p=ke(this),_=wt(void 0);try{if(!(a&$e.SkipSelf)){let w=this.records.get(i);if(void 0===w){const T=function AC(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ht}(i)&&bi(i);w=T&&this.injectableDefInScope(T)?fo(Yh(i),Qp):null,this.records.set(i,w)}if(null!=w)return this.hydrate(i,w)}return(a&$e.Self?Gi():this.parent).get(i,o=a&$e.Optional&&o===cn?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[cr]=v[cr]||[]).unshift(j(i)),p)throw v;return function Hn(t,i,o,a){const u=t[cr];throw i[q]&&u.unshift(i[q]),t.message=function Hs(t,i,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=j(i);if(Array.isArray(i))u=i.map(j).join(" -> ");else if("object"==typeof i){let p=[];for(let _ in i)if(i.hasOwnProperty(_)){let v=i[_];p.push(_+":"+("string"==typeof v?JSON.stringify(v):j(v)))}u=`{${p.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${t.replace($,"\n  ")}`}("\n"+t.message,u,o,a),t.ngTokenPath=u,t[cr]=null,t}(v,i,"R3InjectorError",this.source)}throw v}finally{wt(_),ke(p)}}resolveInjectorInitializers(){const i=ke(this),o=wt(void 0);try{const u=this.get(Gh.multi,Pe,$e.Self);for(const p of u)p()}finally{ke(i),wt(o)}}toString(){const i=[],o=this.records;for(const a of o.keys())i.push(j(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(i){let o=Xu(i=ce(i))?i:ce(i&&i.provide);const a=function Qh(t){return Lc(t)?fo(void 0,t.useValue):fo(function Fc(t,i,o){let a;if(Xu(t)){const u=ce(t);return Ni(u)||Yh(u)}if(Lc(t))a=()=>ce(t.useValue);else if(function Kp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...yt(t.deps||[]));else if(function qp(t){return!(!t||!t.useExisting)}(t))a=()=>Ye(ce(t.useExisting));else{const u=ce(t&&(t.useClass||t.provide));if(!function Uc(t){return!!t.deps}(t))return Ni(u)||Yh(u);a=()=>new u(...yt(t.deps))}return a}(t),Qp)}(i);if(Xu(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=fo(void 0,Qp,!0),u.factory=()=>yt(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,a)}hydrate(i,o){return o.value===Qp&&(o.value=TC,o.value=o.factory()),"object"==typeof o.value&&o.value&&function SC(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ce(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Yh(t){const i=bi(t),o=null!==i?i.factory:Ni(t);if(null!==o)return o;if(t instanceof Ht)throw new le(204,!1);if(t instanceof Function)return function Jp(t){const i=t.length;if(i>0)throw function zo(t,i){const o=[];for(let a=0;a<t;a++)o.push(i);return o}(i,"?"),new le(204,!1);const o=function Yi(t){return t&&(t[or]||t[Gt])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new le(204,!1)}function fo(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function el(t,i){for(const o of t)Array.isArray(o)?el(o,i):o&&Se(o)?el(o.\u0275providers,i):i(o)}const Gv=new Ht("AppId",{providedIn:"root",factory:()=>MC}),MC="ng",Jh=new Ht("Platform Initializer"),tl=new Ht("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nl=new Ht("CSP nonce",{providedIn:"root",factory:()=>function id(){if(void 0!==$h)return $h;if(typeof document<"u")return document;throw new le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zv=(t,i,o)=>null;function rg(t,i,o=!1){return Zv(t,i,o)}class E_{}class w_{}class Jv{resolveComponentFactory(i){throw function Yv(t){const i=Error(`No component factory found for ${j(t)}.`);return i.ngComponent=t,i}(i)}}let gd=(()=>{class t{static#e=this.NULL=new Jv}return t})();function LC(){return md(Cn(),ye())}function md(t,i){return new nf(Vn(t,i))}let nf=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=LC}return t})();function FC(t){return t instanceof nf?t.nativeElement:t}class I_{}let og=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function C_(){const t=ye(),o=In(Cn().index,t);return(Jn(o)?o:t)[Qe]}()}return t})(),Xv=(()=>{class t{static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:()=>null})}return t})();class eE{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const b_=new eE("16.2.9"),rf={};function iE(t,i=null,o=null,a){const u=S_(t,i,o,a);return u.resolveInjectorInitializers(),u}function S_(t,i=null,o=null,a,u=new Set){const p=[o||Pe,bC(t)];return a=a||("object"==typeof t?void 0:j(t)),new ld(p,i||Gi(),a||null,u)}let _i=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=cn;static#t=this.NULL=new l_;static create(o,a){if(Array.isArray(o))return iE({name:""},a,o,"");{const u=o.name??"";return iE({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=$t({token:t,providedIn:"any",factory:()=>Ye(zv)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function M_(t){return t.ngOriginalError}class Bc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&M_(i);for(;o&&M_(o);)o=M_(o);return o||null}}function ag(t){return i=>{setTimeout(t,void 0,i)}}const Dr=class $C extends d.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){let u=i,p=o||(()=>null),_=a;if(i&&"object"==typeof i){const w=i;u=w.next?.bind(w),p=w.error?.bind(w),_=w.complete?.bind(w)}this.__isAsync&&(p=ag(p),u&&(u=ag(u)),_&&(_=ag(_)));const v=super.subscribe({next:u,error:p,complete:_});return i instanceof X.w&&i.add(v),v}};function R_(...t){}class Fn{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dr(!1),this.onMicrotaskEmpty=new Dr(!1),this.onStable=new Dr(!1),this.onError=new Dr(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function oE(){const t="function"==typeof Mt.requestAnimationFrame;let i=Mt[t?"requestAnimationFrame":"setTimeout"],o=Mt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function zC(t){const i=()=>{!function WC(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ug(t),t.isCheckStableRunning=!0,P_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ug(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,p,_,v)=>{if(function GC(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return o.invokeTask(u,p,_,v);try{return lg(t),o.invokeTask(u,p,_,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&i(),aE(t)}},onInvoke:(o,a,u,p,_,v,w)=>{try{return lg(t),o.invoke(u,p,_,v,w)}finally{t.shouldCoalesceRunChangeDetection&&i(),aE(t)}},onHasTask:(o,a,u,p)=>{o.hasTask(u,p),a===u&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,ug(t),P_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,a,u,p)=>(o.handleError(u,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fn.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Fn.isInAngularZone())throw new le(909,!1)}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,u){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+u,i,cg,R_,R_);try{return p.runTask(_,o,a)}finally{p.cancelTask(_)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const cg={};function P_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ug(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function lg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aE(t){t._nesting--,P_(t)}class Hc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dr,this.onMicrotaskEmpty=new Dr,this.onStable=new Dr,this.onError=new Dr}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,u){return i.apply(o,a)}}const _d=new Ht("",{providedIn:"root",factory:cE});function cE(){const t=it(Fn);let i=!0;const o=new O.y(u=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(i),u.complete()})}),a=new O.y(u=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{Fn.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,u.next(!0))})})});const _=t.onUnstable.subscribe(()=>{Fn.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{p.unsubscribe(),_.unsubscribe()}});return(0,te.T)(o,a.pipe((0,he.B)()))}function go(t){return t instanceof Function?t():t}let hg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ua(t){for(;t;){t[at]|=64;const i=Ra(t);if(Ya(t)&&!i)return t;t=i}return null}const pg=new Ht("",{providedIn:"root",factory:()=>!1});let cf=null;function gg(t,i){return t[i]??yg()}function mg(t,i){const o=yg();o.producerNode?.length&&(t[i]=cf,o.lView=t,cf=Vc())}const _g={...xo,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ua(t.lView)},lView:null};function Vc(){return Object.create(_g)}function yg(){return cf??=Vc(),cf}const ht={};function fE(t){uf(Ct(),ye(),xt()+t,!1)}function uf(t,i,o,a){if(!a)if(3==(3&i[at])){const p=t.preOrderCheckHooks;null!==p&&Ho(i,p,o)}else{const p=t.preOrderHooks;null!==p&&so(i,p,0,o)}On(o)}function sl(t,i=$e.Default){const o=ye();return null===o?Ye(t,i):mc(Cn(),o,ce(t),i)}function pE(){throw new Error("invalid")}function Ed(t,i,o,a,u,p,_,v,w,T,M){const k=i.blueprint.slice();return k[ot]=u,k[at]=140|a,(null!==T||t&&2048&t[at])&&(k[at]|=2048),ch(k),k[Jt]=k[ns]=t,k[un]=o,k[Ws]=_||t&&t[Ws],k[Qe]=v||t&&t[Qe],k[hr]=w||t&&t[hr]||null,k[Qn]=p,k[Ro]=function Ac(){return Mp++}(),k[fr]=M,k[Ka]=T,k[sn]=2==i.type?t[sn]:k,k}function wd(t,i,o,a,u){let p=t.data[i];if(null===p)p=function U_(t,i,o,a,u){const p=dc(),_=Ll(),w=t.data[i]=function Ns(t,i,o,a,u,p){let _=i?i.injectorIndex:-1,v=0;return function ki(){return null!==Xe.skipHydrationRootTNode}()&&(v|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:u,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,o,i,a,u);return null===t.firstChild&&(t.firstChild=w),null!==p&&(_?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w,w.prev=p)),w}(t,i,o,a,u),function hh(){return Xe.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=o,p.value=a,p.attrs=u;const _=function Li(){const t=Xe.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return ci(p,!0),p}function df(t,i,o,a){if(0===o)return-1;const u=i.length;for(let p=0;p<o;p++)i.push(a),t.blueprint.push(a),t.data.push(null);return u}function vg(t,i,o,a,u){const p=gg(i,Po),_=xt(),v=2&a;try{On(-1),v&&i.length>mt&&uf(t,i,mt,!1),gr(v?2:0,u);const T=v?p:null,M=nc(T);try{null!==T&&(T.dirty=!1),o(a,u)}finally{wn(T,M)}}finally{v&&null===i[Po]&&mg(i,Po),On(_),gr(v?3:1,u)}}function Id(t,i,o){if(lu(i)){const a=Xn(null);try{const p=i.directiveEnd;for(let _=i.directiveStart;_<p;_++){const v=t.data[_];v.contentQueries&&v.contentQueries(1,o[_],_)}}finally{Xn(a)}}}function Eg(t,i,o){$n()&&(function gf(t,i,o,a){const u=o.directiveStart,p=o.directiveEnd;Ri(o)&&function sb(t,i,o){const a=Vn(i,t),u=Cd(o);let _=16;o.signals?_=4096:o.onPush&&(_=64);const v=Tg(t,Ed(t,u,null,_,a,i,null,t[Ws].rendererFactory.createRenderer(a,o),null,null,null));t[i.index]=v}(i,o,t.data[u+o.componentOffset]),t.firstCreatePass||Da(o,i),nr(a,i);const _=o.initialInputs;for(let v=u;v<p;v++){const w=t.data[v],T=ys(i,t,v,o);nr(T,i),null!==_&&ob(0,v-u,T,w,0,_),pr(w)&&(In(o.index,i)[un]=ys(i,t,v,o))}}(t,i,o,Vn(o,i)),64==(64&o.flags)&&V_(t,i,o))}function j_(t,i,o=Vn){const a=i.localNames;if(null!==a){let u=i.index+1;for(let p=0;p<a.length;p+=2){const _=a[p+1],v=-1===_?o(i,t):t[_];t[u++]=v}}}function Cd(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Ps(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function Ps(t,i,o,a,u,p,_,v,w,T,M){const k=mt+a,G=k+u,J=function hf(t,i){const o=[];for(let a=0;a<i;a++)o.push(a<t?null:ht);return o}(k,G),fe="function"==typeof T?T():T;return J[Oe]={type:t,blueprint:J,template:o,queries:null,viewQuery:v,declTNode:i,data:J.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:fe,incompleteFirstPass:!1,ssrId:M}}let wg=t=>null;function B_(t,i,o,a){for(let u in t)if(t.hasOwnProperty(u)){o=null===o?{}:o;const p=t[u];null===a?mE(o,i,u,p):a.hasOwnProperty(u)&&mE(o,i,a[u],p)}return o}function mE(t,i,o,a){t.hasOwnProperty(o)?t[o].push(i,a):t[o]=[i,a]}function H_(t,i,o,a){if($n()){const u=null===a?null:{"":-1},p=function nb(t,i){const o=t.directiveRegistry;let a=null,u=null;if(o)for(let p=0;p<o.length;p++){const _=o[p];if(Vs(i,_.selectors,!1))if(a||(a=[]),pr(_))if(null!==_.findHostDirectiveDefs){const v=[];u=u||new Map,_.findHostDirectiveDefs(_,v,u),a.unshift(...v,_),mf(t,i,v.length)}else a.unshift(_),mf(t,i,0);else u=u||new Map,_.findHostDirectiveDefs?.(_,a,u),a.push(_)}return null===a?null:[a,u]}(t,o);let _,v;null===p?_=v=null:[_,v]=p,null!==_&&vE(t,i,o,_,u,v),u&&function Cg(t,i,o){if(i){const a=t.localNames=[];for(let u=0;u<i.length;u+=2){const p=o[i[u+1]];if(null==p)throw new le(-301,!1);a.push(i[u],p)}}}(o,a,u)}o.mergedAttrs=Ga(o.mergedAttrs,o.attrs)}function vE(t,i,o,a,u,p){for(let T=0;T<a.length;T++)_h(Da(o,i),t,a[T].type);!function $_(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,a.length);for(let T=0;T<a.length;T++){const M=a[T];M.providersResolver&&M.providersResolver(M)}let _=!1,v=!1,w=df(t,i,a.length,null);for(let T=0;T<a.length;T++){const M=a[T];o.mergedAttrs=Ga(o.mergedAttrs,M.hostAttrs),ib(t,o,i,w,M),rb(w,M,u),null!==M.contentQueries&&(o.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(o.flags|=64);const k=M.type.prototype;!_&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),_=!0),!v&&(k.ngOnChanges||k.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),v=!0),w++}!function Ig(t,i,o){const u=i.directiveEnd,p=t.data,_=i.attrs,v=[];let w=null,T=null;for(let M=i.directiveStart;M<u;M++){const k=p[M],G=o?o.get(k):null,fe=G?G.outputs:null;w=B_(k.inputs,M,w,G?G.inputs:null),T=B_(k.outputs,M,T,fe);const Ce=null===w||null===_||si(i)?null:ab(w,M,_);v.push(Ce)}null!==w&&(w.hasOwnProperty("class")&&(i.flags|=8),w.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=v,i.inputs=w,i.outputs=T}(t,o,p)}function V_(t,i,o){const a=o.directiveStart,u=o.directiveEnd,p=o.index,_=function Ul(){return Xe.lFrame.currentDirectiveIndex}();try{On(p);for(let v=a;v<u;v++){const w=t.data[v],T=i[v];fc(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&wE(w,T)}}finally{On(-1),fc(_)}}function wE(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function mf(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function rb(t,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=t;pr(i)&&(o[""]=t)}}function ib(t,i,o,a,u){t.data[a]=u;const p=u.factory||(u.factory=Ni(u.type)),_=new gc(p,pr(u),sl);t.blueprint[a]=_,o[a]=_,function tb(t,i,o,a,u){const p=u.hostBindings;if(p){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const v=~i.index;(function EE(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(_)!=v&&_.push(v),_.push(o,a,p)}}(t,i,a,df(t,o,u.hostVars,ht),u)}function ea(t,i,o,a,u,p){const _=Vn(t,i);!function bg(t,i,o,a,u,p,_){if(null==p)t.removeAttribute(i,u,o);else{const v=null==_?Ne(p):_(p,a||"",u);t.setAttribute(i,u,v,o)}}(i[Qe],_,p,t.value,o,a,u)}function ob(t,i,o,a,u,p){const _=p[i];if(null!==_)for(let v=0;v<_.length;)IE(a,o,_[v++],_[v++],_[v++])}function IE(t,i,o,a,u){const p=Xn(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(a)&&(u=_[a].call(i,u)),null!==t.setInput?t.setInput(i,u,o,a):i[a]=u}finally{Xn(p)}}function ab(t,i,o){let a=null,u=0;for(;u<o.length;){const p=o[u];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===a&&(a=[]);const _=t[p];for(let v=0;v<_.length;v+=2)if(_[v]===i){a.push(p,_[v+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function Dg(t,i,o,a){return[t,!0,!1,i,null,0,a,o,null,null,null]}function W_(t,i){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const p=o[a+1];if(-1!==p){const _=t.data[p];jl(o[a]),_.contentQueries(2,i[p],p)}}}function Tg(t,i){return t[Nr]?t[cu][dr]=i:t[Nr]=i,t[cu]=i,i}function $c(t,i,o){jl(0);const a=Xn(null);try{i(t,o)}finally{Xn(a)}}function CE(t){return t[Ao]||(t[Ao]=[])}function Sg(t){return t.cleanup||(t.cleanup=[])}function bE(t,i){const o=t[hr],a=o?o.get(Bc,null):null;a&&a.handleError(i)}function Wc(t,i,o,a,u){for(let p=0;p<o.length;){const _=o[p++],v=o[p++];IE(t.data[_],i[_],a,v,u)}}function ja(t,i,o){const a=Xs(i,t);!function Fh(t,i,o){t.setValue(i,o)}(t[Qe],a,o)}function DE(t,i){const o=In(i,t),a=o[Oe];!function TE(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(a,o);const u=o[ot];null!==u&&null===o[fr]&&(o[fr]=rg(u,o[hr])),Ag(a,o,o[un])}function Ag(t,i,o){bn(i);try{const a=t.viewQuery;null!==a&&$c(1,a,o);const u=t.template;null!==u&&vg(t,i,u,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&W_(t,i),t.staticViewQueries&&$c(2,t.viewQuery,o);const p=t.components;null!==p&&function Mg(t,i){for(let o=0;o<i.length;o++)DE(t,i[o])}(i,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{i[at]&=-5,no()}}let Rg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const p=typeof Zone>"u"?null:Zone.current,_=function wu(t,i,o){const a=Object.create(Cu);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=i;const u=_=>{a.cleanupFn=_};return a.ref={notify:()=>Oo(a),run:()=>{if(a.dirty=!1,a.hasRun&&!gu(a))return;a.hasRun=!0;const _=nc(a);try{a.cleanupFn(),a.cleanupFn=Iu,a.fn(u)}finally{wn(a,_)}},cleanup:()=>a.cleanupFn()},a.ref}(o,T=>{this.all.has(T)&&this.queue.set(T,p)},u);let v;this.all.add(_),_.notify();const w=()=>{_.cleanup(),v?.(),this.all.delete(_),this.queue.delete(_)};return v=a?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:()=>new t})}return t})();function Pg(t,i,o){let a=o?t.styles:null,u=o?t.classes:null,p=0;if(null!==i)for(let _=0;_<i.length;_++){const v=i[_];"number"==typeof v?p=v:1==p?u=ne(u,v):2==p&&(a=ne(a,v+": "+i[++_]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=u:t.classesWithoutHost=u}function yf(t,i,o,a,u=!1){for(;null!==o;){const p=i[o.index];null!==p&&a.push(Ft(p)),Xt(p)&&Ng(p,a);const _=o.type;if(8&_)yf(t,i,o.child,a);else if(32&_){const v=Nc(o,i);let w;for(;w=v();)a.push(w)}else if(16&_){const v=Lr(i,o);if(Array.isArray(v))a.push(...v);else{const w=Ra(i[sn]);yf(w[Oe],w,v,a,!0)}}o=u?o.projectionNext:o.next}return a}function Ng(t,i){for(let o=qt;o<t.length;o++){const a=t[o],u=a[Oe].firstChild;null!==u&&yf(a[Oe],a,u,i)}t[Pn]!==t[ot]&&i.push(t[Pn])}function xg(t,i,o,a=!0){const u=i[Ws],p=u.rendererFactory,_=u.afterRenderEventManager;p.begin?.(),_?.begin();try{G_(t,i,t.template,o)}catch(w){throw a&&bE(i,w),w}finally{p.end?.(),u.effectManager?.flush(),_?.end()}}function G_(t,i,o,a){const u=i[at];if(256!=(256&u)){i[Ws].effectManager?.flush(),bn(i);try{ch(i),function Fl(t){return Xe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&vg(t,i,o,2,a);const _=3==(3&u);if(_){const T=t.preOrderCheckHooks;null!==T&&Ho(i,T,null)}else{const T=t.preOrderHooks;null!==T&&so(i,T,0,null),xr(i,0)}if(function q_(t){for(let i=Lh(t);null!==i;i=xp(i)){if(!i[uu])continue;const o=i[Mi];for(let a=0;a<o.length;a++){Tu(o[a])}}}(i),Z_(i,2),null!==t.contentQueries&&W_(t,i),_){const T=t.contentCheckHooks;null!==T&&Ho(i,T)}else{const T=t.contentHooks;null!==T&&so(i,T,1),xr(i,1)}!function lf(t,i){const o=t.hostBindingOpCodes;if(null===o)return;const a=gg(i,oi);try{for(let u=0;u<o.length;u++){const p=o[u];if(p<0)On(~p);else{const _=p,v=o[++u],w=o[++u];hc(v,_),a.dirty=!1;const T=nc(a);try{w(2,i[_])}finally{wn(a,T)}}}}finally{null===i[oi]&&mg(i,oi),On(-1)}}(t,i);const v=t.components;null!==v&&vf(i,v,0);const w=t.viewQuery;if(null!==w&&$c(2,w,a),_){const T=t.viewCheckHooks;null!==T&&Ho(i,T)}else{const T=t.viewHooks;null!==T&&so(i,T,2),xr(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[at]&=-73,fp(i)}finally{no()}}}function Z_(t,i){for(let o=Lh(t);null!==o;o=xp(o))for(let a=qt;a<o.length;a++)Jr(o[a],i)}function SE(t,i,o){Jr(In(i,t),o)}function Jr(t,i){if(!function us(t){return 128==(128&t[at])}(t))return;const o=t[Oe],a=t[at];if(80&a&&0===i||1024&a||2===i)G_(o,t,o.template,t[un]);else if(t[ts]>0){Z_(t,1);const u=o.components;null!==u&&vf(t,u,1)}}function vf(t,i,o){for(let a=0;a<i.length;a++)SE(t,i[a],o)}class xs{get rootNodes(){const i=this._lView,o=i[Oe];return yf(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[un]}set context(i){this._lView[un]=i}get destroyed(){return 256==(256&this._lView[at])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Jt];if(Xt(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(qu(i,a),Ih(o,a))}this._attachedToViewContainer=!1}bs(this._lView[Oe],this._lView)}onDestroy(i){!function Ea(t,i){if(256==(256&t[at]))throw new le(911,!1);null===t[Ai]&&(t[Ai]=[]),t[Ai].push(i)}(this._lView,i)}markForCheck(){Ua(this._cdRefInjectingView||this._lView)}detach(){this._lView[at]&=-129}reattach(){this._lView[at]|=128}detectChanges(){xg(this._lView[Oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bh(t,i){Yo(t,i,i[Qe],2,null,null)}(this._lView[Oe],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=i}}class Og extends xs{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;xg(i[Oe],i,i[un],!1)}checkNoChanges(){}get context(){return null}}class Zi extends gd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=It(i);return new mo(o,this.ngModule)}}function zc(t){const i=[];for(let o in t)t.hasOwnProperty(o)&&i.push({propName:t[o],templateName:o});return i}class ME{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,a){a=yn(a);const u=this.injector.get(i,rf,a);return u!==rf||o===rf?u:this.parentInjector.get(i,o,a)}}class mo extends w_{get inputs(){const i=this.componentDef,o=i.inputTransforms,a=zc(i.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return zc(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function nh(t){return t.map(th).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,a,u){let p=(u=u||this.ngModule)instanceof Ms?u:u?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new ME(i,p):i,v=_.get(I_,null);if(null===v)throw new le(407,!1);const k={rendererFactory:v,sanitizer:_.get(Xv,null),effectManager:_.get(Rg,null),afterRenderEventManager:_.get(hg,null)},G=v.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",fe=a?function QC(t,i,o,a){const p=a.get(pg,!1)||o===Ee.ShadowDom,_=t.selectRootElement(i,p);return function gE(t){wg(t)}(_),_}(G,a,this.componentDef.encapsulation,_):Gu(G,J,function AE(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(J)),qe=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let we=null;null!==fe&&(we=rg(fe,_,!0));const ft=Ps(0,null,null,1,0,null,null,null,null,null,null),At=Ed(null,ft,null,qe,null,null,k,G,_,null,we);let tn,Fs;bn(At);try{const Il=this.componentDef;let km,fT=null;Il.findHostDirectiveDefs?(km=[],fT=new Map,Il.findHostDirectiveDefs(Il,km,fT),km.push(Il)):km=[Il];const KS=function lb(t,i){const o=t[Oe],a=mt;return t[a]=i,wd(o,a,2,"#host",null)}(At,fe),YS=function db(t,i,o,a,u,p,_){const v=u[Oe];!function K_(t,i,o,a){for(const u of t)i.mergedAttrs=Ga(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(Pg(i,i.mergedAttrs,!0),null!==o&&rd(a,o,i))}(a,t,i,_);let w=null;null!==i&&(w=rg(i,u[hr]));const T=p.rendererFactory.createRenderer(i,o);let M=16;o.signals?M=4096:o.onPush&&(M=64);const k=Ed(u,Cd(o),null,M,u[t.index],t,p,T,null,null,w);return v.firstCreatePass&&mf(v,t,a.length-1),Tg(u,k),u[t.index]=k}(KS,fe,Il,km,At,k,G);Fs=bu(ft,mt),fe&&function fb(t,i,o,a){if(a)Hr(t,o,["ng-version",b_.full]);else{const{attrs:u,classes:p}=function Pr(t){const i=[],o=[];let a=1,u=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===u?""!==p&&i.push(p,t[++a]):8===u&&o.push(p);else{if(!ur(u))break;u=p}a++}return{attrs:i,classes:o}}(i.selectors[0]);u&&Hr(t,o,u),p&&p.length>0&&Ut(t,o,p.join(" "))}}(G,Il,fe,a),void 0!==o&&function pb(t,i,o){const a=t.projection=[];for(let u=0;u<i.length;u++){const p=o[u];a.push(null!=p?Array.from(p):null)}}(Fs,this.ngContentSelectors,o),tn=function hb(t,i,o,a,u,p){const _=Cn(),v=u[Oe],w=Vn(_,u);vE(v,u,_,o,null,a);for(let M=0;M<o.length;M++)nr(ys(u,v,_.directiveStart+M,_),u);V_(v,u,_),w&&nr(w,u);const T=ys(u,v,_.directiveStart+_.componentOffset,_);if(t[un]=u[un]=T,null!==p)for(const M of p)M(T,i);return Id(v,_,t),T}(YS,Il,km,fT,At,[gb]),Ag(ft,At,null)}finally{no()}return new ST(this.componentType,tn,md(Fs,At),At,Fs)}}class ST extends E_{constructor(i,o,a,u,p){super(),this.location=a,this._rootLView=u,this._tNode=p,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Og(u),this.componentType=i}setInput(i,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const p=this._rootLView;Wc(p[Oe],p,u,i,o),this.previousInputValues.set(i,o),Ua(In(this._tNode.index,p))}}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function gb(){const t=Cn();Bt(ye()[Oe],t)}function Dd(t){let i=function bd(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;i;){let u;if(pr(t))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new le(903,!1);u=i.\u0275dir}if(u){if(o){a.push(u);const _=t;_.inputs=Td(t.inputs),_.inputTransforms=Td(t.inputTransforms),_.declaredInputs=Td(t.declaredInputs),_.outputs=Td(t.outputs);const v=u.hostBindings;v&&NE(t,v);const w=u.viewQuery,T=u.contentQueries;if(w&&RE(t,w),T&&PE(t,T),F(t.inputs,u.inputs),F(t.declaredInputs,u.declaredInputs),F(t.outputs,u.outputs),null!==u.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),F(_.inputTransforms,u.inputTransforms)),pr(u)&&u.data.animation){const M=t.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const p=u.features;if(p)for(let _=0;_<p.length;_++){const v=p[_];v&&v.ngInherit&&v(t),v===Dd&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Ef(t){let i=0,o=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=i+=u.hostVars,u.hostAttrs=Ga(u.hostAttrs,o=Ga(o,u.hostAttrs))}}(a)}function Td(t){return t===Fe?{}:t===Pe?[]:t}function RE(t,i){const o=t.viewQuery;t.viewQuery=o?(a,u)=>{i(a,u),o(a,u)}:i}function PE(t,i){const o=t.contentQueries;t.contentQueries=o?(a,u,p)=>{i(a,u,p),o(a,u,p)}:i}function NE(t,i){const o=t.hostBindings;t.hostBindings=o?(a,u)=>{i(a,u),o(a,u)}:i}function jE(t){const i=t.inputConfig,o={};for(const a in i)if(i.hasOwnProperty(a)){const u=i[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}t.inputTransforms=o}function kg(t){return!!Y_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Y_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ta(t,i,o){return t[i]=o}function Ur(t,i,o){return!Object.is(t[i],o)&&(t[i]=o,!0)}function al(t,i,o,a){const u=Ur(t,i,o);return Ur(t,i+1,a)||u}function Q_(t,i,o,a){const u=ye();return Ur(u,to(),i)&&(Ct(),ea(Et(),u,t,i,o,a)),Q_}function Md(t,i,o,a,u,p,_,v){const T=function Lg(t,i,o,a,u){const p=al(t,i,o,a);return Ur(t,i+2,u)||p}(t,xn(),o,u,_);return mr(3),T?i+Ne(o)+a+Ne(u)+p+Ne(_)+v:ht}function bf(t,i,o,a,u,p,_,v){const w=ye(),T=Ct(),M=t+mt,k=T.firstCreatePass?function OT(t,i,o,a,u,p,_,v,w){const T=i.consts,M=wd(i,t,4,_||null,eo(T,v));H_(i,o,M,eo(T,w)),Bt(i,M);const k=M.tView=Ps(2,M,a,u,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,T,null);return null!==i.queries&&(i.queries.template(i,M),k.queries=i.queries.embeddedTView(M)),M}(M,T,w,i,o,a,u,p,_):T.data[M];ci(k,!1);const G=Df(T,w,k,t);ji()&&rt(T,w,G,k),nr(G,w),Tg(w,w[M]=Dg(G,w,G,k)),$r(k)&&Eg(T,w,k),null!=_&&j_(w,k,v)}let Df=function ZE(t,i,o,a){return Bi(!0),i[Qe].createComment("")};function KE(t){return cs(function dh(){return Xe.lFrame.contextLView}(),mt+t)}function oy(t,i,o){const a=ye();return Ur(a,to(),i)&&function hn(t,i,o,a,u,p,_,v){const w=Vn(i,o);let M,T=i.inputs;!v&&null!=T&&(M=T[a])?(Wc(t,o,M,a,u),Ri(i)&&function yE(t,i){const o=In(i,t);16&o[at]||(o[at]|=64)}(o,i.index)):3&i.type&&(a=function _E(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=_?_(u,i.value||"",a):u,p.setProperty(w,a,u))}(Ct(),Et(),a,t,i,a[Qe],o,!1),oy}function Ug(t,i,o,a,u){const _=u?"class":"style";Wc(t,o,i.inputs[_],_,a)}function Tf(t,i,o,a){const u=ye(),p=Ct(),_=mt+t,v=u[Qe],w=p.firstCreatePass?function qc(t,i,o,a,u,p){const _=i.consts,w=wd(i,t,2,a,eo(_,u));return H_(i,o,w,eo(_,p)),null!==w.attrs&&Pg(w,w.attrs,!1),null!==w.mergedAttrs&&Pg(w,w.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,w),w}(_,p,u,i,o,a):p.data[_],T=Sf(p,u,w,v,i,t);u[_]=T;const M=$r(w);return ci(w,!0),rd(v,T,w),32!=(32&w.flags)&&ji()&&rt(p,u,T,w),0===function Su(){return Xe.lFrame.elementDepthCount}()&&nr(T,u),function Nn(){Xe.lFrame.elementDepthCount++}(),M&&(Eg(p,u,w),Id(p,w,u)),null!==a&&j_(u,w),Tf}function xd(){let t=Cn();Ll()?Au():(t=t.parent,ci(t,!1));const i=t;(function ls(t){return Xe.skipHydrationRootTNode===t})(i)&&function lh(){Xe.skipHydrationRootTNode=null}(),function gp(){Xe.lFrame.elementDepthCount--}();const o=Ct();return o.firstCreatePass&&(Bt(o,t),lu(t)&&o.queries.elementEnd(t)),null!=i.classesWithoutHost&&function _p(t){return 0!=(8&t.flags)}(i)&&Ug(o,i,ye(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function $l(t){return 0!=(16&t.flags)}(i)&&Ug(o,i,ye(),i.stylesWithoutHost,!1),xd}function jg(t,i,o,a){return Tf(t,i,o,a),xd(),jg}let Sf=(t,i,o,a,u,p)=>(Bi(!0),Gu(a,u,function _t(){return Xe.lFrame.currentNamespace}()));function Od(t,i,o){const a=ye(),u=Ct(),p=t+mt,_=u.firstCreatePass?function Ub(t,i,o,a,u){const p=i.consts,_=eo(p,a),v=wd(i,t,8,"ng-container",_);return null!==_&&Pg(v,_,!0),H_(i,o,v,eo(p,u)),null!==i.queries&&i.queries.elementStart(i,v),v}(p,u,a,i,o):u.data[p];ci(_,!0);const v=YE(u,a,_,t);return a[p]=v,ji()&&rt(u,a,v,_),nr(v,a),$r(_)&&(Eg(u,a,_),Id(u,_,a)),null!=o&&j_(a,_),Od}function ay(){let t=Cn();const i=Ct();return Ll()?Au():(t=t.parent,ci(t,!1)),i.firstCreatePass&&(Bt(i,t),lu(t)&&i.queries.elementEnd(t)),ay}let YE=(t,i,o,a)=>(Bi(!0),Uh(i[Qe],""));function Hb(){return ye()}function QE(t){return!!t&&"function"==typeof t.then}function Vb(t){return!!t&&"function"==typeof t.subscribe}function JE(t,i,o,a){const u=ye(),p=Ct(),_=Cn();return function Wb(t,i,o,a,u,p,_){const v=$r(a),T=t.firstCreatePass&&Sg(t),M=i[un],k=CE(i);let G=!0;if(3&a.type||_){const Ce=Vn(a,i),Le=_?_(Ce):Ce,qe=k.length,we=_?At=>_(Ft(At[a.index])):a.index;let ft=null;if(!_&&v&&(ft=function FT(t,i,o,a){const u=t.cleanup;if(null!=u)for(let p=0;p<u.length-1;p+=2){const _=u[p];if(_===o&&u[p+1]===a){const v=i[Ao],w=u[p+2];return v.length>w?v[w]:null}"string"==typeof _&&(p+=2)}return null}(t,i,u,a.index)),null!==ft)(ft.__ngLastListenerFn__||ft).__ngNextListenerFn__=p,ft.__ngLastListenerFn__=p,G=!1;else{p=cy(a,i,M,p,!1);const At=o.listen(Le,u,p);k.push(p,At),T&&T.push(u,we,qe,qe+1)}}else p=cy(a,i,M,p,!1);const J=a.outputs;let fe;if(G&&null!==J&&(fe=J[u])){const Ce=fe.length;if(Ce)for(let Le=0;Le<Ce;Le+=2){const tn=i[fe[Le]][fe[Le+1]].subscribe(p),Fs=k.length;k.push(p,tn),T&&T.push(u,a.index,Fs,-(Fs+1))}}}(p,u,u[Qe],_,t,i,a),JE}function Bg(t,i,o,a){try{return gr(6,i,o),!1!==o(a)}catch(u){return bE(t,u),!1}finally{gr(7,i,o)}}function cy(t,i,o,a,u){return function p(_){if(_===Function)return a;Ua(t.componentOffset>-1?In(t.index,i):i);let w=Bg(i,o,a,_),T=p.__ngNextListenerFn__;for(;T;)w=Bg(i,o,T,_)&&w,T=T.__ngNextListenerFn__;return u&&!1===w&&_.preventDefault(),w}}function XE(t=1){return function Pu(t){return(Xe.lFrame.contextLView=function Ze(t,i){for(;t>0;)i=i[ns],t--;return i}(t,Xe.lFrame.contextLView))[un]}(t)}function ll(t,i){return t<<17|i<<2}function na(t){return t>>17&32767}function kd(t){return 2|t}function Ha(t){return(131068&t)>>2}function hy(t,i){return-131069&t|i<<2}function Wg(t){return 1|t}function Mf(t,i,o,a,u){const p=t[o+1],_=null===i;let v=a?na(p):Ha(p),w=!1;for(;0!==v&&(!1===w||_);){const M=t[v+1];aw(t[v],i)&&(w=!0,t[v+1]=a?Wg(M):kd(M)),v=a?na(M):Ha(M)}w&&(t[o+1]=a?kd(p):Wg(p))}function aw(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&wc(t,i)>=0}function Pf(t,i){return function vi(t,i,o,a){const u=ye(),p=Ct(),_=mr(2);p.firstUpdatePass&&function qg(t,i,o,a){const u=t.data;if(null===u[o+1]){const p=u[xt()],_=function _y(t,i){return i>=t.expandoStartIndex}(t,o);(function mw(t,i){return 0!=(t.flags&(i?8:16))})(p,a)&&null===i&&!_&&(i=!1),i=function yy(t,i,o,a){const u=function pc(t){const i=Xe.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let p=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(o=ia(o=Kg(null,t,i,o,a),i.attrs,a),p=null);else{const _=i.directiveStylingLast;if(-1===_||t[_]!==u)if(o=Kg(u,t,i,o,a),null===p){let w=function vy(t,i,o){const a=o?i.classBindings:i.styleBindings;if(0!==Ha(a))return t[na(a)]}(t,i,a);void 0!==w&&Array.isArray(w)&&(w=Kg(null,t,i,w[1],a),w=ia(w,i.attrs,a),function dw(t,i,o,a){t[na(o?i.classBindings:i.styleBindings)]=a}(t,i,a,w))}else p=function Jb(t,i,o){let a;const u=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<u;p++)a=ia(a,t[p].hostAttrs,o);return ia(a,i.attrs,o)}(t,i,a)}return void 0!==p&&(a?i.residualClasses=p:i.residualStyles=p),o}(u,p,i,a),function Af(t,i,o,a,u,p){let _=p?i.classBindings:i.styleBindings,v=na(_),w=Ha(_);t[a]=o;let M,T=!1;if(Array.isArray(o)?(M=o[1],(null===M||wc(o,M)>0)&&(T=!0)):M=o,u)if(0!==w){const G=na(t[v+1]);t[a+1]=ll(G,v),0!==G&&(t[G+1]=hy(t[G+1],a)),t[v+1]=function $g(t,i){return 131071&t|i<<17}(t[v+1],a)}else t[a+1]=ll(v,0),0!==v&&(t[v+1]=hy(t[v+1],a)),v=a;else t[a+1]=ll(w,0),0===v?v=a:t[w+1]=hy(t[w+1],a),w=a;T&&(t[a+1]=kd(t[a+1])),Mf(t,M,a,!0),Mf(t,M,a,!1),function ow(t,i,o,a,u){const p=u?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof i&&wc(p,i)>=0&&(o[a+1]=Wg(o[a+1]))}(i,M,t,a,p),_=ll(v,w),p?i.classBindings=_:i.styleBindings=_}(u,p,i,o,_,a)}}(p,t,_,a),i!==ht&&Ur(u,_,i)&&function pw(t,i,o,a,u,p,_,v){if(!(3&i.type))return;const w=t.data,T=w[v+1],M=function Gb(t){return 1==(1&t)}(T)?gw(w,i,o,u,Ha(T),_):void 0;Yg(M)||(Yg(p)||function dy(t){return 2==(2&t)}(T)&&(p=gw(w,null,o,u,v,_)),function vt(t,i,o,a,u){if(i)u?t.addClass(o,a):t.removeClass(o,a);else{let p=-1===a.indexOf("-")?void 0:Sc.DashCase;null==u?t.removeStyle(o,a,p):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),p|=Sc.Important),t.setStyle(o,a,u,p))}}(a,_,Xs(xt(),o),u,p))}(p,p.data[xt()],u,u[Qe],t,u[_+1]=function t0(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=j(Jo(t)))),t}(i,o),a,_)}(t,i,null,!0),Pf}function Kg(t,i,o,a,u){let p=null;const _=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<_&&(p=i[v],a=ia(a,p.hostAttrs,u),p!==t);)v++;return null!==t&&(o.directiveStylingLast=v),a}function ia(t,i,o){const a=o?1:2;let u=-1;if(null!==i)for(let p=0;p<i.length;p++){const _=i[p];"number"==typeof _?u=_:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qr(t,_,!!o||i[++p]))}return void 0===t?null:t}function gw(t,i,o,a,u,p){const _=null===i;let v;for(;u>0;){const w=t[u],T=Array.isArray(w),M=T?w[1]:w,k=null===M;let G=o[u+1];G===ht&&(G=k?Pe:void 0);let J=k?vp(G,a):M===a?G:void 0;if(T&&!Yg(J)&&(J=vp(w,a)),Yg(J)&&(v=J,_))return v;const fe=t[u+1];u=_?na(fe):Ha(fe)}if(null!==i){let w=p?i.residualClasses:i.residualStyles;null!=w&&(v=vp(w,a))}return v}function Yg(t){return void 0!==t}function _w(t,i=""){const o=ye(),a=Ct(),u=t+mt,p=a.firstCreatePass?wd(a,u,1,i,null):a.data[u],_=Nf(a,o,p,i,t);o[u]=_,ji()&&rt(a,o,_,p),ci(p,!1)}let Nf=(t,i,o,a,u)=>(Bi(!0),function zu(t,i){return t.createText(i)}(i[Qe],a));function xf(t){return Qg("",t,""),xf}function Qg(t,i,o){const a=ye(),u=function Ad(t,i,o,a){return Ur(t,to(),o)?i+Ne(o)+a:ht}(a,t,i,o);return u!==ht&&ja(a,xt(),u),Qg}function Ey(t,i,o,a,u){const p=ye(),_=function jr(t,i,o,a,u,p){const v=al(t,xn(),o,u);return mr(2),v?i+Ne(o)+a+Ne(u)+p:ht}(p,t,i,o,a,u);return _!==ht&&ja(p,xt(),_),Ey}function wy(t,i,o,a,u,p,_){const v=ye(),w=Md(v,t,i,o,a,u,p,_);return w!==ht&&ja(v,xt(),w),wy}const Kc=void 0;var Sw=["en",[["a","p"],["AM","PM"],Kc],[["AM","PM"],Kc,Kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kc,"{1} 'at' {0}",Kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tw(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let hl={};function Jg(t){const i=function Aw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=y0(i);if(o)return o;const a=i.split("-")[0];if(o=y0(a),o)return o;if("en"===a)return Sw;throw new le(701,!1)}function Py(t){return Jg(t)[Ld.PluralCase]}function y0(t){return t in hl||(hl[t]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[t]),hl[t]}var Ld=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ld||{});const fl="en-US";let Ny=fl;class _l{}class Jw{}function $0(t,i){return new fm(t,i??null,[])}class fm extends _l{constructor(i,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zi(this);const u=Yn(i);this._bootstrapComponents=go(u.bootstrap),this._r3Injector=S_(i,o,[{provide:_l,useValue:this},{provide:gd,useValue:this.componentFactoryResolver},...a],j(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class pm extends Jw{constructor(i){super(),this.moduleType=i}create(i){return new fm(this.moduleType,i,[])}}class Qc extends _l{constructor(i){super(),this.componentFactoryResolver=new Zi(this),this.instance=null;const o=new ld([...i.providers,{provide:_l,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],i.parent||Gi(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Xw(t,i,o=null){return new Qc({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let eI=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=qh(0,o.type),u=a.length>0?Xw([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=$t({token:t,providedIn:"environment",factory:()=>new t(Ye(Ms))})}return t})();function Gy(t){t.getStandaloneInjector=i=>i.get(eI).getOrCreateStandaloneInjector(t)}function zf(t,i){const o=t[i];return o===ht?void 0:o}function lI(t,i){const o=Ct();let a;const u=t+mt;o.firstCreatePass?(a=function J0(t,i){if(i)for(let o=i.length-1;o>=0;o--){const a=i[o];if(t===a.name)return a}}(i,o.pipeRegistry),o.data[u]=a,a.onDestroy&&(o.destroyHooks??=[]).push(u,a.onDestroy)):a=o.data[u];const p=a.factory||(a.factory=Ni(a.type)),v=wt(sl);try{const w=gs(!1),T=p();return gs(w),function Lb(t,i,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),i[o]=a}(o,ye(),u,T),T}finally{wt(v)}}function vm(t,i,o){const a=t+mt,u=ye(),p=cs(u,a);return yl(u,a)?function sI(t,i,o,a,u,p){const _=i+o;return Ur(t,_,u)?ta(t,_+1,p?a.call(p,u):a(u)):zf(t,_+1)}(u,wr(),i,p.transform,o,p):p.transform(o)}function eD(t,i,o,a){const u=t+mt,p=ye(),_=cs(p,u);return yl(p,u)?function oI(t,i,o,a,u,p,_){const v=i+o;return al(t,v,u,p)?ta(t,v+2,_?a.call(_,u,p):a(u,p)):zf(t,v+2)}(p,wr(),i,_.transform,o,a,_):_.transform(o,a)}function yl(t,i){return t[Oe].data[i].pure}function Yy(){return this._results[Symbol.iterator]()}class vo{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Dr)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=vo.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Yy)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const u=function Vi(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Lv(t,i,o){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],p=i[a];if(o&&(u=o(u),p=o(p)),p!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function fI(t,i,o,a=!0){const u=i[Oe];if(function Cs(t,i,o,a){const u=qt+a,p=o.length;a>0&&(o[u-1][dr]=i),a<p-qt?(i[dr]=o[u],Gl(o,qt+a,i)):(o.push(i),i[dr]=null),i[Jt]=o;const _=i[Mo];null!==_&&o!==_&&function Zu(t,i){const o=t[Mi];i[sn]!==i[Jt][Jt][sn]&&(t[uu]=!0),null===o?t[Mi]=[i]:o.push(i)}(_,i);const v=i[Er];null!==v&&v.insertView(t),i[at]|=128}(u,i,t,o),a){const p=Fr(o,t),_=i[Qe],v=S(_,t[Pn]);null!==v&&function jh(t,i,o,a,u,p){a[ot]=u,a[Qn]=i,Yo(t,a,o,1,u,p)}(u,t[Qn],_,i,v,p)}}let oa=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Em}return t})();const pI=oa,rD=class extends pI{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,a){const u=function Wd(t,i,o,a){const u=i.tView,v=Ed(t,u,o,4096&t[at]?4096:16,null,i,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Mo]=t[i.index];const T=t[Er];return null!==T&&(v[Er]=T.createEmbeddedView(u)),Ag(u,v,o),v}(this._declarationLView,this._declarationTContainer,i,{injector:o,hydrationInfo:a});return new xs(u)}};function Em(){return Zf(Cn(),ye())}function Zf(t,i){return 4&t.type?new rD(i,t,md(t,i)):null}let Cm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=oD}return t})();function oD(){return nv(Cn(),ye())}const Jy=Cm,Xy=class extends Jy{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new kn(this._hostTNode,this._hostLView)}get parentInjector(){const i=_s(this._hostTNode,this._hostLView);if(wa(i)){const o=Or(i,this._hostLView),a=fs(i);return new kn(o[Oe].data[a+8],o)}return new kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=ev(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(i,o,a){let u,p;"number"==typeof a?u=a:null!=a&&(u=a.index,p=a.injector);const v=i.createEmbeddedViewImpl(o||{},p,null);return this.insertImpl(v,u,false),v}createComponent(i,o,a,u,p){const _=i&&!function Ec(t){return"function"==typeof t}(i);let v;if(_)v=o;else{const Ce=o||{};v=Ce.index,a=Ce.injector,u=Ce.projectableNodes,p=Ce.environmentInjector||Ce.ngModuleRef}const w=_?i:new mo(It(i)),T=a||this.parentInjector;if(!p&&null==w.ngModule){const Le=(_?T:this.parentInjector).get(Ms,null);Le&&(p=Le)}It(w.componentType??{});const J=w.create(T,u,null,p);return this.insertImpl(J.hostView,v,false),J}insert(i,o){return this.insertImpl(i,o,!1)}insertImpl(i,o,a){const u=i._lView;if(function Du(t){return Xt(t[Jt])}(u)){const w=this.indexOf(i);if(-1!==w)this.detach(w);else{const T=u[Jt],M=new Xy(T,T[Qn],T[Jt]);M.detach(M.indexOf(i))}}const _=this._adjustIndex(o),v=this._lContainer;return fI(v,u,_,!a),i.attachToViewContainerRef(),Gl(tv(v),_,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=ev(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=qu(this._lContainer,o);a&&(Ih(tv(this._lContainer),o),bs(a[Oe],a))}detach(i){const o=this._adjustIndex(i,-1),a=qu(this._lContainer,o);return a&&null!=Ih(tv(this._lContainer),o)?new xs(a):null}_adjustIndex(i,o=0){return i??this.length+o}};function ev(t){return t[8]}function tv(t){return t[8]||(t[8]=[])}function nv(t,i){let o;const a=i[t.index];return Xt(a)?o=a:(o=Dg(a,i,null,t),i[t.index]=o,Tg(i,o)),yI(o,i,t,a),new Xy(o,t,i)}let yI=function aD(t,i,o,a){if(t[Pn])return;let u;u=8&o.type?Ft(a):function _I(t,i){const o=t[Qe],a=o.createComment(""),u=Vn(i,t);return g(o,S(o,u),a,function U(t,i){return t.nextSibling(i)}(o,u),!1),a}(i,o),t[Pn]=u};class vI{constructor(i){this.queryList=i,this.matches=null}clone(){return new vI(this.queryList)}setDirty(){this.queryList.setDirty()}}class rv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let p=0;p<a;p++){const _=o.getByIndex(p);u.push(this.queries[_.indexInDeclarationView].clone())}return new rv(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==II(i,o).matches&&this.queries[o].setDirty()}}class cD{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class iv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,p=this.getByIndex(a).embeddedTView(i,u);p&&(p.indexInDeclarationView=a,null!==o?o.push(p):o=[p])}return null!==o?new iv(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class sv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new sv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const p=a[u];this.matchTNodeWithReadOption(i,o,ov(o,p)),this.matchTNodeWithReadOption(i,o,Wo(o,i,p,!1,!1))}else a===oa?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Wo(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===nf||u===Cm||u===oa&&4&o.type)this.addMatch(o.index,-2);else{const p=Wo(o,i,u,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function ov(t,i){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function uD(t,i,o,a){return-1===o?function Eo(t,i){return 11&t.type?md(t,i):4&t.type?Zf(t,i):null}(i,t):-2===o?function Kf(t,i,o){return o===nf?md(i,t):o===oa?Zf(i,t):o===Cm?nv(i,t):void 0}(t,i,a):ys(t,t[Oe],o,i)}function lD(t,i,o,a){const u=i[Er].queries[a];if(null===u.matches){const p=t.data,_=o.matches,v=[];for(let w=0;w<_.length;w+=2){const T=_[w];v.push(T<0?null:uD(i,p[T],_[w+1],o.metadata.read))}u.matches=v}return u.matches}function av(t,i,o,a){const u=t.queries.getByIndex(o),p=u.matches;if(null!==p){const _=lD(t,i,u,o);for(let v=0;v<p.length;v+=2){const w=p[v];if(w>0)a.push(_[v/2]);else{const T=p[v+1],M=i[-w];for(let k=qt;k<M.length;k++){const G=M[k];G[Mo]===G[Jt]&&av(G[Oe],G,T,a)}if(null!==M[Mi]){const k=M[Mi];for(let G=0;G<k.length;G++){const J=k[G];av(J[Oe],J,T,a)}}}}}return a}function EI(t){const i=ye(),o=Ct(),a=Mu();jl(a+1);const u=II(o,a);if(t.dirty&&function xl(t){return 4==(4&t[at])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const p=u.crossesNgTemplate?av(o,i,a,[]):lD(o,i,u,a);t.reset(p,FC),t.notifyOnChanges()}return!0}return!1}function cv(t,i,o){const a=Ct();a.firstCreatePass&&(Zd(a,new cD(t,i,o),-1),2==(2&i)&&(a.staticViewQueries=!0)),vl(a,ye(),i)}function Yf(t,i,o,a){const u=Ct();if(u.firstCreatePass){const p=Cn();Zd(u,new cD(i,o,a),p.index),function hD(t,i){const o=t.contentQueries||(t.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,i)}(u,t),2==(2&o)&&(u.staticContentQueries=!0)}vl(u,ye(),o)}function wI(){return function dD(t,i){return t[Er].queries[i].queryList}(ye(),Mu())}function vl(t,i,o){const a=new vo(4==(4&o));(function JC(t,i,o,a){const u=CE(i);u.push(o),t.firstCreatePass&&Sg(t).push(a,u.length-1)})(t,i,a,a.destroy),null===i[Er]&&(i[Er]=new rv),i[Er].queries.push(new vI(a))}function Zd(t,i,o){null===t.queries&&(t.queries=new iv),t.queries.track(new sv(i,o))}function II(t,i){return t.queries.getByIndex(i)}function qd(t,i){return Zf(t,i)}function bI(t){return!!Yn(t)}const _v=new Ht("Application Initializer");let yv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=it(_v,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const p=u();if(QE(p))o.push(p);else if(Vb(p)){const _=new Promise((v,w)=>{p.subscribe({complete:v,error:w})});o.push(_)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BI=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Tm=new Ht("LocaleId",{providedIn:"root",factory:()=>it(Tm,$e.Optional|$e.SkipSelf)||function OD(){return typeof $localize<"u"&&$localize.locale||fl}()}),Sm=new Ht("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let vv=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ee.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class kD{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let LD=(()=>{class t{compileModuleSync(o){return new pm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),p=go(Yn(o).declarations).reduce((_,v)=>{const w=It(v);return w&&_.push(new mo(w)),_},[]);return new kD(a,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $D=new Ht(""),WD=new Ht("");let Rm,ES=(()=>{class t{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rm||(function wS(t){Rm=t}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Ye(Fn),Ye(GI),Ye(WD))};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac})}return t})(),GI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Rm?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Xc=null;const ZI=new Ht("AllowMultipleToken"),Pm=new Ht("PlatformDestroyListeners"),bv=new Ht("appBootstrapListener");class KI{constructor(i,o){this.name=i,this.token=o}}function KD(t,i,o=[]){const a=`Platform: ${i}`,u=new Ht(a);return(p=[])=>{let _=Dv();if(!_||_.injector.get(ZI,!1)){const v=[...o,...p,{provide:u,useValue:!0}];t?t(v):function ZD(t){if(Xc&&!Xc.get(ZI,!1))throw new le(400,!1);(function qI(){!function Sl(t){ko=t}(()=>{throw new le(600,!1)})})(),Xc=t;const i=t.get(YI);(function qD(t){t.get(Jh,null)?.forEach(o=>o())})(t)}(function YD(t=[],i){return _i.create({name:i,providers:[{provide:Yp,useValue:"platform"},{provide:Pm,useValue:new Set([()=>Xc=null])},...t]})}(v,a))}return function bS(t){const i=Dv();if(!i)throw new le(401,!1);return i}()}}function Dv(){return Xc?.get(YI)??null}let YI=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function QD(t="zone.js",i){return"noop"===t?new Hc:"zone.js"===t?new Fn(i):t}(a?.ngZone,function QI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const p=function W0(t,i,o){return new fm(t,i,o)}(o.moduleType,this.injector,function nC(t){return[{provide:Fn,useFactory:t},{provide:Gh,multi:!0,useFactory:()=>{const i=it(Tv,{optional:!0});return()=>i.initialize()}},{provide:tC,useFactory:JD},{provide:_d,useFactory:cE}]}(()=>u)),_=p.injector.get(Bc,null);return u.runOutsideAngular(()=>{const v=u.onError.subscribe({next:w=>{_.handleError(w)}});p.onDestroy(()=>{Nm(this._modules,p),v.unsubscribe()})}),function JI(t,i,o){try{const a=o();return QE(a)?a.catch(u=>{throw i.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(_,u,()=>{const v=p.injector.get(yv);return v.runInitializers(),v.donePromise.then(()=>(function xy(t){nn(t,"Expected localeId to be defined"),"string"==typeof t&&(Ny=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Tm,fl)||fl),this._moduleDoBootstrap(p),p))})})}bootstrapModule(o,a=[]){const u=XI({},a);return function zD(t,i,o){const a=new pm(o);return Promise.resolve(a)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,u))}_moduleDoBootstrap(o){const a=o.injector.get(Jd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new le(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Pm,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Ye(_i))};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function XI(t,i){return Array.isArray(i)?i.reduce(XI,t):{...t,...i}}let Jd=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=it(tC),this.zoneIsStable=it(_d),this.componentTypes=[],this.components=[],this.isStable=it(vv).hasPendingTasks.pipe((0,se.w)(o=>o?(0,z.of)(!1):this.zoneIsStable),(0,Q.x)(),(0,he.B)()),this._injector=it(Ms)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof w_;if(!this._injector.get(yv).done)throw!u&&So(o),new le(405,!1);let _;_=u?o:this._injector.get(gd).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const v=function GD(t){return t.isBoundToModule}(_)?void 0:this._injector.get(_l),T=_.create(_i.NULL,[],a||_.selector,v),M=T.location.nativeElement,k=T.injector.get($D,null);return k?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),Nm(this.components,T),k?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Nm(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(bv,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Nm(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new le(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nm(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}const tC=new Ht("",{providedIn:"root",factory:()=>it(Bc).handleError.bind(void 0)});function JD(){const t=it(Fn),i=it(Bc);return o=>t.runOutsideAngular(()=>i.handleError(o))}let Tv=(()=>{class t{constructor(){this.zone=it(Fn),this.applicationRef=it(Jd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eT(){return!1}function tT(){}let nT=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=rT}return t})();function rT(t){return function iT(t,i,o){if(Ri(t)&&!o){const a=In(t.index,i);return new xs(a,a)}return 47&t.type?new xs(i[sn],i):null}(Cn(),ye(),16==(16&t))}class aC{constructor(){}supports(i){return kg(i)}create(i){return new uT(i)}}const cT=(t,i)=>i;class uT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||cT}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,u=0,p=null;for(;o||a;){const _=!a||o&&o.currentIndex<Pv(a,u,p)?o:a,v=Pv(_,u,p),w=_.currentIndex;if(_===a)u--,a=a._nextRemoved;else if(o=o._next,null==_.previousIndex)u++;else{p||(p=[]);const T=v-u,M=w-u;if(T!=M){for(let G=0;G<T;G++){const J=G<p.length?p[G]:p[G]=0,fe=J+G;M<=fe&&fe<T&&(p[G]=J+1)}p[_.previousIndex]=M-T}}v!==w&&i(_,v,w)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!kg(i))throw new le(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,p,_,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)p=i[v],_=this._trackByFn(v,p),null!==o&&Object.is(o.trackById,_)?(a&&(o=this._verifyReinsertion(o,p,_,v)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,_,v),a=!0),o=o._next}else u=0,function vb(t,i){if(Array.isArray(t))for(let o=0;o<t.length;o++)i(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,v=>{_=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,_)?(a&&(o=this._verifyReinsertion(o,v,_,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,_,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,u){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,u)):i=this._addAfter(new lT(o,a),p,u),i}_verifyReinsertion(i,o,a,u){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?i=this._reinsertAfter(p,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,p=i._nextRemoved;return null===u?this._removalsHead=p:u._nextRemoved=p,null===p?this._removalsTail=u:p._prevRemoved=u,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new cC),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class lT{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class cC{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new dT,this.map.set(o,a)),a.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pv(t,i,o){const a=t.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+i+u}class uC{constructor(){}supports(i){return i instanceof Map||Y_(i)}create(){return new hT}}class hT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Y_(i)))throw new le(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const p=u._prev,_=u._next;return p&&(p._next=_),_&&(_._prev=p),u._next=null,u._prev=null,u}const a=new lC(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class lC{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dC(){return new n([new aC])}let n=(()=>{class t{static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:dC});constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||dC()),deps:[[t,new Yl,new Fu]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new le(901,!1)}}return t})();function e(){return new s([new uC])}let s=(()=>{class t{static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:e});constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||e()),deps:[[t,new Yl,new Fu]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new le(901,!1)}}return t})();const D=KD(null,"core",[]);let R=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(Ye(Jd))};static#t=this.\u0275mod=da({type:t});static#n=this.\u0275inj=Ci({})}return t})();function GS(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qS(t){const i=It(t);if(!i)return null;const o=new mo(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},3106:(Ve,_e,N)=>{N.d(_e,{Z:()=>We});var d=N(9058),X=N(4537),O=N(534),te=N(7879);class ee{constructor(be,Se){this._delegate=be,this.firebase=Se,(0,O._addComponent)(be,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(be,Se=O._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const Ie=this._delegate.container.getProvider(be);return!Ie.isInitialized()&&"EXPLICIT"===(null===(Ue=Ie.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&Ie.initialize(),Ie.getImmediate({identifier:Se})}_removeServiceInstance(be,Se=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Se)}_addComponent(be){(0,O._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,O._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function Q(){const ce=function se(ce){const be={},Se={__esModule:!0,initializeApp:function le(je,nt={}){const dt=O.initializeApp(je,nt);if((0,d.r3)(be,dt.name))return be[dt.name];const pt=new ce(dt,Se);return be[dt.name]=pt,pt},app:Ie,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ne(je){const nt=je.name,dt=nt.replace("-compat","");if(O._registerComponent(je)&&"PUBLIC"===je.type){const pt=(zt=Ie())=>{if("function"!=typeof zt[dt])throw he.create("invalid-app-argument",{appName:nt});return zt[dt]()};void 0!==je.serviceProps&&(0,d.ZB)(pt,je.serviceProps),Se[dt]=pt,ce.prototype[dt]=function(...zt){return this._getService.bind(this,nt).apply(this,je.multipleInstances?zt:[])}}return"PUBLIC"===je.type?Se[dt]:null},removeApp:function Ue(je){delete be[je]},useAsService:function He(je,nt){return"serverAuth"===nt?null:nt},modularAPIs:O}};function Ie(je){if(!(0,d.r3)(be,je=je||O._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:je});return be[je]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Ke(){return Object.keys(be).map(je=>be[je])}}),Ie.App=ce,Se}(ee);return ce.INTERNAL=Object.assign(Object.assign({},ce.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function be(Se){(0,d.ZB)(ce,Se)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ce}(),F=new te.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ce=self.firebase.SDK_VERSION;ce&&ce.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=P;!function me(ce){(0,O.registerVersion)("@firebase/app-compat","0.2.13",ce)}()},534:(Ve,_e,N)=>{N.r(_e),N.d(_e,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Ji,_DEFAULT_ENTRY_NAME:()=>$e,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>Un,_apps:()=>ue,_clearComponents:()=>Lt,_components:()=>wt,_getProvider:()=>Sn,_registerComponent:()=>Mt,_removeServiceInstance:()=>la,deleteApp:()=>Ti,getApp:()=>Dt,getApps:()=>jt,initializeApp:()=>Xi,onLog:()=>cn,registerVersion:()=>ar,setLogLevel:()=>ti});var d=N(5861),X=N(4537),O=N(7879),te=N(9058);const ee=(oe,re)=>re.some(Ee=>oe instanceof Ee);let z,he;const P=new WeakMap,F=new WeakMap,j=new WeakMap,ne=new WeakMap,me=new WeakMap;let be={get(oe,re,Ee){if(oe instanceof IDBTransaction){if("done"===re)return F.get(oe);if("objectStoreNames"===re)return oe.objectStoreNames||j.get(oe);if("store"===re)return Ee.objectStoreNames[1]?void 0:Ee.objectStore(Ee.objectStoreNames[0])}return le(oe[re])},set:(oe,re,Ee)=>(oe[re]=Ee,!0),has:(oe,re)=>oe instanceof IDBTransaction&&("done"===re||"store"===re)||re in oe};function Ie(oe){return"function"==typeof oe?function Ue(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...re){return oe.apply(Ke(this),re),le(P.get(this))}:function(...re){return le(oe.apply(Ke(this),re))}:function(re,...Ee){const Fe=oe.call(Ke(this),re,...Ee);return j.set(Fe,re.sort?re.sort():[re]),le(Fe)}}(oe):(oe instanceof IDBTransaction&&function ce(oe){if(F.has(oe))return;const re=new Promise((Ee,Fe)=>{const Pe=()=>{oe.removeEventListener("complete",st),oe.removeEventListener("error",Tt),oe.removeEventListener("abort",Tt)},st=()=>{Ee(),Pe()},Tt=()=>{Fe(oe.error||new DOMException("AbortError","AbortError")),Pe()};oe.addEventListener("complete",st),oe.addEventListener("error",Tt),oe.addEventListener("abort",Tt)});F.set(oe,re)}(oe),ee(oe,function se(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,be):oe)}function le(oe){if(oe instanceof IDBRequest)return function We(oe){const re=new Promise((Ee,Fe)=>{const Pe=()=>{oe.removeEventListener("success",st),oe.removeEventListener("error",Tt)},st=()=>{Ee(le(oe.result)),Pe()},Tt=()=>{Fe(oe.error),Pe()};oe.addEventListener("success",st),oe.addEventListener("error",Tt)});return re.then(Ee=>{Ee instanceof IDBCursor&&P.set(Ee,oe)}).catch(()=>{}),me.set(re,oe),re}(oe);if(ne.has(oe))return ne.get(oe);const re=Ie(oe);return re!==oe&&(ne.set(oe,re),me.set(re,oe)),re}const Ke=oe=>me.get(oe),je=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],dt=new Map;function pt(oe,re){if(!(oe instanceof IDBDatabase)||re in oe||"string"!=typeof re)return;if(dt.get(re))return dt.get(re);const Ee=re.replace(/FromIndex$/,""),Fe=re!==Ee,Pe=nt.includes(Ee);if(!(Ee in(Fe?IDBIndex:IDBObjectStore).prototype)||!Pe&&!je.includes(Ee))return;const st=function(){var Tt=(0,d.Z)(function*(vn,...fn){const qn=this.transaction(vn,Pe?"readwrite":"readonly");let Mr=qn.store;return Fe&&(Mr=Mr.index(fn.shift())),(yield Promise.all([Mr[Ee](...fn),Pe&&qn.done]))[0]});return function(fn){return Tt.apply(this,arguments)}}();return dt.set(re,st),st}!function Se(oe){be=oe(be)}(oe=>({...oe,get:(re,Ee,Fe)=>pt(re,Ee)||oe.get(re,Ee,Fe),has:(re,Ee)=>!!pt(re,Ee)||oe.has(re,Ee)}));class zt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function Br(oe){const re=oe.getComponent();return"VERSION"===re?.type}(Ee)){const Fe=Ee.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(Ee=>Ee).join(" ")}}const ei="@firebase/app",Tn=new O.Yd("@firebase/app"),$e="[DEFAULT]",gt={[ei]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ue=new Map,wt=new Map;function Zt(oe,re){try{oe.container.addComponent(re)}catch(Ee){Tn.debug(`Component ${re.name} failed to register with FirebaseApp ${oe.name}`,Ee)}}function Un(oe,re){oe.container.addOrOverwriteComponent(re)}function Mt(oe){const re=oe.name;if(wt.has(re))return Tn.debug(`There were multiple attempts to register component ${re}.`),!1;wt.set(re,oe);for(const Ee of ue.values())Zt(Ee,oe);return!0}function Sn(oe,re){const Ee=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),oe.container.getProvider(re)}function la(oe,re,Ee=$e){Sn(oe,re).clearInstance(Ee)}function Lt(){wt.clear()}const ct=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Di{constructor(re,Ee,Fe){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw ct.create("app-deleted",{appName:this._name})}}const Ji="9.23.0";function Xi(oe,re={}){let Ee=oe;"object"!=typeof re&&(re={name:re});const Fe=Object.assign({name:$e,automaticDataCollectionEnabled:!1},re),Pe=Fe.name;if("string"!=typeof Pe||!Pe)throw ct.create("bad-app-name",{appName:String(Pe)});if(Ee||(Ee=(0,te.aH)()),!Ee)throw ct.create("no-options");const st=ue.get(Pe);if(st){if((0,te.vZ)(Ee,st.options)&&(0,te.vZ)(Fe,st.config))return st;throw ct.create("duplicate-app",{appName:Pe})}const Tt=new X.H0(Pe);for(const fn of wt.values())Tt.addComponent(fn);const vn=new Di(Ee,Fe,Tt);return ue.set(Pe,vn),vn}function Dt(oe=$e){const re=ue.get(oe);if(!re&&oe===$e&&(0,te.aH)())return Xi();if(!re)throw ct.create("no-app",{appName:oe});return re}function jt(){return Array.from(ue.values())}function Ti(oe){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(oe){const re=oe.name;ue.has(re)&&(ue.delete(re),yield Promise.all(oe.container.getProviders().map(Ee=>Ee.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function ar(oe,re,Ee){var Fe;let Pe=null!==(Fe=gt[oe])&&void 0!==Fe?Fe:oe;Ee&&(Pe+=`-${Ee}`);const st=Pe.match(/\s|\//),Tt=re.match(/\s|\//);if(st||Tt){const vn=[`Unable to register library "${Pe}" with version "${re}":`];return st&&vn.push(`library name "${Pe}" contains illegal characters (whitespace or "/")`),st&&Tt&&vn.push("and"),Tt&&vn.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void Tn.warn(vn.join(" "))}Mt(new X.wA(`${Pe}-version`,()=>({library:Pe,version:re}),"VERSION"))}function cn(oe,re){if(null!==oe&&"function"!=typeof oe)throw ct.create("invalid-log-argument");(0,O.Am)(oe,re)}function ti(oe){(0,O.Ub)(oe)}const cr="firebase-heartbeat-database",Bs=1,$="firebase-heartbeat-store";let B=null;function q(){return B||(B=function Ne(oe,re,{blocked:Ee,upgrade:Fe,blocking:Pe,terminated:st}={}){const Tt=indexedDB.open(oe,re),vn=le(Tt);return Fe&&Tt.addEventListener("upgradeneeded",fn=>{Fe(le(Tt.result),fn.oldVersion,fn.newVersion,le(Tt.transaction),fn)}),Ee&&Tt.addEventListener("blocked",fn=>Ee(fn.oldVersion,fn.newVersion,fn)),vn.then(fn=>{st&&fn.addEventListener("close",()=>st()),Pe&&fn.addEventListener("versionchange",qn=>Pe(qn.oldVersion,qn.newVersion,qn))}).catch(()=>{}),vn}(cr,Bs,{upgrade:(oe,re)=>{0===re&&oe.createObjectStore($)}}).catch(oe=>{throw ct.create("idb-open",{originalErrorMessage:oe.message})})),B}function ie(){return(ie=(0,d.Z)(function*(oe){try{return yield(yield q()).transaction($).objectStore($).get(Ye(oe))}catch(re){if(re instanceof te.ZR)Tn.warn(re.message);else{const Ee=ct.create("idb-get",{originalErrorMessage:re?.message});Tn.warn(Ee.message)}}})).apply(this,arguments)}function ke(oe,re){return Je.apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(oe,re){try{const Fe=(yield q()).transaction($,"readwrite");yield Fe.objectStore($).put(re,Ye(oe)),yield Fe.done}catch(Ee){if(Ee instanceof te.ZR)Tn.warn(Ee.message);else{const Fe=ct.create("idb-set",{originalErrorMessage:Ee?.message});Tn.warn(Fe.message)}}})).apply(this,arguments)}function Ye(oe){return`${oe.name}!${oe.options.appId}`}class yn{constructor(re){this.container=re,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new ni(Ee),this._heartbeatsCachePromise=this._storage.read().then(Fe=>(this._heartbeatsCache=Fe,Fe))}triggerHeartbeat(){var re=this;return(0,d.Z)(function*(){const Fe=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pe=yt();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Pe&&!re._heartbeatsCache.heartbeats.some(st=>st.date===Pe))return re._heartbeatsCache.heartbeats.push({date:Pe,agent:Fe}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(st=>{const Tt=new Date(st.date).valueOf();return Date.now()-Tt<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,d.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Ee=yt(),{heartbeatsToSend:Fe,unsentEntries:Pe}=function rn(oe,re=1024){const Ee=[];let Fe=oe.slice();for(const Pe of oe){const st=Ee.find(Tt=>Tt.agent===Pe.agent);if(st){if(st.dates.push(Pe.date),Hn(Ee)>re){st.dates.pop();break}}else if(Ee.push({agent:Pe.agent,dates:[Pe.date]}),Hn(Ee)>re){Ee.pop();break}Fe=Fe.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:Fe}}(re._heartbeatsCache.heartbeats),st=(0,te.L)(JSON.stringify({version:2,heartbeats:Fe}));return re._heartbeatsCache.lastSentHeartbeatDate=Ee,Pe.length>0?(re._heartbeatsCache.heartbeats=Pe,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),st})()}}function yt(){return(new Date).toISOString().substring(0,10)}class ni{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,d.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function pe(oe){return ie.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Ee=this;return(0,d.Z)(function*(){var Fe;if(yield Ee._canUseIndexedDBPromise){const st=yield Ee.read();return ke(Ee.app,{lastSentHeartbeatDate:null!==(Fe=re.lastSentHeartbeatDate)&&void 0!==Fe?Fe:st.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Ee=this;return(0,d.Z)(function*(){var Fe;if(yield Ee._canUseIndexedDBPromise){const st=yield Ee.read();return ke(Ee.app,{lastSentHeartbeatDate:null!==(Fe=re.lastSentHeartbeatDate)&&void 0!==Fe?Fe:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...re.heartbeats]})}})()}}function Hn(oe){return(0,te.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function Hs(oe){Mt(new X.wA("platform-logger",re=>new zt(re),"PRIVATE")),Mt(new X.wA("heartbeat",re=>new yn(re),"PRIVATE")),ar(ei,"0.9.13",oe),ar(ei,"0.9.13","esm2017"),ar("fire-js","")}("")},4537:(Ve,_e,N)=>{N.d(_e,{H0:()=>se,wA:()=>O,zt:()=>ee});var d=N(5861),X=N(9058);class O{constructor(P,F,j){this.name=P,this.instanceFactory=F,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const te="[DEFAULT]";class ee{constructor(P,F){this.name=P,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const F=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(F)){const j=new X.BH;if(this.instancesDeferred.set(F,j),this.isInitialized(F)||this.shouldAutoInitialize())try{const ne=this.getOrInitializeService({instanceIdentifier:F});ne&&j.resolve(ne)}catch{}}return this.instancesDeferred.get(F).promise}getImmediate(P){var F;const j=this.normalizeInstanceIdentifier(P?.identifier),ne=null!==(F=P?.optional)&&void 0!==F&&F;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(me){if(ne)return null;throw me}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if(function he(Q){return"EAGER"===Q.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[F,j]of this.instancesDeferred.entries()){const ne=this.normalizeInstanceIdentifier(F);try{const me=this.getOrInitializeService({instanceIdentifier:ne});j.resolve(me)}catch{}}}}clearInstance(P=te){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,d.Z)(function*(){const F=Array.from(P.instances.values());yield Promise.all([...F.filter(j=>"INTERNAL"in j).map(j=>j.INTERNAL.delete()),...F.filter(j=>"_delete"in j).map(j=>j._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=te){return this.instances.has(P)}getOptions(P=te){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:F={}}=P,j=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(j))throw Error(`${this.name}(${j}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ne=this.getOrInitializeService({instanceIdentifier:j,options:F});for(const[me,We]of this.instancesDeferred.entries())j===this.normalizeInstanceIdentifier(me)&&We.resolve(ne);return ne}onInit(P,F){var j;const ne=this.normalizeInstanceIdentifier(F),me=null!==(j=this.onInitCallbacks.get(ne))&&void 0!==j?j:new Set;me.add(P),this.onInitCallbacks.set(ne,me);const We=this.instances.get(ne);return We&&P(We,ne),()=>{me.delete(P)}}invokeOnInitCallbacks(P,F){const j=this.onInitCallbacks.get(F);if(j)for(const ne of j)try{ne(P,F)}catch{}}getOrInitializeService({instanceIdentifier:P,options:F={}}){let j=this.instances.get(P);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=P,Q===te?void 0:Q),options:F}),this.instances.set(P,j),this.instancesOptions.set(P,F),this.invokeOnInitCallbacks(j,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,j)}catch{}var Q;return j||null}normalizeInstanceIdentifier(P=te){return this.component?this.component.multipleInstances?P:te:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const F=this.getProvider(P.name);if(F.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);F.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const F=new ee(P,this);return this.providers.set(P,F),F}getProviders(){return Array.from(this.providers.values())}}},7879:(Ve,_e,N)=>{N.d(_e,{Am:()=>Q,Ub:()=>se,Yd:()=>he,in:()=>X});const d=[];var X=function(P){return P[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",P}(X||{});const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},te=X.INFO,ee={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},z=(P,F,...j)=>{if(F<P.logLevel)return;const ne=(new Date).toISOString(),me=ee[F];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[me](`[${ne}]  ${P.name}:`,...j)};class he{constructor(F){this.name=F,this._logLevel=te,this._logHandler=z,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in X))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?O[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...F),this._logHandler(this,X.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...F),this._logHandler(this,X.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,X.INFO,...F),this._logHandler(this,X.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,X.WARN,...F),this._logHandler(this,X.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...F),this._logHandler(this,X.ERROR,...F)}}function se(P){d.forEach(F=>{F.setLogLevel(P)})}function Q(P,F){for(const j of d){let ne=null;F&&F.level&&(ne=O[F.level]),j.userLogHandler=null===P?null:(me,We,...ce)=>{const be=ce.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");We>=(ne??me.logLevel)&&P({level:X[We].toLowerCase(),message:be,args:ce,type:me.name})}}}},3182:(Ve,_e,N)=>{N.d(_e,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=N(534);(0,d.registerVersion)("firebase","9.23.0","app")},7142:(Ve,_e,N)=>{N.d(_e,{Z:()=>d.Z});var d=N(3106);d.Z.registerVersion("firebase","9.23.0","app-compat")},8758:(Ve,_e,N)=>{N.r(_e);var d=N(5861),X=N(3106),O=N(9058),te=N(534);function se(g,l){var f={};for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&l.indexOf(y)<0&&(f[y]=g[y]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(y=Object.getOwnPropertySymbols(g);b<y.length;b++)l.indexOf(y[b])<0&&Object.prototype.propertyIsEnumerable.call(g,y[b])&&(f[y[b]]=g[y[b]])}return f}"function"==typeof SuppressedError&&SuppressedError;var an=N(7879),Ii=N(4537);const Ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ci=function $t(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},bi=function ua(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_n=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yi=new an.Yd("@firebase/auth");function or(g,...l){Yi.logLevel<=an.in.ERROR&&Yi.error(`Auth (${te.SDK_VERSION}): ${g}`,...l)}function Wt(g,...l){throw gt(g,...l)}function Gt(g,...l){return gt(g,...l)}function Do(g,l,f){const y=Object.assign(Object.assign({},bi()),{[l]:f});return new O.LL("auth","Firebase",y).create(l,{appName:g.name})}function $e(g,l,f){if(!(l instanceof f))throw f.name!==l.constructor.name&&Wt(g,"argument-error"),Do(g,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(g,...l){if("string"!=typeof g){const f=l[0],y=[...l.slice(1)];return y[0]&&(y[0].appName=g.name),g._errorFactory.create(f,...y)}return _n.create(g,...l)}function ue(g,l,...f){if(!g)throw gt(l,...f)}function wt(g){const l="INTERNAL ASSERTION FAILED: "+g;throw or(l),new Error(l)}function Zt(g,l){g||wt(l)}function Un(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function Mt(){return"http:"===Sn()||"https:"===Sn()}function Sn(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class jn{constructor(l,f){this.shortDelay=l,this.longDelay=f,Zt(f>l,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function la(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ct(g,l){Zt(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return l?`${f}${l.startsWith("/")?l.slice(1):l}`:f}class Di{static initialize(l,f,y){this.fetchImpl=l,f&&(this.headersImpl=f),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ji={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xi=new jn(3e4,6e4);function Dt(g,l){return g.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:g.tenantId}):l}function jt(g,l,f,y){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(g,l,f,y,b={}){return Ar(g,b,(0,d.Z)(function*(){let S={},U={};y&&("GET"===l?U=y:S={body:JSON.stringify(y)});const Z=(0,O.xO)(Object.assign({key:g.config.apiKey},U)).slice(1),ge=yield g._getAdditionalHeaders();return ge["Content-Type"]="application/json",g.languageCode&&(ge["X-Firebase-Locale"]=g.languageCode),Di.fetch()(cr(g,g.config.apiHost,f,Z),Object.assign({method:l,headers:ge,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function Ar(g,l,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(g,l,f){g._canInitEmulator=!1;const y=Object.assign(Object.assign({},Ji),l);try{const b=new Bs(g),S=yield Promise.race([f(),b.promise]);b.clearNetworkTimeout();const U=yield S.json();if("needConfirmation"in U)throw $(g,"account-exists-with-different-credential",U);if(S.ok&&!("errorMessage"in U))return U;{const Z=S.ok?U.errorMessage:U.error.message,[ge,de]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ge)throw $(g,"credential-already-in-use",U);if("EMAIL_EXISTS"===ge)throw $(g,"email-already-in-use",U);if("USER_DISABLED"===ge)throw $(g,"user-disabled",U);const De=y[ge]||ge.toLowerCase().replace(/[_\s]+/g,"-");if(de)throw Do(g,De,de);Wt(g,De)}}catch(b){if(b instanceof O.ZR)throw b;Wt(g,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function cn(g,l,f,y){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(g,l,f,y,b={}){const S=yield jt(g,l,f,y,b);return"mfaPendingCredential"in S&&Wt(g,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function cr(g,l,f,y){const b=`${l}${f}?${y}`;return g.config.emulator?ct(g.config,b):`${g.config.apiScheme}://${b}`}class Bs{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((f,y)=>{this.timer=setTimeout(()=>y(Gt(this.auth,"network-request-failed")),Xi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $(g,l,f){const y={appName:g.name};f.email&&(y.email=f.email),f.phoneNumber&&(y.phoneNumber=f.phoneNumber);const b=Gt(g,l,y);return b.customData._tokenResponse=f,b}function q(){return(q=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function ie(){return(ie=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Ye(g){if(g)try{const l=new Date(Number(g));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function yn(){return(yn=(0,d.Z)(function*(g,l=!1){const f=(0,O.m9)(g),y=yield f.getIdToken(l),b=rn(y);ue(b&&b.exp&&b.auth_time&&b.iat,f.auth,"internal-error");const S="object"==typeof b.firebase?b.firebase:void 0,U=S?.sign_in_provider;return{claims:b,token:y,authTime:Ye(yt(b.auth_time)),issuedAtTime:Ye(yt(b.iat)),expirationTime:Ye(yt(b.exp)),signInProvider:U||null,signInSecondFactor:S?.sign_in_second_factor||null}})).apply(this,arguments)}function yt(g){return 1e3*Number(g)}function rn(g){const[l,f,y]=g.split(".");if(void 0===l||void 0===f||void 0===y)return or("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,O.tV)(f);return b?JSON.parse(b):(or("Failed to decode base64 JWT payload"),null)}catch(b){return or("Caught error parsing JWT payload as JSON",b?.toString()),null}}function Hn(g,l){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(g,l,f=!1){if(f)return l;try{return yield l}catch(y){throw y instanceof O.ZR&&function oe({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}(y)&&g.auth.currentUser===g&&(yield g.auth.signOut()),y}})).apply(this,arguments)}class re{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var f;if(l){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const b=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(l=!1){var f=this;if(!this.isRunning)return;const y=this.getInterval(l);this.timerId=setTimeout((0,d.Z)(function*(){yield f.iteration()}),y)}iteration(){var l=this;return(0,d.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&l.schedule(!0))}l.schedule()})()}}class Ee{constructor(l,f){this.createdAt=l,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ye(this.lastLoginAt),this.creationTime=Ye(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fe(g){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,d.Z)(function*(g){var l;const f=g.auth,y=yield g.getIdToken(),b=yield Hn(g,function ke(g,l){return Je.apply(this,arguments)}(f,{idToken:y}));ue(b?.users.length,f,"internal-error");const S=b.users[0];g._notifyReloadListener(S);const U=null!==(l=S.providerUserInfo)&&void 0!==l&&l.length?function fn(g){return g.map(l=>{var{providerId:f}=l,y=se(l,["providerId"]);return{providerId:f,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(S.providerUserInfo):[],Z=function vn(g,l){return[...g.filter(y=>!l.some(b=>b.providerId===y.providerId)),...l]}(g.providerData,U),De=!!g.isAnonymous&&!(g.email&&S.passwordHash||Z?.length),Me={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:Z,metadata:new Ee(S.createdAt,S.lastLoginAt),isAnonymous:De};Object.assign(g,Me)}),Pe.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(g){const l=(0,O.m9)(g);yield Fe(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Mr(){return(Mr=(0,d.Z)(function*(g,l){const f=yield Ar(g,{},(0,d.Z)(function*(){const y=(0,O.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:b,apiKey:S}=g.config,U=cr(g,b,"/v1/token",`key=${S}`),Z=yield g._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",Di.fetch()(U,{method:"POST",headers:Z,body:y})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ue(l.idToken,"internal-error"),ue(typeof l.idToken<"u","internal-error"),ue(typeof l.refreshToken<"u","internal-error");const f="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function ni(g){const l=rn(g);return ue(l,"internal-error"),ue(typeof l.exp<"u","internal-error"),ue(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,f)}getToken(l,f=!1){var y=this;return(0,d.Z)(function*(){return ue(!y.accessToken||y.refreshToken,l,"user-token-expired"),f||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(l,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,f){var y=this;return(0,d.Z)(function*(){const{accessToken:b,refreshToken:S,expiresIn:U}=yield function qn(g,l){return Mr.apply(this,arguments)}(l,f);y.updateTokensAndExpiration(b,S,Number(U))})()}updateTokensAndExpiration(l,f,y){this.refreshToken=f||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(l,f){const{refreshToken:y,accessToken:b,expirationTime:S}=f,U=new ri;return y&&(ue("string"==typeof y,"internal-error",{appName:l}),U.refreshToken=y),b&&(ue("string"==typeof b,"internal-error",{appName:l}),U.accessToken=b),S&&(ue("number"==typeof S,"internal-error",{appName:l}),U.expirationTime=S),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new ri,this.toJSON())}_performRefresh(){return wt("not implemented")}}function ii(g,l){ue("string"==typeof g||typeof g>"u","internal-error",{appName:l})}class Hr{constructor(l){var{uid:f,auth:y,stsTokenManager:b}=l,S=se(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new re(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=y,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.providerData=S.providerData?[...S.providerData]:[],this.metadata=new Ee(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(l){var f=this;return(0,d.Z)(function*(){const y=yield Hn(f,f.stsTokenManager.getToken(f.auth,l));return ue(y,f.auth,"internal-error"),f.accessToken!==y&&(f.accessToken=y,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),y})()}getIdTokenResult(l){return function it(g){return yn.apply(this,arguments)}(this,l)}reload(){return function st(g){return Tt.apply(this,arguments)}(this)}_assign(l){this!==l&&(ue(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(f=>Object.assign({},f)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const f=new Hr(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(l){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,f=!1){var y=this;return(0,d.Z)(function*(){let b=!1;l.idToken&&l.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(l),b=!0),f&&(yield Fe(y)),yield y.auth._persistUserIfCurrent(y),b&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var l=this;return(0,d.Z)(function*(){const f=yield l.getIdToken();return yield Hn(l,function B(g,l){return q.apply(this,arguments)}(l.auth,{idToken:f})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,f){var y,b,S,U,Z,ge,de,De;const Me=null!==(y=f.displayName)&&void 0!==y?y:void 0,rt=null!==(b=f.email)&&void 0!==b?b:void 0,Kt=null!==(S=f.phoneNumber)&&void 0!==S?S:void 0,Lr=null!==(U=f.photoURL)&&void 0!==U?U:void 0,Fr=null!==(Z=f.tenantId)&&void 0!==Z?Z:void 0,br=null!==(ge=f._redirectEventId)&&void 0!==ge?ge:void 0,Ds=null!==(de=f.createdAt)&&void 0!==de?de:void 0,xa=null!==(De=f.lastLoginAt)&&void 0!==De?De:void 0,{uid:Yo,emailVerified:Vh,isAnonymous:Ot,providerData:Rt,stsTokenManager:vt}=f;ue(Yo&&vt,l,"internal-error");const Qo=ri.fromJSON(this.name,vt);ue("string"==typeof Yo,l,"internal-error"),ii(Me,l.name),ii(rt,l.name),ue("boolean"==typeof Vh,l,"internal-error"),ue("boolean"==typeof Ot,l,"internal-error"),ii(Kt,l.name),ii(Lr,l.name),ii(Fr,l.name),ii(br,l.name),ii(Ds,l.name),ii(xa,l.name);const Ut=new Hr({uid:Yo,auth:l,email:rt,emailVerified:Vh,displayName:Me,isAnonymous:Ot,photoURL:Lr,phoneNumber:Kt,tenantId:Fr,stsTokenManager:Qo,createdAt:Ds,lastLoginAt:xa});return Rt&&Array.isArray(Rt)&&(Ut.providerData=Rt.map(rd=>Object.assign({},rd))),br&&(Ut._redirectEventId=br),Ut}static _fromIdTokenResponse(l,f,y=!1){return(0,d.Z)(function*(){const b=new ri;b.updateFromServerResponse(f);const S=new Hr({uid:f.localId,auth:l,stsTokenManager:b,isAnonymous:y});return yield Fe(S),S})()}}const tu=new Map;function Rn(g){Zt(g instanceof Function,"Expected a class definition");let l=tu.get(g);return l?(Zt(l instanceof g,"Instance stored in cache mismatched with class"),l):(l=new g,tu.set(g,l),l)}const Rr=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(f,y){var b=this;return(0,d.Z)(function*(){b.storage[f]=y})()}_get(f){var y=this;return(0,d.Z)(function*(){const b=y.storage[f];return void 0===b?null:b})()}_remove(f){var y=this;return(0,d.Z)(function*(){delete y.storage[f]})()}_addListener(f,y){}_removeListener(f,y){}}return g.type="NONE",g})();function Si(g,l,f){return`firebase:${g}:${l}:${f}`}class Za{constructor(l,f,y){this.persistence=l,this.auth=f,this.userKey=y;const{config:b,name:S}=this.auth;this.fullUserKey=Si(this.userKey,b.apiKey,S),this.fullPersistenceKey=Si("persistence",b.apiKey,S),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,d.Z)(function*(){const f=yield l.persistence._get(l.fullUserKey);return f?Hr._fromJSON(l.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var f=this;return(0,d.Z)(function*(){if(f.persistence===l)return;const y=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=l,y?f.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,f,y="authUser"){return(0,d.Z)(function*(){if(!f.length)return new Za(Rn(Rr),l,y);const b=(yield Promise.all(f.map(function(){var de=(0,d.Z)(function*(De){if(yield De._isAvailable())return De});return function(De){return de.apply(this,arguments)}}()))).filter(de=>de);let S=b[0]||Rn(Rr);const U=Si(y,l.config.apiKey,l.name);let Z=null;for(const de of f)try{const De=yield de._get(U);if(De){const Me=Hr._fromJSON(l,De);de!==S&&(Z=Me),S=de;break}}catch{}const ge=b.filter(de=>de._shouldAllowMigration);return S._shouldAllowMigration&&ge.length?(S=ge[0],Z&&(yield S._set(U,Z.toJSON())),yield Promise.all(f.map(function(){var de=(0,d.Z)(function*(De){if(De!==S)try{yield De._remove(U)}catch{}});return function(De){return de.apply(this,arguments)}}())),new Za(S,l,y)):new Za(S,l,y)})()}}function si(g){const l=g.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(To(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Xd(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Cl(l))return"Blackberry";if(eh(l))return"Webos";if(nu(l))return"Safari";if((l.includes("chrome/")||ur(l))&&!l.includes("edge/"))return"Chrome";if(Vs(l))return"Android";{const y=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function Xd(g=(0,O.z$)()){return/firefox\//i.test(g)}function nu(g=(0,O.z$)()){const l=g.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function ur(g=(0,O.z$)()){return/crios\//i.test(g)}function To(g=(0,O.z$)()){return/iemobile/i.test(g)}function Vs(g=(0,O.z$)()){return/android/i.test(g)}function Cl(g=(0,O.z$)()){return/blackberry/i.test(g)}function eh(g=(0,O.z$)()){return/webos/i.test(g)}function $s(g=(0,O.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function nh(g=(0,O.z$)()){return $s(g)||Vs(g)||eh(g)||Cl(g)||/windows phone/i.test(g)||To(g)}function iu(g,l=[]){let f;switch(g){case"Browser":f=si((0,O.z$)());break;case"Worker":f=`${si((0,O.z$)())}-${g}`;break;default:f=g}const y=l.length?l.join(","):"FirebaseCore-web";return`${f}/JsCore/${te.SDK_VERSION}/${y}`}function su(){return(su=(0,d.Z)(function*(g){return(yield jt(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bl(g,l){return da.apply(this,arguments)}function da(){return(da=(0,d.Z)(function*(g,l){return jt(g,"GET","/v2/recaptchaConfig",Dt(g,l))})).apply(this,arguments)}function ou(g){return void 0!==g&&void 0!==g.getResponse}function au(g){return void 0!==g&&void 0!==g.enterprise}class ha{constructor(l){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.emailPasswordEnabled=l.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function It(g){return new Promise((l,f)=>{const y=document.createElement("script");y.setAttribute("src",g),y.onload=l,y.onerror=b=>{const S=Gt("internal-error");S.customData=b,f(S)},y.type="text/javascript",y.charset="UTF-8",function rh(){var g,l;return null!==(l=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==l?l:document}().appendChild(y)})}function pn(g){return`__${g}${Math.floor(1e6*Math.random())}`}class Dl{constructor(l){this.type="recaptcha-enterprise",this.auth=ot(l)}verify(l="verify",f=!1){var y=this;return(0,d.Z)(function*(){function S(){return S=(0,d.Z)(function*(Z){if(!f){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var ge=(0,d.Z)(function*(de,De){bl(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Me=>{if(void 0!==Me.recaptchaKey){const rt=new ha(Me);return null==Z.tenantId?Z._agentRecaptchaConfig=rt:Z._tenantRecaptchaConfigs[Z.tenantId]=rt,de(rt.siteKey)}De(new Error("recaptcha Enterprise site key undefined"))}).catch(Me=>{De(Me)})});return function(de,De){return ge.apply(this,arguments)}}())}),S.apply(this,arguments)}function U(Z,ge,de){const De=window.grecaptcha;au(De)?De.enterprise.ready(()=>{De.enterprise.execute(Z,{action:l}).then(Me=>{ge(Me)}).catch(()=>{ge("NO_RECAPTCHA")})}):de(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,ge)=>{(function b(Z){return S.apply(this,arguments)})(y.auth).then(de=>{if(!f&&au(window.grecaptcha))U(de,Z,ge);else{if(typeof window>"u")return void ge(new Error("RecaptchaVerifier is only supported in browser"));It("https://www.google.com/recaptcha/enterprise.js?render="+de).then(()=>{U(de,Z,ge)}).catch(De=>{ge(De)})}}).catch(de=>{ge(de)})})})()}}function es(g,l,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(g,l,f,y=!1){const b=new Dl(g);let S;try{S=yield b.verify(f)}catch{S=yield b.verify(f,!0)}const U=Object.assign({},l);return Object.assign(U,y?{captchaResp:S}:{captchaResponse:S}),Object.assign(U,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(U,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),U})).apply(this,arguments)}class rp{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,f){const y=S=>new Promise((U,Z)=>{try{U(l(S))}catch(ge){Z(ge)}});y.onAbort=f,this.queue.push(y);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(l){var f=this;return(0,d.Z)(function*(){if(f.auth.currentUser===l)return;const y=[];try{for(const b of f.queue)yield b(l),b.onAbort&&y.push(b.onAbort)}catch(b){y.reverse();for(const S of y)try{S()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:b?.message})}})()}}class qa{constructor(l,f,y,b){this.app=l,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=y,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oe(this),this.idTokenSubscription=new Oe(this),this.beforeStateQueue=new rp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_n,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(l,f){var y=this;return f&&(this._popupRedirectResolver=Rn(f)),this._initializationPromise=this.queue((0,d.Z)(function*(){var b,S;if(!y._deleted&&(y.persistenceManager=yield Za.create(y,l),!y._deleted)){if(null!==(b=y._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(f),y.lastNotifiedUid=(null===(S=y.currentUser)||void 0===S?void 0:S.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,d.Z)(function*(){if(l._deleted)return;const f=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||f){if(l.currentUser&&f&&l.currentUser.uid===f.uid)return l._currentUser._assign(f),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(f,!0)}})()}initializeCurrentUser(l){var f=this;return(0,d.Z)(function*(){var y;const b=yield f.assertedPersistence.getCurrentUser();let S=b,U=!1;if(l&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Z=null===(y=f.redirectUser)||void 0===y?void 0:y._redirectEventId,ge=S?._redirectEventId,de=yield f.tryRedirectSignIn(l);(!Z||Z===ge)&&de?.user&&(S=de.user,U=!0)}if(!S)return f.directlySetCurrentUser(null);if(!S._redirectEventId){if(U)try{yield f.beforeStateQueue.runMiddleware(S)}catch(Z){S=b,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Z))}return S?f.reloadAndSetCurrentUserOrClear(S):f.directlySetCurrentUser(null)}return ue(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===S._redirectEventId?f.directlySetCurrentUser(S):f.reloadAndSetCurrentUserOrClear(S)})()}tryRedirectSignIn(l){var f=this;return(0,d.Z)(function*(){let y=null;try{y=yield f._popupRedirectResolver._completeRedirectFn(f,l,!0)}catch{yield f._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(l){var f=this;return(0,d.Z)(function*(){try{yield Fe(l)}catch(y){if("auth/network-request-failed"!==y?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Lt(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var l=this;return(0,d.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var f=this;return(0,d.Z)(function*(){const y=l?(0,O.m9)(l):null;return y&&ue(y.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(y&&y._clone(f))})()}_updateCurrentUser(l,f=!1){var y=this;return(0,d.Z)(function*(){if(!y._deleted)return l&&ue(y.tenantId===l.tenantId,y,"tenant-id-mismatch"),f||(yield y.beforeStateQueue.runMiddleware(l)),y.queue((0,d.Z)(function*(){yield y.directlySetCurrentUser(l),y.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,d.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var f=this;return this.queue((0,d.Z)(function*(){yield f.assertedPersistence.setPersistence(Rn(l))}))}initializeRecaptchaConfig(){var l=this;return(0,d.Z)(function*(){const f=yield bl(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new ha(f);null==l.tenantId?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,y.emailPasswordEnabled&&new Dl(l).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new O.LL("auth","Firebase",l())}onAuthStateChanged(l,f,y){return this.registerStateListener(this.authStateSubscription,l,f,y)}beforeAuthStateChanged(l,f){return this.beforeStateQueue.pushCallback(l,f)}onIdTokenChanged(l,f,y){return this.registerStateListener(this.idTokenSubscription,l,f,y)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,f){var y=this;return(0,d.Z)(function*(){const b=yield y.getOrInitRedirectPersistenceManager(f);return null===l?b.removeCurrentUser():b.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var f=this;return(0,d.Z)(function*(){if(!f.redirectPersistenceManager){const y=l&&Rn(l)||f._popupRedirectResolver;ue(y,f,"argument-error"),f.redirectPersistenceManager=yield Za.create(f,[Rn(y._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(l){var f=this;return(0,d.Z)(function*(){var y,b;return f._isInitialized&&(yield f.queue((0,d.Z)(function*(){}))),(null===(y=f._currentUser)||void 0===y?void 0:y._redirectEventId)===l?f._currentUser:(null===(b=f.redirectUser)||void 0===b?void 0:b._redirectEventId)===l?f.redirectUser:null})()}_persistUserIfCurrent(l){var f=this;return(0,d.Z)(function*(){if(l===f.currentUser)return f.queue((0,d.Z)(function*(){return f.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(f=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,f,y,b){if(this._deleted)return()=>{};const S="function"==typeof f?f:f.next.bind(f),U=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(U,this,"internal-error"),U.then(()=>S(this.currentUser)),"function"==typeof f?l.addObserver(f,y,b):l.addObserver(f)}directlySetCurrentUser(l){var f=this;return(0,d.Z)(function*(){f.currentUser&&f.currentUser!==l&&f._currentUser._stopProactiveRefresh(),l&&f.isProactiveRefreshEnabled&&l._startProactiveRefresh(),f.currentUser=l,l?yield f.assertedPersistence.setCurrentUser(l):yield f.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=iu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,d.Z)(function*(){var f;const y={"X-Client-Version":l.clientVersion};l.app.options.appId&&(y["X-Firebase-gmpid"]=l.app.options.appId);const b=yield null===(f=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();b&&(y["X-Firebase-Client"]=b);const S=yield l._getAppCheckToken();return S&&(y["X-Firebase-AppCheck"]=S),y})()}_getAppCheckToken(){var l=this;return(0,d.Z)(function*(){var f;const y=yield null===(f=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return y?.error&&function Qi(g,...l){Yi.logLevel<=an.in.WARN&&Yi.warn(`Auth (${te.SDK_VERSION}): ${g}`,...l)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function ot(g){return(0,O.m9)(g)}class Oe{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,O.ne)(f=>this.observer=f)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ts(g){const l=g.indexOf(":");return l<0?"":g.substr(0,l+1)}function Ao(g){if(!g)return null;const l=Number(g);return isNaN(l)?null:l}class hr{constructor(l,f){this.providerId=l,this.signInMethod=f}toJSON(){return wt("not implemented")}_getIdTokenResponse(l){return wt("not implemented")}_linkToIdToken(l,f){return wt("not implemented")}_getReauthenticationResolver(l){return wt("not implemented")}}function Ws(g,l){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:resetPassword",Dt(g,l))})).apply(this,arguments)}function Nr(g,l){return cu.apply(this,arguments)}function cu(){return(cu=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:update",Dt(g,l))})).apply(this,arguments)}function Mo(g,l){return zs.apply(this,arguments)}function zs(){return(zs=(0,d.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:signInWithPassword",Dt(g,l))})).apply(this,arguments)}function Er(g,l){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:sendOobCode",Dt(g,l))})).apply(this,arguments)}function Ai(){return(Ai=(0,d.Z)(function*(g,l){return Er(g,l)})).apply(this,arguments)}function fr(g,l){return Po.apply(this,arguments)}function Po(){return(Po=(0,d.Z)(function*(g,l){return Er(g,l)})).apply(this,arguments)}function oi(g,l){return mt.apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(g,l){return Er(g,l)})).apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(g,l){return Er(g,l)})).apply(this,arguments)}function Pn(){return(Pn=(0,d.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:signInWithEmailLink",Dt(g,l))})).apply(this,arguments)}function Mi(){return(Mi=(0,d.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:signInWithEmailLink",Dt(g,l))})).apply(this,arguments)}class Vr extends hr{constructor(l,f,y,b=null){super("password",y),this._email=l,this._password=f,this._tenantId=b}static _fromEmailAndPassword(l,f){return new Vr(l,f,"password")}static _fromEmailAndCode(l,f,y=null){return new Vr(l,f,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(l){var f=this;return(0,d.Z)(function*(){var y;switch(f.signInMethod){case"password":const b={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=l._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const S=yield es(l,b,"signInWithPassword");return Mo(l,S)}return Mo(l,b).catch(function(){var S=(0,d.Z)(function*(U){if("auth/missing-recaptcha-token"===U.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Z=yield es(l,b,"signInWithPassword");return Mo(l,Z)}return Promise.reject(U)});return function(U){return S.apply(this,arguments)}}());case"emailLink":return function uu(g,l){return Pn.apply(this,arguments)}(l,{email:f._email,oobCode:f._password});default:Wt(l,"internal-error")}})()}_linkToIdToken(l,f){var y=this;return(0,d.Z)(function*(){switch(y.signInMethod){case"password":return Nr(l,{idToken:f,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function ga(g,l){return Mi.apply(this,arguments)}(l,{idToken:f,email:y._email,oobCode:y._password});default:Wt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function qt(g,l){return ih.apply(this,arguments)}function ih(){return(ih=(0,d.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:signInWithIdp",Dt(g,l))})).apply(this,arguments)}class Xt extends hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const f=new Xt(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(f.idToken=l.idToken),l.accessToken&&(f.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(f.nonce=l.nonce),l.pendingToken&&(f.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(f.accessToken=l.oauthToken,f.secret=l.oauthTokenSecret):Wt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:b}=f,S=se(f,["providerId","signInMethod"]);if(!y||!b)return null;const U=new Xt(y,b);return U.idToken=S.idToken||void 0,U.accessToken=S.accessToken||void 0,U.secret=S.secret,U.nonce=S.nonce,U.pendingToken=S.pendingToken||null,U}_getIdTokenResponse(l){return qt(l,this.buildRequest())}_linkToIdToken(l,f){const y=this.buildRequest();return y.idToken=f,qt(l,y)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,qt(l,f)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),l.postBody=(0,O.xO)(f)}return l}}function Ri(){return(Ri=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:sendVerificationCode",Dt(g,l))})).apply(this,arguments)}function pr(){return(pr=(0,d.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:signInWithPhoneNumber",Dt(g,l))})).apply(this,arguments)}function ma(){return(ma=(0,d.Z)(function*(g,l){const f=yield cn(g,"POST","/v1/accounts:signInWithPhoneNumber",Dt(g,l));if(f.temporaryProof)throw $(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const sh={USER_NOT_FOUND:"user-not-found"};function Qa(){return(Qa=(0,d.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:signInWithPhoneNumber",Dt(g,Object.assign(Object.assign({},l),{operation:"REAUTH"})),sh)})).apply(this,arguments)}class rs extends hr{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,f){return new rs({verificationId:l,verificationCode:f})}static _fromTokenResponse(l,f){return new rs({phoneNumber:l,temporaryProof:f})}_getIdTokenResponse(l){return function $r(g,l){return pr.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,f){return function Ya(g,l){return ma.apply(this,arguments)}(l,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Lm(g,l){return Qa.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:f,verificationId:y,verificationCode:b}=this.params;return l&&f?{temporaryProof:l,phoneNumber:f}:{sessionInfo:y,code:b}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:f,verificationCode:y,phoneNumber:b,temporaryProof:S}=l;return y||f||b||S?new rs({verificationId:f,verificationCode:y,phoneNumber:b,temporaryProof:S}):null}}class Ja{constructor(l){var f,y,b,S,U,Z;const ge=(0,O.zd)((0,O.pd)(l)),de=null!==(f=ge.apiKey)&&void 0!==f?f:null,De=null!==(y=ge.oobCode)&&void 0!==y?y:null,Me=function sp(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=ge.mode)&&void 0!==b?b:null);ue(de&&De&&Me,"argument-error"),this.apiKey=de,this.operation=Me,this.code=De,this.continueUrl=null!==(S=ge.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(U=ge.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(Z=ge.tenantId)&&void 0!==Z?Z:null}static parseLink(l){const f=function op(g){const l=(0,O.zd)((0,O.pd)(g)).link,f=l?(0,O.zd)((0,O.pd)(l)).deep_link_id:null,y=(0,O.zd)((0,O.pd)(g)).deep_link_id;return(y?(0,O.zd)((0,O.pd)(y)).link:null)||y||f||l||g}(l);try{return new Ja(f)}catch{return null}}}let en=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,y){return Vr._fromEmailAndPassword(f,y)}static credentialWithLink(f,y){const b=Ja.parseLink(y);return ue(b,"argument-error"),Vr._fromEmailAndCode(f,b.code,b.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Gs{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Xa extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class ec extends Xa{static credentialFromJSON(l){const f="string"==typeof l?JSON.parse(l):l;return ue("providerId"in f&&"signInMethod"in f,"argument-error"),Xt._fromParams(f)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ue(l.idToken||l.accessToken,"argument-error"),Xt._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return ec.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return ec.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:f,oauthAccessToken:y,oauthTokenSecret:b,pendingToken:S,nonce:U,providerId:Z}=l;if(!y&&!b&&!f&&!S||!Z)return null;try{return new ec(Z)._credential({idToken:f,accessToken:y,nonce:U,pendingToken:S})}catch{return null}}}let ap=(()=>{class g extends Xa{constructor(){super("facebook.com")}static credential(f){return Xt._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),du=(()=>{class g extends Xa{constructor(){super("google.com"),this.addScope("profile")}static credential(f,y){return Xt._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:y})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:b}=f;if(!y&&!b)return null;try{return g.credential(y,b)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),is=(()=>{class g extends Xa{constructor(){super("github.com")}static credential(f){return Xt._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class Pi extends hr{constructor(l,f){super(l,l),this.pendingToken=f}_getIdTokenResponse(l){return qt(l,this.buildRequest())}_linkToIdToken(l,f){const y=this.buildRequest();return y.idToken=f,qt(l,y)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,qt(l,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:b,pendingToken:S}=f;return y&&b&&S&&y===b?new Pi(y,S):null}static _create(l,f){return new Pi(l,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hu extends Gs{constructor(l){ue(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return hu.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return hu.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const f=Pi.fromJSON(l);return ue(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:f,providerId:y}=l;if(!f||!y)return null;try{return Pi._create(y,f)}catch{return null}}}let cp=(()=>{class g extends Xa{constructor(){super("twitter.com")}static credential(f,y){return Xt._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:y})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:y,oauthTokenSecret:b}=f;if(!y||!b)return null;try{return g.credential(y,b)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function No(g,l){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:signUp",Dt(g,l))})).apply(this,arguments)}class En{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,f,y,b=!1){return(0,d.Z)(function*(){const S=yield Hr._fromIdTokenResponse(l,y,b),U=fu(y);return new En({user:S,providerId:U,_tokenResponse:y,operationType:f})})()}static _forOperation(l,f,y){return(0,d.Z)(function*(){yield l._updateTokensIfNecessary(y,!0);const b=fu(y);return new En({user:l,providerId:b,_tokenResponse:y,operationType:f})})()}}function fu(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function gn(){return(gn=(0,d.Z)(function*(g){var l;const f=ot(g);if(yield f._initializationPromise,null!==(l=f.currentUser)&&void 0!==l&&l.isAnonymous)return new En({user:f.currentUser,providerId:null,operationType:"signIn"});const y=yield No(f,{returnSecureToken:!0}),b=yield En._fromIdTokenResponse(f,"signIn",y,!0);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class ss extends O.ZR{constructor(l,f,y,b){var S;super(f.code,f.message),this.operationType=y,this.user=b,Object.setPrototypeOf(this,ss.prototype),this.customData={appName:l.name,tenantId:null!==(S=l.tenantId)&&void 0!==S?S:void 0,_serverResponse:f.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(l,f,y,b){return new ss(l,f,y,b)}}function Xn(g,l,f,y){return("reauthenticate"===l?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?ss._fromErrorAndOperation(g,S,l,y):S})}function xo(g){return new Set(g.map(({providerId:l})=>l).filter(l=>!!l))}function _a(){return _a=(0,d.Z)(function*(g,l){const f=(0,O.m9)(g);yield Oo(!0,f,l);const{providerUserInfo:y}=yield function pe(g,l){return ie.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[l]}),b=xo(y||[]);return f.providerData=f.providerData.filter(S=>b.has(S.providerId)),b.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),_a.apply(this,arguments)}function tc(g,l){return os.apply(this,arguments)}function os(){return(os=(0,d.Z)(function*(g,l,f=!1){const y=yield Hn(g,l._linkToIdToken(g.auth,yield g.getIdToken()),f);return En._forOperation(g,"link",y)})).apply(this,arguments)}function Oo(g,l,f){return nc.apply(this,arguments)}function nc(){return(nc=(0,d.Z)(function*(g,l,f){yield Fe(l);const b=!1===g?"provider-already-linked":"no-such-provider";ue(xo(l.providerData).has(f)===g,l.auth,b)})).apply(this,arguments)}function wn(g,l){return gu.apply(this,arguments)}function gu(){return(gu=(0,d.Z)(function*(g,l,f=!1){const{auth:y}=g,b="reauthenticate";try{const S=yield Hn(g,Xn(y,b,l,g),f);ue(S.idToken,y,"internal-error");const U=rn(S.idToken);ue(U,y,"internal-error");const{sub:Z}=U;return ue(g.uid===Z,y,"user-mismatch"),En._forOperation(g,b,S)}catch(S){throw"auth/user-not-found"===S?.code&&Wt(y,"user-mismatch"),S}})).apply(this,arguments)}function rc(g,l){return mu.apply(this,arguments)}function mu(){return(mu=(0,d.Z)(function*(g,l,f=!1){const y="signIn",b=yield Xn(g,y,l),S=yield En._fromIdTokenResponse(g,y,b);return f||(yield g._updateCurrentUser(S.user)),S})).apply(this,arguments)}function as(g,l){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(g,l){return rc(ot(g),l)})).apply(this,arguments)}function xi(g,l){return ya.apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(g,l){const f=(0,O.m9)(g);return yield Oo(!1,f,l.providerId),tc(f,l)})).apply(this,arguments)}function _u(g,l){return ic.apply(this,arguments)}function ic(){return(ic=(0,d.Z)(function*(g,l){return wn((0,O.m9)(g),l)})).apply(this,arguments)}function Tl(){return(Tl=(0,d.Z)(function*(g,l){return cn(g,"POST","/v1/accounts:signInWithCustomToken",Dt(g,l))})).apply(this,arguments)}function yu(){return yu=(0,d.Z)(function*(g,l){const f=ot(g),y=yield function up(g,l){return Tl.apply(this,arguments)}(f,{token:l,returnSecureToken:!0}),b=yield En._fromIdTokenResponse(f,"signIn",y);return yield f._updateCurrentUser(b.user),b}),yu.apply(this,arguments)}class ko{constructor(l,f){this.factorId=l,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(l,f){return"phoneInfo"in f?Lo._fromServerResponse(l,f):"totpInfo"in f?Sl._fromServerResponse(l,f):Wt(l,"internal-error")}}class Lo extends ko{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,f){return new Lo(f)}}class Sl extends ko{constructor(l){super("totp",l)}static _fromServerResponse(l,f){return new Sl(f)}}function Oi(g,l,f){var y;ue((null===(y=f.url)||void 0===y?void 0:y.length)>0,g,"invalid-continue-uri"),ue(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),l.continueUrl=f.url,l.dynamicLinkDomain=f.dynamicLinkDomain,l.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ue(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),l.iOSBundleId=f.iOS.bundleId),f.android&&(ue(f.android.packageName.length>0,g,"missing-android-pkg-name"),l.androidInstallApp=f.android.installApp,l.androidMinimumVersionCode=f.android.minimumVersion,l.androidPackageName=f.android.packageName)}function vu(){return vu=(0,d.Z)(function*(g,l,f){var y;const b=ot(g),S={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=b._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const U=yield es(b,S,"getOobCode",!0);f&&Oi(b,U,f),yield fr(b,U)}else f&&Oi(b,S,f),yield fr(b,S).catch(function(){var U=(0,d.Z)(function*(Z){if("auth/missing-recaptcha-token"!==Z.code)return Promise.reject(Z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ge=yield es(b,S,"getOobCode",!0);f&&Oi(b,ge,f),yield fr(b,ge)}});return function(Z){return U.apply(this,arguments)}}())}),vu.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(g,l,f){yield Ws((0,O.m9)(g),{oobCode:l,newPassword:f})})).apply(this,arguments)}function Fo(){return Fo=(0,d.Z)(function*(g,l){yield function ns(g,l){return sn.apply(this,arguments)}((0,O.m9)(g),{oobCode:l})}),Fo.apply(this,arguments)}function Uo(g,l){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,d.Z)(function*(g,l){const f=(0,O.m9)(g),y=yield Ws(f,{oobCode:l}),b=y.requestType;switch(ue(b,f,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(y.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(y.mfaInfo,f,"internal-error");default:ue(y.email,f,"internal-error")}let S=null;return y.mfaInfo&&(S=ko._fromServerResponse(ot(f),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:S},operation:b}})).apply(this,arguments)}function wu(){return(wu=(0,d.Z)(function*(g,l){const{data:f}=yield Uo((0,O.m9)(g),l);return f.email})).apply(this,arguments)}function Cu(){return Cu=(0,d.Z)(function*(g,l,f){var y;const b=ot(g),S={returnSecureToken:!0,email:l,password:f,clientType:"CLIENT_TYPE_WEB"};let U;if(null!==(y=b._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const de=yield es(b,S,"signUpPassword");U=No(b,de)}else U=No(b,S).catch(function(){var de=(0,d.Z)(function*(De){if("auth/missing-recaptcha-token"===De.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Me=yield es(b,S,"signUpPassword");return No(b,Me)}return Promise.reject(De)});return function(De){return de.apply(this,arguments)}}());const Z=yield U.catch(de=>Promise.reject(de)),ge=yield En._fromIdTokenResponse(b,"signIn",Z);return yield b._updateCurrentUser(ge.user),ge}),Cu.apply(this,arguments)}function qs(){return qs=(0,d.Z)(function*(g,l,f){var y;const b=ot(g),S={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};function U(Z,ge){ue(ge.handleCodeInApp,b,"argument-error"),ge&&Oi(b,Z,ge)}if(null!==(y=b._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const Z=yield es(b,S,"getOobCode",!0);U(Z,f),yield oi(b,Z)}else U(S,f),yield oi(b,S).catch(function(){var Z=(0,d.Z)(function*(ge){if("auth/missing-recaptcha-token"!==ge.code)return Promise.reject(ge);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield es(b,S,"getOobCode",!0);U(de,f),yield oi(b,de)}});return function(ge){return Z.apply(this,arguments)}}())}),qs.apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(g,l,f){const y=(0,O.m9)(g),b=en.credentialWithLink(l,f||Un());return ue(b._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),as(y,b)})).apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:createAuthUri",Dt(g,l))})).apply(this,arguments)}function Qs(){return Qs=(0,d.Z)(function*(g,l){const y={identifier:l,continueUri:Mt()?Un():"http://localhost"},{signinMethods:b}=yield function cc(g,l){return Ys.apply(this,arguments)}((0,O.m9)(g),y);return b||[]}),Qs.apply(this,arguments)}function gr(){return gr=(0,d.Z)(function*(g,l){const f=(0,O.m9)(g),b={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};l&&Oi(f.auth,b,l);const{email:S}=yield function Ka(g,l){return Ai.apply(this,arguments)}(f.auth,b);S!==g.email&&(yield g.reload())}),gr.apply(this,arguments)}function uc(){return uc=(0,d.Z)(function*(g,l,f){const y=(0,O.m9)(g),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:l};f&&Oi(y.auth,S,f);const{email:U}=yield function ip(g,l){return pa.apply(this,arguments)}(y.auth,S);U!==g.email&&(yield g.reload())}),uc.apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(g,l){return jt(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Vn(){return Vn=(0,d.Z)(function*(g,{displayName:l,photoURL:f}){if(void 0===l&&void 0===f)return;const y=(0,O.m9)(g),S={idToken:yield y.getIdToken(),displayName:l,photoUrl:f,returnSecureToken:!0},U=yield Hn(y,function Ft(g,l){return Js.apply(this,arguments)}(y.auth,S));y.displayName=U.displayName||null,y.photoURL=U.photoUrl||null;const Z=y.providerData.find(({providerId:ge})=>"password"===ge);Z&&(Z.displayName=y.displayName,Z.photoURL=y.photoURL),yield y._updateTokensIfNecessary(U)}),Vn.apply(this,arguments)}function cs(g,l,f){return In.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(g,l,f){const{auth:y}=g,S={idToken:yield g.getIdToken(),returnSecureToken:!0};l&&(S.email=l),f&&(S.password=f);const U=yield Hn(g,Nr(y,S));yield g._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class us{constructor(l,f,y={}){this.isNewUser=l,this.providerId=f,this.profile=y}}class Du extends us{constructor(l,f,y,b){super(l,f,y),this.username=b}}class eo extends us{constructor(l,f){super(l,"facebook.com",f)}}class ch extends Du{constructor(l,f){super(l,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Tu extends us{constructor(l,f){super(l,"google.com",f)}}class fp extends Du{constructor(l,f,y){super(l,"twitter.com",f,y)}}function pp(g){const{user:l,_tokenResponse:f}=g;return l.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function xl(g){var l,f;if(!g)return null;const{providerId:y}=g,b=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},S=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!y&&g?.idToken){const U=null===(f=null===(l=rn(g.idToken))||void 0===l?void 0:l.firebase)||void 0===f?void 0:f.sign_in_provider;if(U)return new us(S,"anonymous"!==U&&"custom"!==U?U:null)}if(!y)return null;switch(y){case"facebook.com":return new eo(S,b);case"github.com":return new ch(S,b);case"google.com":return new Tu(S,b);case"twitter.com":return new fp(S,b,g.screenName||null);case"custom":case"anonymous":return new us(S,null);default:return new us(S,y,b)}}(f)}class ls{constructor(l,f,y){this.type=l,this.credential=f,this.auth=y}static _fromIdtoken(l,f){return new ls("enroll",l,f)}static _fromMfaPendingCredential(l){return new ls("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var f,y;if(l?.multiFactorSession){if(null!==(f=l.multiFactorSession)&&void 0!==f&&f.pendingCredential)return ls._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(y=l.multiFactorSession)&&void 0!==y&&y.idToken)return ls._fromIdtoken(l.multiFactorSession.idToken)}return null}}class kl{constructor(l,f,y){this.session=l,this.hints=f,this.signInResolver=y}static _fromError(l,f){const y=ot(l),b=f.customData._serverResponse,S=(b.mfaInfo||[]).map(Z=>ko._fromServerResponse(y,Z));ue(b.mfaPendingCredential,y,"internal-error");const U=ls._fromMfaPendingCredential(b.mfaPendingCredential);return new kl(U,S,function(){var Z=(0,d.Z)(function*(ge){const de=yield ge._process(y,U);delete b.mfaInfo,delete b.mfaPendingCredential;const De=Object.assign(Object.assign({},b),{idToken:de.idToken,refreshToken:de.refreshToken});switch(f.operationType){case"signIn":const Me=yield En._fromIdTokenResponse(y,f.operationType,De);return yield y._updateCurrentUser(Me.user),Me;case"reauthenticate":return ue(f.user,y,"internal-error"),En._forOperation(f.user,f.operationType,De);default:Wt(y,"internal-error")}});return function(ge){return Z.apply(this,arguments)}}())}resolveSignIn(l){var f=this;return(0,d.Z)(function*(){return f.signInResolver(l)})()}}class lc{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(y=>ko._fromServerResponse(l.auth,y)))})}static _fromUser(l){return new lc(l)}getSession(){var l=this;return(0,d.Z)(function*(){return ls._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,f){var y=this;return(0,d.Z)(function*(){const b=l,S=yield y.getSession(),U=yield Hn(y.user,b._process(y.user.auth,S,f));return yield y.user._updateTokensIfNecessary(U),y.user.reload()})()}unenroll(l){var f=this;return(0,d.Z)(function*(){const y="string"==typeof l?l:l.uid,b=yield f.user.getIdToken();try{const S=yield Hn(f.user,function Wr(g,l){return jt(g,"POST","/v2/accounts/mfaEnrollment:withdraw",Dt(g,l))}(f.user.auth,{idToken:b,mfaEnrollmentId:y}));f.enrolledFactors=f.enrolledFactors.filter(({uid:U})=>U!==y),yield f.user._updateTokensIfNecessary(S),yield f.user.reload()}catch(S){throw S}})()}}const Cn=new WeakMap,Li="__sak";class ci{constructor(l,f){this.storageRetriever=l,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Li,"1"),this.storage.removeItem(Li),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,f){return this.storage.setItem(l,JSON.stringify(f)),Promise.resolve()}_get(l){const f=this.storage.getItem(l);return Promise.resolve(f?JSON.parse(f):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bo=(()=>{class g extends ci{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,y)=>this.onStorageEvent(f,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ll(){const g=(0,O.z$)();return nu(g)||$s(g)}()&&function Pr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nh(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const y of Object.keys(this.listeners)){const b=this.storage.getItem(y),S=this.localCache[y];b!==S&&f(y,S,b)}}onStorageEvent(f,y=!1){if(!f.key)return void this.forAllChangedKeys((Z,ge,de)=>{this.notifyListeners(Z,de)});const b=f.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(b);if(f.newValue!==Z)null!==f.newValue?this.storage.setItem(b,f.newValue):this.storage.removeItem(b);else if(this.localCache[b]===f.newValue&&!y)return}const S=()=>{const Z=this.storage.getItem(b);!y&&this.localCache[b]===Z||this.notifyListeners(b,Z)},U=this.storage.getItem(b);!function th(){return(0,O.w1)()&&10===document.documentMode}()||U===f.newValue||f.newValue===f.oldValue?S():setTimeout(S,10)}notifyListeners(f,y){this.localCache[f]=y;const b=this.listeners[f];if(b)for(const S of Array.from(b))S(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,y,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:y,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,y){var b=()=>super._set,S=this;return(0,d.Z)(function*(){yield b().call(S,f,y),S.localCache[f]=JSON.stringify(y)})()}_get(f){var y=()=>super._get,b=this;return(0,d.Z)(function*(){const S=yield y().call(b,f);return b.localCache[f]=JSON.stringify(S),S})()}_remove(f){var y=()=>super._remove,b=this;return(0,d.Z)(function*(){yield y().call(b,f),delete b.localCache[f]})()}}return g.type="LOCAL",g})(),xn=(()=>{class g extends ci{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,y){}_removeListener(f,y){}}return g.type="SESSION",g})();let to=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const y=this.receivers.find(S=>S.isListeningto(f));if(y)return y;const b=new g(f);return this.receivers.push(b),b}isListeningto(f){return this.eventTarget===f}handleEvent(f){var y=this;return(0,d.Z)(function*(){const b=f,{eventId:S,eventType:U,data:Z}=b.data,ge=y.handlersMap[U];if(!ge?.size)return;b.ports[0].postMessage({status:"ack",eventId:S,eventType:U});const de=Array.from(ge).map(function(){var Me=(0,d.Z)(function*(rt){return rt(b.origin,Z)});return function(rt){return Me.apply(this,arguments)}}()),De=yield function Fl(g){return Promise.all(g.map(function(){var l=(0,d.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(y){return{fulfilled:!1,reason:y}}});return function(f){return l.apply(this,arguments)}}()))}(de);b.ports[0].postMessage({status:"done",eventId:S,eventType:U,response:De})})()}_subscribe(f,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(y)}_unsubscribe(f,y){this.handlersMap[f]&&y&&this.handlersMap[f].delete(y),(!y||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function mr(g="",l=10){let f="";for(let y=0;y<l;y++)f+=Math.floor(10*Math.random());return g+f}class hh{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,f,y=50){var b=this;return(0,d.Z)(function*(){const S=typeof MessageChannel<"u"?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let U,Z;return new Promise((ge,de)=>{const De=mr("",20);S.port1.start();const Me=setTimeout(()=>{de(new Error("unsupported_event"))},y);Z={messageChannel:S,onMessage(rt){const Kt=rt;if(Kt.data.eventId===De)switch(Kt.data.status){case"ack":clearTimeout(Me),U=setTimeout(()=>{de(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),ge(Kt.data.response);break;default:clearTimeout(Me),clearTimeout(U),de(new Error("invalid_response"))}}},b.handlers.add(Z),S.port1.addEventListener("message",Z.onMessage),b.target.postMessage({eventType:l,eventId:De,data:f},[S.port2])}).finally(()=>{Z&&b.removeMessageHandler(Z)})})()}}function on(){return window}function Ul(){return typeof on().WorkerGlobalScope<"u"&&"function"==typeof on().importScripts}function pc(){return(pc=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ru="firebaseLocalStorageDb",bn="firebaseLocalStorage",Bl="fbase_key";class Fi{constructor(l){this.request=l}toPromise(){return new Promise((l,f)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ir(g,l){return g.transaction([bn],l?"readwrite":"readonly").objectStore(bn)}function no(){const g=indexedDB.open(Ru,1);return new Promise((l,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const y=g.result;try{y.createObjectStore(bn,{keyPath:Bl})}catch(b){f(b)}}),g.addEventListener("success",(0,d.Z)(function*(){const y=g.result;y.objectStoreNames.contains(bn)?l(y):(y.close(),yield function er(){const g=indexedDB.deleteDatabase(Ru);return new Fi(g).toPromise()}(),l(yield no()))}))})}function Pu(g,l,f){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,d.Z)(function*(g,l,f){const y=Ir(g,!0).put({[Bl]:l,value:f});return new Fi(y).toPromise()})).apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(g,l){const f=Ir(g,!1).get(l),y=yield new Fi(f).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Et(g,l){const f=Ir(g,!0).delete(l);return new Fi(f).toPromise()}const ro=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,d.Z)(function*(){return f.db||(f.db=yield no()),f.db})()}_withRetries(f){var y=this;return(0,d.Z)(function*(){let b=0;for(;;)try{const S=yield y._openDb();return yield f(S)}catch(S){if(b++>3)throw S;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,d.Z)(function*(){return Ul()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,d.Z)(function*(){f.receiver=to._getInstance(function jl(){return Ul()?self:null}()),f.receiver._subscribe("keyChanged",function(){var y=(0,d.Z)(function*(b,S){return{keyProcessed:(yield f._poll()).includes(S.key)}});return function(b,S){return y.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var y=(0,d.Z)(function*(b,S){return["keyChanged"]});return function(b,S){return y.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,d.Z)(function*(){var y,b;if(f.activeServiceWorker=yield function fc(){return pc.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new hh(f.activeServiceWorker);const S=yield f.sender._send("ping",{},800);S&&null!==(y=S[0])&&void 0!==y&&y.fulfilled&&null!==(b=S[0])&&void 0!==b&&b.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var y=this;return(0,d.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Mu(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:f},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const f=yield no();return yield Pu(f,Li,"1"),yield Et(f,Li),!0}catch{}return!1})()}_withPendingWrite(f){var y=this;return(0,d.Z)(function*(){y.pendingWrites++;try{yield f()}finally{y.pendingWrites--}})()}_set(f,y){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(S=>Pu(S,f,y)),b.localCache[f]=y,b.notifyServiceWorker(f)}))})()}_get(f){var y=this;return(0,d.Z)(function*(){const b=yield y._withRetries(S=>function xt(g,l){return On.apply(this,arguments)}(S,f));return y.localCache[f]=b,b})()}_remove(f){var y=this;return(0,d.Z)(function*(){return y._withPendingWrite((0,d.Z)(function*(){return yield y._withRetries(b=>Et(b,f)),delete y.localCache[f],y.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,d.Z)(function*(){const y=yield f._withRetries(U=>{const Z=Ir(U,!1).getAll();return new Fi(Z).toPromise()});if(!y)return[];if(0!==f.pendingWrites)return[];const b=[],S=new Set;for(const{fbase_key:U,value:Z}of y)S.add(U),JSON.stringify(f.localCache[U])!==JSON.stringify(Z)&&(f.notifyListeners(U,Z),b.push(U));for(const U of Object.keys(f.localCache))f.localCache[U]&&!S.has(U)&&(f.notifyListeners(U,null),b.push(U));return b})()}notifyListeners(f,y){this.localCache[f]=y;const b=this.listeners[f];if(b)for(const S of Array.from(b))S(y)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})(),Bt=1e12;class Ho{constructor(l){this.auth=l,this.counter=Bt,this._widgets=new Map}render(l,f){const y=this.counter;return this._widgets.set(y,new so(l,this.auth.name,f||{})),this.counter++,y}reset(l){var f;const y=l||Bt;null===(f=this._widgets.get(y))||void 0===f||f.delete(),this._widgets.delete(y)}getResponse(l){var f;return(null===(f=this._widgets.get(l||Bt))||void 0===f?void 0:f.getResponse())||""}execute(l){var f=this;return(0,d.Z)(function*(){var y;return null===(y=f._widgets.get(l||Bt))||void 0===y||y.execute(),""})()}}class so{constructor(l,f,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof l?document.getElementById(l):l;ue(b,"argument-error",{appName:f}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xr(g){const l=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<g;y++)l.push(f.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":f}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hl=pn("rcb"),Vl=new jn(3e4,6e4);class hs{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=on().grecaptcha)||void 0===l||!l.render)}load(l,f=""){return ue(function gc(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),l,"argument-error"),this.shouldResolveImmediately(f)&&ou(on().grecaptcha)?Promise.resolve(on().grecaptcha):new Promise((y,b)=>{const S=on().setTimeout(()=>{b(Gt(l,"network-request-failed"))},Vl.get());on()[Hl]=()=>{on().clearTimeout(S),delete on()[Hl];const Z=on().grecaptcha;if(!Z||!ou(Z))return void b(Gt(l,"internal-error"));const ge=Z.render;Z.render=(de,De)=>{const Me=ge(de,De);return this.counter++,Me},this.hostLanguage=f,y(Z)},It(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Hl,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(S),b(Gt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var f;return!(null===(f=on().grecaptcha)||void 0===f||!f.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gh{load(l){return(0,d.Z)(function*(){return new Ho(l)})()}clearedOneInstance(){}}const Vo="recaptcha",Hi={theme:"light",type:"image"};class kv{constructor(l,f=Object.assign({},Hi),y){this.parameters=f,this.type=Vo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ot(y),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof l?document.getElementById(l):l;ue(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gh:new hs,this.validateStartingState()}verify(){var l=this;return(0,d.Z)(function*(){l.assertNotDestroyed();const f=yield l.render(),y=l.getAssertedRecaptcha();return y.getResponse(f)||new Promise(S=>{const U=Z=>{Z&&(l.tokenChangeListeners.delete(U),S(Z))};l.tokenChangeListeners.add(U),l.isInvisible&&y.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return f=>{if(this.tokenChangeListeners.forEach(y=>y(f)),"function"==typeof l)l(f);else if("string"==typeof l){const y=on()[l];"function"==typeof y&&y(f)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,d.Z)(function*(){if(yield l.init(),!l.widgetId){let f=l.container;if(!l.isInvisible){const y=document.createElement("div");f.appendChild(y),f=y}l.widgetId=l.getAssertedRecaptcha().render(f,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,d.Z)(function*(){ue(Mt()&&!Ul(),l.auth,"internal-error"),yield function _p(){let g=null;return new Promise(l=>{"complete"!==document.readyState?(g=()=>l(),window.addEventListener("load",g)):l()}).catch(l=>{throw g&&window.removeEventListener("load",g),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const f=yield function lr(g){return su.apply(this,arguments)}(l.auth);ue(f,l.auth,"internal-error"),l.parameters.sitekey=f})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $l{constructor(l,f){this.verificationId=l,this.onConfirmation=f}confirm(l){const f=rs._fromVerification(this.verificationId,l);return this.onConfirmation(f)}}function Wl(){return(Wl=(0,d.Z)(function*(g,l,f){const y=ot(g),b=yield ps(y,l,(0,O.m9)(f));return new $l(b,S=>as(y,S))})).apply(this,arguments)}function fs(){return(fs=(0,d.Z)(function*(g,l,f){const y=(0,O.m9)(g);yield Oo(!1,y,"phone");const b=yield ps(y.auth,l,(0,O.m9)(f));return new $l(b,S=>xi(y,S))})).apply(this,arguments)}function Or(){return(Or=(0,d.Z)(function*(g,l,f){const y=(0,O.m9)(g),b=yield ps(y.auth,l,(0,O.m9)(f));return new $l(b,S=>_u(y,S))})).apply(this,arguments)}function ps(g,l,f){return gs.apply(this,arguments)}function gs(){return gs=(0,d.Z)(function*(g,l,f){var y;const b=yield f.verify();try{let S;if(ue("string"==typeof b,g,"argument-error"),ue(f.type===Vo,g,"argument-error"),S="string"==typeof l?{phoneNumber:l}:l,"session"in S){const U=S.session;if("phoneNumber"in S)return ue("enroll"===U.type,g,"internal-error"),(yield function mp(g,l){return jt(g,"POST","/v2/accounts/mfaEnrollment:start",Dt(g,l))}(g,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{ue("signin"===U.type,g,"internal-error");const Z=(null===(y=S.multiFactorHint)||void 0===y?void 0:y.uid)||S.multiFactorUid;return ue(Z,g,"missing-multi-factor-info"),(yield function _t(g,l){return jt(g,"POST","/v2/accounts/mfaSignIn:start",Dt(g,l))}(g,{mfaPendingCredential:U.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield function lu(g,l){return Ri.apply(this,arguments)}(g,{phoneNumber:S.phoneNumber,recaptchaToken:b});return U}}finally{f._reset()}}),gs.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(g,l){yield tc((0,O.m9)(g),l)})).apply(this,arguments)}let ms=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=ot(f)}verifyPhoneNumber(f,y){return ps(this.auth,f,(0,O.m9)(y))}static credential(f,y){return rs._fromVerification(f,y)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:y,temporaryProof:b}=f;return y&&b?rs._fromTokenResponse(y,b):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function zr(g,l){return l?Rn(l):(ue(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Cr extends hr{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return qt(l,this._buildIdpRequest())}_linkToIdToken(l,f){return qt(l,this._buildIdpRequest(f))}_getReauthenticationResolver(l){return qt(l,this._buildIdpRequest())}_buildIdpRequest(l){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(f.idToken=l),f}}function Nu(g){return rc(g.auth,new Cr(g),g.bypassAuthState)}function Da(g){const{auth:l,user:f}=g;return ue(f,l,"internal-error"),wn(f,new Cr(g),g.bypassAuthState)}function $o(g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(g){const{auth:l,user:f}=g;return ue(f,l,"internal-error"),tc(f,new Cr(g),g.bypassAuthState)})).apply(this,arguments)}class _s{constructor(l,f,y,b,S=!1){this.auth=l,this.resolver=y,this.user=b,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var l=this;return new Promise(function(){var f=(0,d.Z)(function*(y,b){l.pendingPromise={resolve:y,reject:b};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(S){l.reject(S)}});return function(y,b){return f.apply(this,arguments)}}())}onAuthEvent(l){var f=this;return(0,d.Z)(function*(){const{urlResponse:y,sessionId:b,postBody:S,tenantId:U,error:Z,type:ge}=l;if(Z)return void f.reject(Z);const de={auth:f.auth,requestUri:y,sessionId:b,tenantId:U||void 0,postBody:S||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(ge)(de))}catch(De){f.reject(De)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Nu;case"linkViaPopup":case"linkViaRedirect":return $o;case"reauthViaPopup":case"reauthViaRedirect":return Da;default:Wt(this.auth,"internal-error")}}resolve(l){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _h=new jn(2e3,1e4);function xu(){return(xu=(0,d.Z)(function*(g,l,f){const y=ot(g);$e(g,l,Gs);const b=zr(y,f);return new Wo(y,"signInViaPopup",l,b).executeNotNull()})).apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(g,l,f){const y=(0,O.m9)(g);$e(y.auth,l,Gs);const b=zr(y.auth,f);return new Wo(y.auth,"reauthViaPopup",l,b,y).executeNotNull()})).apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(g,l,f){const y=(0,O.m9)(g);$e(y.auth,l,Gs);const b=zr(y.auth,f);return new Wo(y.auth,"linkViaPopup",l,b,y).executeNotNull()})).apply(this,arguments)}let Wo=(()=>{class g extends _s{constructor(f,y,b,S,U){super(f,y,S,U),this.provider=b,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,d.Z)(function*(){const y=yield f.execute();return ue(y,f.auth,"internal-error"),y})()}onExecution(){var f=this;return(0,d.Z)(function*(){Zt(1===f.filter.length,"Popup operations only handle one event");const y=mr();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],y),f.authWindow.associatedEvent=y,f.resolver._originValidation(f.auth).catch(b=>{f.reject(b)}),f.resolver._isIframeWebStorageSupported(f.auth,b=>{b||f.reject(Gt(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var y,b;this.pollId=null!==(b=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,_h.get())};f()}}return g.currentPopupAction=null,g})();const ys="pendingRedirect",di=new Map;class vh extends _s{constructor(l,f,y=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,y),this.eventId=null}execute(){var l=()=>super.execute,f=this;return(0,d.Z)(function*(){let y=di.get(f.auth._key());if(!y){try{const S=(yield function oo(g,l){return Aa.apply(this,arguments)}(f.resolver,f.auth))?yield l().call(f):null;y=()=>Promise.resolve(S)}catch(b){y=()=>Promise.reject(b)}di.set(f.auth._key(),y)}return f.bypassAuthState||di.set(f.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(l){var f=()=>super.onAuthEvent,y=this;return(0,d.Z)(function*(){if("signInViaRedirect"===l.type)return f().call(y,l);if("unknown"!==l.type){if(l.eventId){const b=yield y.auth._redirectUserForId(l.eventId);if(b)return y.user=b,f().call(y,l);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Aa(){return(Aa=(0,d.Z)(function*(g,l){const f=E(l),y=yc(g);if(!(yield y._isAvailable()))return!1;const b="true"===(yield y._get(f));return yield y._remove(f),b})).apply(this,arguments)}function Eh(g,l){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(g,l){return yc(g)._set(E(l),"true")})).apply(this,arguments)}function _c(g,l){di.set(g._key(),l)}function yc(g){return Rn(g._redirectPersistence)}function E(g){return Si(ys,g.config.apiKey,g.name)}function C(g,l,f){return function A(g,l,f){return x.apply(this,arguments)}(g,l,f)}function x(){return(x=(0,d.Z)(function*(g,l,f){const y=ot(g);$e(g,l,Gs),yield y._initializationPromise;const b=zr(y,f);return yield Eh(b,y),b._openRedirect(y,l,"signInViaRedirect")})).apply(this,arguments)}function W(g,l,f){return function Y(g,l,f){return ae.apply(this,arguments)}(g,l,f)}function ae(){return(ae=(0,d.Z)(function*(g,l,f){const y=(0,O.m9)(g);$e(y.auth,l,Gs),yield y.auth._initializationPromise;const b=zr(y.auth,f);yield Eh(b,y.auth);const S=yield Zr(y);return b._openRedirect(y.auth,l,"reauthViaRedirect",S)})).apply(this,arguments)}function Re(g,l,f){return function Te(g,l,f){return Be.apply(this,arguments)}(g,l,f)}function Be(){return(Be=(0,d.Z)(function*(g,l,f){const y=(0,O.m9)(g);$e(y.auth,l,Gs),yield y.auth._initializationPromise;const b=zr(y.auth,f);yield Oo(!1,y,l.providerId),yield Eh(b,y.auth);const S=yield Zr(y);return b._openRedirect(y.auth,l,"linkViaRedirect",S)})).apply(this,arguments)}function tt(){return(tt=(0,d.Z)(function*(g,l){return yield ot(g)._initializationPromise,_r(g,l,!1)})).apply(this,arguments)}function _r(g,l){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(g,l,f=!1){const y=ot(g),b=zr(y,l),U=yield new vh(y,b,f).execute();return U&&!f&&(delete U.user._redirectEventId,yield y._persistUserIfCurrent(U.user),yield y._setRedirectUser(null,l)),U})).apply(this,arguments)}function Zr(g){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(g){const l=mr(`${g.uid}:::`);return g._redirectEventId=l,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),l})).apply(this,arguments)}class Wn{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let f=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(l,y)&&(f=!0,this.sendToConsumer(l,y),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function zn(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ou(g);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=l,f=!0)),f}sendToConsumer(l,f){var y;if(l.error&&!Ou(l)){const b=(null===(y=l.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";f.onError(Gt(this.auth,b))}else f.onAuthEvent(l)}isEventForConsumer(l,f){const y=null===f.eventId||!!l.eventId&&l.eventId===f.eventId;return f.filter.includes(l.type)&&y}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fi(l))}saveEventToCache(l){this.cachedEventUids.add(fi(l)),this.lastProcessedEventTime=Date.now()}}function fi(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(l=>l).join("-")}function Ou({type:g,error:l}){return"unknown"===g&&"auth/no-auth-event"===l?.code}function Bm(g){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,d.Z)(function*(g,l={}){return jt(g,"GET","/v1/projects",l)})).apply(this,arguments)}const Lv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vi=/^https?/;function Gl(){return(Gl=(0,d.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:l}=yield Bm(g);for(const f of l)try{if(Ih(f))return}catch{}Wt(g,"unauthorized-domain")})).apply(this,arguments)}function Ih(g){const l=Un(),{protocol:f,hostname:y}=new URL(l);if(g.startsWith("chrome-extension://")){const U=new URL(g);return""===U.hostname&&""===y?"chrome-extension:"===f&&g.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===f&&U.hostname===y}if(!Vi.test(f))return!1;if(Lv.test(g))return y===g;const b=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(y)}const zo=new jn(3e4,6e4);function yp(){const g=on().___jsl;if(g?.H)for(const l of Object.keys(g.H))if(g.H[l].r=g.H[l].r||[],g.H[l].L=g.H[l].L||[],g.H[l].r=[...g.H[l].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let Zl=null;const qr=new jn(5e3,15e3),vp="__/auth/iframe",wc="emulator/auth/iframe",yr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ch=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bh(g){const l=g.config;ue(l.authDomain,g,"auth-domain-config-required");const f=l.emulator?ct(l,wc):`https://${g.config.authDomain}/${vp}`,y={apiKey:l.apiKey,appName:g.name,v:te.SDK_VERSION},b=Ch.get(g.config.apiHost);b&&(y.eid=b);const S=g._getFrameworks();return S.length&&(y.fw=S.join(",")),`${f}?${(0,O.xO)(y).slice(1)}`}function Lu(){return Lu=(0,d.Z)(function*(g){const l=yield function Uv(g){return Zl=Zl||function Fv(g){return new Promise((l,f)=>{var y,b,S;function U(){yp(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{yp(),f(Gt(g,"network-request-failed"))},timeout:zo.get()})}if(null!==(b=null===(y=on().gapi)||void 0===y?void 0:y.iframes)&&void 0!==b&&b.Iframe)l(gapi.iframes.getContext());else{if(null===(S=on().gapi)||void 0===S||!S.load){const Z=pn("iframefcb");return on()[Z]=()=>{gapi.load?U():f(Gt(g,"network-request-failed"))},It(`https://apis.google.com/js/api.js?onload=${Z}`).catch(ge=>f(ge))}U()}}).catch(l=>{throw Zl=null,l})}(g),Zl}(g),f=on().gapi;return ue(f,g,"internal-error"),l.open({where:document.body,url:bh(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yr,dontclear:!0},y=>new Promise(function(){var b=(0,d.Z)(function*(S,U){yield y.restyle({setHideOnLeave:!1});const Z=Gt(g,"network-request-failed"),ge=on().setTimeout(()=>{U(Z)},qr.get());function de(){on().clearTimeout(ge),S(y)}y.ping(de).then(de,()=>{U(Z)})});return function(S,U){return b.apply(this,arguments)}}()))}),Lu.apply(this,arguments)}const Vm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wp{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Yl="__/auth/handler",zm="emulator/auth/handler",Ip=encodeURIComponent("fac");function Uu(g,l,f,y,b,S){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,d.Z)(function*(g,l,f,y,b,S){ue(g.config.authDomain,g,"auth-domain-config-required"),ue(g.config.apiKey,g,"invalid-api-key");const U={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:y,v:te.SDK_VERSION,eventId:b};if(l instanceof Gs){l.setDefaultLanguage(g.languageCode),U.providerId=l.providerId||"",(0,O.xb)(l.getCustomParameters())||(U.customParameters=JSON.stringify(l.getCustomParameters()));for(const[De,Me]of Object.entries(S||{}))U[De]=Me}if(l instanceof Xa){const De=l.getScopes().filter(Me=>""!==Me);De.length>0&&(U.scopes=De.join(","))}g.tenantId&&(U.tid=g.tenantId);const Z=U;for(const De of Object.keys(Z))void 0===Z[De]&&delete Z[De];const ge=yield g._getAppCheckToken(),de=ge?`#${Ip}=${encodeURIComponent(ge)}`:"";return`${function Kr({config:g}){return g.emulator?ct(g,zm):`https://${g.authDomain}/${Yl}`}(g)}?${(0,O.xO)(Z).slice(1)}${de}`})).apply(this,arguments)}const Yr="webStorageSupport",Ma=class jv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xn,this._completeRedirectFn=_r,this._overrideRedirectResult=_c}_openPopup(l,f,y,b){var S=this;return(0,d.Z)(function*(){var U;Zt(null===(U=S.eventManagers[l._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const Z=yield Uu(l,f,y,Un(),b);return function Fu(g,l,f,y=500,b=600){const S=Math.max((window.screen.availHeight-b)/2,0).toString(),U=Math.max((window.screen.availWidth-y)/2,0).toString();let Z="";const ge=Object.assign(Object.assign({},Vm),{width:y.toString(),height:b.toString(),top:S,left:U}),de=(0,O.z$)().toLowerCase();f&&(Z=ur(de)?"_blank":f),Xd(de)&&(l=l||"http://localhost",ge.scrollbars="yes");const De=Object.entries(ge).reduce((rt,[Kt,Lr])=>`${rt}${Kt}=${Lr},`,"");if(function ru(g=(0,O.z$)()){var l;return $s(g)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(de)&&"_self"!==Z)return function Wm(g,l){const f=document.createElement("a");f.href=g,f.target=l;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(y)}(l||"",Z),new wp(null);const Me=window.open(l||"",Z,De);ue(Me,g,"popup-blocked");try{Me.focus()}catch{}return new wp(Me)}(l,Z,mr())})()}_openRedirect(l,f,y,b){var S=this;return(0,d.Z)(function*(){return yield S._originValidation(l),function hc(g){on().location.href=g}(yield Uu(l,f,y,Un(),b)),new Promise(()=>{})})()}_initialize(l){const f=l._key();if(this.eventManagers[f]){const{manager:b,promise:S}=this.eventManagers[f];return b?Promise.resolve(b):(Zt(S,"If manager is not set, promise should be"),S)}const y=this.initAndGetManager(l);return this.eventManagers[f]={promise:y},y.catch(()=>{delete this.eventManagers[f]}),y}initAndGetManager(l){var f=this;return(0,d.Z)(function*(){const y=yield function Hm(g){return Lu.apply(this,arguments)}(l),b=new Wn(l);return y.register("authEvent",S=>(ue(S?.authEvent,l,"invalid-auth-event"),{status:b.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[l._key()]={manager:b},f.iframes[l._key()]=y,b})()}_isIframeWebStorageSupported(l,f){this.iframes[l._key()].send(Yr,{type:Yr},b=>{var S;const U=null===(S=b?.[0])||void 0===S?void 0:S[Yr];void 0!==U&&f(!!U),Wt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function ku(g){return Gl.apply(this,arguments)}(l)),this.originValidationPromises[f]}get _shouldInitProactively(){return nh()||nu()||$s()}};class $i{constructor(l){this.factorId=l}_process(l,f,y){switch(f.type){case"enroll":return this._finalizeEnroll(l,f.credential,y);case"signin":return this._finalizeSignIn(l,f.credential);default:return wt("unexpected MultiFactorSessionType")}}}class vs extends $i{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new vs(l)}_finalizeEnroll(l,f,y){return function lh(g,l){return jt(g,"POST","/v2/accounts/mfaEnrollment:finalize",Dt(g,l))}(l,{idToken:f,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,f){return function io(g,l){return jt(g,"POST","/v2/accounts/mfaSignIn:finalize",Dt(g,l))}(l,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Cc=(()=>{class g{constructor(){}static assertion(f){return vs._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var Ql="@firebase/auth";class Jl{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var f=this;return(0,d.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const f=this.auth.onIdTokenChanged(y=>{l(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,f),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const f=this.internalListeners.get(l);f&&(this.internalListeners.delete(l),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Wi(){return window}(0,O.Pz)("authIdTokenMaxAge"),function Dp(g){(0,te._registerComponent)(new Ii.wA("auth",(l,{options:f})=>{const y=l.getProvider("app").getImmediate(),b=l.getProvider("heartbeat"),S=l.getProvider("app-check-internal"),{apiKey:U,authDomain:Z}=y.options;ue(U&&!U.includes(":"),"invalid-api-key",{appName:y.name});const ge={apiKey:U,authDomain:Z,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iu(g)},de=new qa(y,b,S,ge);return function Jt(g,l){const f=l?.persistence||[],y=(Array.isArray(f)?f:[f]).map(Rn);l?.errorMap&&g._updateErrorMap(l.errorMap),g._initializeWithPersistence(y,l?.popupRedirectResolver)}(de,f),de},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,f,y)=>{l.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new Ii.wA("auth-internal",l=>{const f=ot(l.getProvider("auth").getImmediate());return new Jl(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Ql,"0.23.2",function bp(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,te.registerVersion)(Ql,"0.23.2","esm2017")}("Browser");function Th(){return Th=(0,d.Z)(function*(g,l,f){var y;const{BuildInfo:b}=Wi();Zt(l.sessionId,"AuthEvent did not contain a session ID");const S=yield function Xl(g){return Tc.apply(this,arguments)}(l.sessionId),U={};return $s()?U.ibi=b.packageName:Vs()?U.apn=b.packageName:Wt(g,"operation-not-supported-in-this-environment"),b.displayName&&(U.appDisplayName=b.displayName),U.sessionId=S,Uu(g,f,l.type,void 0,null!==(y=l.eventId)&&void 0!==y?y:void 0,U)}),Th.apply(this,arguments)}function Dc(){return(Dc=(0,d.Z)(function*(g){const{BuildInfo:l}=Wi(),f={};$s()?f.iosBundleId=l.packageName:Vs()?f.androidPackageName=l.packageName:Wt(g,"operation-not-supported-in-this-environment"),yield Bm(g,f)})).apply(this,arguments)}function tr(){return(tr=(0,d.Z)(function*(g,l,f){const{cordova:y}=Wi();let b=()=>{};try{yield new Promise((S,U)=>{let Z=null;function ge(){var Me;S();const rt=null===(Me=y.plugins.browsertab)||void 0===Me?void 0:Me.close;"function"==typeof rt&&rt(),"function"==typeof f?.close&&f.close()}function de(){Z||(Z=window.setTimeout(()=>{U(Gt(g,"redirect-cancelled-by-user"))},2e3))}function De(){"visible"===document?.visibilityState&&de()}l.addPassiveListener(ge),document.addEventListener("resume",de,!1),Vs()&&document.addEventListener("visibilitychange",De,!1),b=()=>{l.removePassiveListener(ge),document.removeEventListener("resume",de,!1),document.removeEventListener("visibilitychange",De,!1),Z&&window.clearTimeout(Z)}})}finally{b()}})).apply(this,arguments)}function Tc(){return(Tc=(0,d.Z)(function*(g){const l=function zi(g){if(Zt(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const l=new ArrayBuffer(g.length),f=new Uint8Array(l);for(let y=0;y<g.length;y++)f[y]=g.charCodeAt(y);return f}(g),f=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(f)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class qo extends Wn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(l)),super.onEvent(l)}initialized(){var l=this;return(0,d.Z)(function*(){yield l.initPromise})()}}function Bu(g){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,d.Z)(function*(g){const l=yield Sc()._get(Sh(g));return l&&(yield Sc()._remove(Sh(g))),l})).apply(this,arguments)}function Vu(){const g=[];for(let f=0;f<20;f++){const y=Math.floor(62*Math.random());g.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(y))}return g.join("")}function Sc(){return Rn(Bo)}function Sh(g){return Si("authEvent",g.config.apiKey,g.name)}function $u(g){if(!g?.includes("?"))return{};const[l,...f]=g.split("?");return(0,O.zd)(f.join("?"))}const Ac=class Mp{constructor(){this._redirectPersistence=xn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_r,this._overrideRedirectResult=_c}_initialize(l){var f=this;return(0,d.Z)(function*(){const y=l._key();let b=f.eventManagers.get(y);return b||(b=new qo(l),f.eventManagers.set(y,b),f.attachCallbackListeners(l,b)),b})()}_openPopup(l){Wt(l,"operation-not-supported-in-this-environment")}_openRedirect(l,f,y,b){var S=this;return(0,d.Z)(function*(){!function Bv(g){var l,f,y,b,S,U,Z,ge,de,De;const Me=Wi();ue("function"==typeof(null===(l=Me?.universalLinks)||void 0===l?void 0:l.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ue(typeof(null===(f=Me?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ue("function"==typeof(null===(S=null===(b=null===(y=Me?.cordova)||void 0===y?void 0:y.plugins)||void 0===b?void 0:b.browsertab)||void 0===S?void 0:S.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue("function"==typeof(null===(ge=null===(Z=null===(U=Me?.cordova)||void 0===U?void 0:U.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===ge?void 0:ge.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue("function"==typeof(null===(De=null===(de=Me?.cordova)||void 0===de?void 0:de.InAppBrowser)||void 0===De?void 0:De.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const U=yield S._initialize(l);yield U.initialized(),U.resetRedirect(),function wh(){di.clear()}(),yield S._originValidation(l);const Z=function Ap(g,l,f=null){return{type:l,eventId:f,urlResponse:null,sessionId:Vu(),postBody:null,tenantId:g.tenantId,error:Gt(g,"no-auth-event")}}(l,y,b);yield function ws(g,l){return Sc()._set(Sh(g),l)}(l,Z);const ge=yield function qm(g,l,f){return Th.apply(this,arguments)}(l,Z,f),de=yield function Sp(g){const{cordova:l}=Wi();return new Promise(f=>{l.plugins.browsertab.isAvailable(y=>{let b=null;y?l.plugins.browsertab.openUrl(g):b=l.InAppBrowser.open(g,function np(g=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),f(b)})})}(ge);return function co(g,l,f){return tr.apply(this,arguments)}(l,U,de)})()}_isIframeWebStorageSupported(l,f){throw new Error("Method not implemented.")}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function An(g){return Dc.apply(this,arguments)}(l)),this.originValidationPromises[f]}attachCallbackListeners(l,f){const{universalLinks:y,handleOpenURL:b,BuildInfo:S}=Wi(),U=setTimeout((0,d.Z)(function*(){yield Bu(l),f.onEvent(Rp())}),500),Z=function(){var De=(0,d.Z)(function*(Me){clearTimeout(U);const rt=yield Bu(l);let Kt=null;rt&&Me?.url&&(Kt=function Dn(g,l){var f,y;const b=function Ym(g){const l=$u(g),f=l.link?decodeURIComponent(l.link):void 0,y=$u(f).link,b=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return $u(b).link||b||y||f||g}(l);if(b.includes("/__/auth/callback")){const S=$u(b),U=S.firebaseError?function Km(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(S.firebaseError)):null,Z=null===(y=null===(f=U?.code)||void 0===f?void 0:f.split("auth/"))||void 0===y?void 0:y[1],ge=Z?Gt(Z):null;return ge?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:ge,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:b,postBody:null}}return null}(rt,Me.url)),f.onEvent(Kt||Rp())});return function(rt){return De.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,Z);const ge=b,de=`${S.packageName.toLowerCase()}://`;Wi().handleOpenURL=function(){var De=(0,d.Z)(function*(Me){if(Me.toLowerCase().startsWith(de)&&Z({url:Me}),"function"==typeof ge)try{ge(Me)}catch(rt){console.error(rt)}});return function(Me){return De.apply(this,arguments)}}()}};function Rp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Gt("no-auth-event")}}function Is(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function Wu(g=(0,O.z$)()){return!("file:"!==Is()&&"ionic:"!==Is()&&"capacitor:"!==Is()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nh(){try{const g=self.localStorage,l=mr();if(g)return g.setItem(l,"1"),g.removeItem(l),!function Ph(g=(0,O.z$)()){return function Rc(){return(0,O.w1)()&&11===document?.documentMode}()||function Rh(g=(0,O.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,O.hl)()}catch{return Pc()&&(0,O.hl)()}return!1}function Pc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ed(){return(function Mh(){return"http:"===Is()||"https:"===Is()}()||(0,O.ru)()||Wu())&&!function nr(){return(0,O.b$)()||(0,O.UG)()}()&&Nh()&&!Pc()}function td(){return Wu()&&typeof document<"u"}function nd(){return(nd=(0,d.Z)(function*(){return!!td()&&new Promise(g=>{const l=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),g(!0)})})})).apply(this,arguments)}const Qr={LOCAL:"local",NONE:"none",SESSION:"session"},uo=ue,Nc="persistence";function Ra(g){return kh.apply(this,arguments)}function kh(){return(kh=(0,d.Z)(function*(g){yield g._initializationPromise;const l=Lh(),f=Si(Nc,g.config.apiKey,g.name);l&&l.setItem(f,g._getPersistence())})).apply(this,arguments)}function Lh(){var g;try{return(null===(g=function Pp(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const xp=ue;class lo{constructor(){this.browserResolver=Rn(Ma),this.cordovaResolver=Rn(Ac),this.underlyingResolver=null,this._redirectPersistence=xn,this._completeRedirectFn=_r,this._overrideRedirectResult=_c}_initialize(l){var f=this;return(0,d.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,f,y,b){var S=this;return(0,d.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(l,f,y,b)})()}_openRedirect(l,f,y,b){var S=this;return(0,d.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(l,f,y,b)})()}_isIframeWebStorageSupported(l,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,f)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return td()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,d.Z)(function*(){if(l.underlyingResolver)return;const f=yield function xh(){return nd.apply(this,arguments)}();l.underlyingResolver=f?l.cordovaResolver:l.browserResolver})()}}function Ko(g){return g.unwrap()}function Fh(g){return Gu(g)}function Gu(g){const{_tokenResponse:l}=g instanceof O.ZR?g.customData:g;if(!l)return null;if(!(g instanceof O.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return ms.credentialFromResult(g);const f=l.providerId;if(!f||f===Ge.PASSWORD)return null;let y;switch(f){case Ge.GOOGLE:y=du;break;case Ge.FACEBOOK:y=ap;break;case Ge.GITHUB:y=is;break;case Ge.TWITTER:y=cp;break;default:const{oauthIdToken:b,oauthAccessToken:S,oauthTokenSecret:U,pendingToken:Z,nonce:ge}=l;return S||U||b||Z?Z?f.startsWith("saml.")?Pi._create(f,Z):Xt._fromParams({providerId:f,signInMethod:f,pendingToken:Z,idToken:b,accessToken:S}):new ec(f).credential({idToken:b,accessToken:S,rawNonce:ge}):null}return g instanceof O.ZR?y.credentialFromError(g):y.credentialFromResult(g)}function kr(g,l){return l.catch(f=>{throw f instanceof O.ZR&&function Uh(g,l){var f;const y=null===(f=l.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new Op(g,function uh(g,l){var f;const y=(0,O.m9)(g),b=l;return ue(l.customData.operationType,y,"argument-error"),ue(null===(f=b.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,y,"argument-error"),kl._fromError(y,b)}(g,l));else if(y){const b=Gu(l),S=l;b&&(S.credential=b,S.tenantId=y.tenantId||void 0,S.email=y.email||void 0,S.phoneNumber=y.phoneNumber||void 0)}}(g,f),f}).then(f=>{const b=f.user;return{operationType:f.operationType,credential:Fh(f),additionalUserInfo:pp(f),user:Cs.getOrCreate(b)}})}function jh(g,l){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,d.Z)(function*(g,l){const f=yield l;return{verificationId:f.verificationId,confirm:y=>kr(g,f.confirm(y))}})).apply(this,arguments)}class Op{constructor(l,f){this.resolver=f,this.auth=function zu(g){return g.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return kr(Ko(this.auth),this.resolver.resolveSignIn(l))}}class Cs{constructor(l){this._delegate=l,this.multiFactor=function dc(g){const l=(0,O.m9)(g);return Cn.has(l)||Cn.set(l,lc._fromUser(l)),Cn.get(l)}(l)}static getOrCreate(l){return Cs.USER_MAP.has(l)||Cs.USER_MAP.set(l,new Cs(l)),Cs.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var f=this;return(0,d.Z)(function*(){return kr(f.auth,xi(f._delegate,l))})()}linkWithPhoneNumber(l,f){var y=this;return(0,d.Z)(function*(){return jh(y.auth,function wa(g,l,f){return fs.apply(this,arguments)}(y._delegate,l,f))})()}linkWithPopup(l){var f=this;return(0,d.Z)(function*(){return kr(f.auth,function Gr(g,l,f){return Sa.apply(this,arguments)}(f._delegate,l,lo))})()}linkWithRedirect(l){var f=this;return(0,d.Z)(function*(){return yield Ra(ot(f.auth)),Re(f._delegate,l,lo)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var f=this;return(0,d.Z)(function*(){return kr(f.auth,_u(f._delegate,l))})()}reauthenticateWithPhoneNumber(l,f){return jh(this.auth,function Ia(g,l,f){return Or.apply(this,arguments)}(this._delegate,l,f))}reauthenticateWithPopup(l){return kr(this.auth,function zl(g,l,f){return mc.apply(this,arguments)}(this._delegate,l,lo))}reauthenticateWithRedirect(l){var f=this;return(0,d.Z)(function*(){return yield Ra(ot(f.auth)),W(f._delegate,l,lo)})()}sendEmailVerification(l){return function ah(g,l){return gr.apply(this,arguments)}(this._delegate,l)}unlink(l){var f=this;return(0,d.Z)(function*(){return yield function pu(g,l){return _a.apply(this,arguments)}(f._delegate,l),f})()}updateEmail(l){return function hp(g,l){return cs((0,O.m9)(g),l,null)}(this._delegate,l)}updatePassword(l){return function bu(g,l){return cs((0,O.m9)(g),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Ca(g,l){return ba.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Xs(g,l){return Vn.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,f){return function Nl(g,l,f){return uc.apply(this,arguments)}(this._delegate,l,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cs.USER_MAP=new WeakMap;const Zu=ue;let Hh=(()=>{class g{constructor(f,y){if(this.app=f,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=f.options;Zu(b,"invalid-api-key",{appName:f.name}),Zu(b,"invalid-api-key",{appName:f.name});const S=typeof window<"u"?lo:void 0;this._delegate=y.initialize({options:{persistence:bs(b,f.name),popupRedirectResolver:S}}),this._delegate._updateErrorMap(Ci),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,y){!function dr(g,l,f){const y=ot(g);ue(y._canInitEmulator,y,"emulator-config-failed"),ue(/^https?:\/\//.test(l),y,"invalid-emulator-scheme");const b=!!f?.disableWarnings,S=ts(l),{host:U,port:Z}=function Qn(g){const l=ts(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(l.length));if(!f)return{host:"",port:null};const y=f[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(y);if(b){const S=b[1];return{host:S,port:Ao(y.substr(S.length+1))}}{const[S,U]=y.split(":");return{host:S,port:Ao(U)}}}(l);y.config.emulator={url:`${S}//${U}${null===Z?"":`:${Z}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:U,port:Z,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function un(){function g(){const l=document.createElement("p"),f=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,f,y)}applyActionCode(f){return function Al(g,l){return Fo.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Uo(this._delegate,f)}confirmPasswordReset(f,y){return function sc(g,l,f){return va.apply(this,arguments)}(this._delegate,f,y)}createUserWithEmailAndPassword(f,y){var b=this;return(0,d.Z)(function*(){return kr(b._delegate,function Iu(g,l,f){return Cu.apply(this,arguments)}(b._delegate,f,y))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Pl(g,l){return Qs.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function jo(g,l){const f=Ja.parseLink(l);return"EMAIL_SIGNIN"===f?.operation}(0,f)}getRedirectResult(){var f=this;return(0,d.Z)(function*(){Zu(ed(),f._delegate,"operation-not-supported-in-this-environment");const y=yield function et(g,l){return tt.apply(this,arguments)}(f._delegate,lo);return y?kr(f._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Mc(g,l){ot(g)._logFramework(l)}(this._delegate,f)}onAuthStateChanged(f,y,b){const{next:S,error:U,complete:Z}=qu(f,y,b);return this._delegate.onAuthStateChanged(S,U,Z)}onIdTokenChanged(f,y,b){const{next:S,error:U,complete:Z}=qu(f,y,b);return this._delegate.onIdTokenChanged(S,U,Z)}sendSignInLinkToEmail(f,y){return function Ml(g,l,f){return qs.apply(this,arguments)}(this._delegate,f,y)}sendPasswordResetEmail(f,y){return function dp(g,l,f){return vu.apply(this,arguments)}(this._delegate,f,y||void 0)}setPersistence(f){var y=this;return(0,d.Z)(function*(){let b;switch(function Oh(g,l){uo(Object.values(Qr).includes(l),g,"invalid-persistence-type"),(0,O.b$)()?uo(l!==Qr.SESSION,g,"unsupported-persistence-type"):(0,O.UG)()?uo(l===Qr.NONE,g,"unsupported-persistence-type"):Pc()?uo(l===Qr.NONE||l===Qr.LOCAL&&(0,O.hl)(),g,"unsupported-persistence-type"):uo(l===Qr.NONE||Nh(),g,"unsupported-persistence-type")}(y._delegate,f),f){case Qr.SESSION:b=xn;break;case Qr.LOCAL:b=(yield Rn(ro)._isAvailable())?ro:Bo;break;case Qr.NONE:b=Rr;break;default:return Wt("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return kr(this._delegate,function ai(g){return gn.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return kr(this._delegate,as(this._delegate,f))}signInWithCustomToken(f){return kr(this._delegate,function lp(g,l){return yu.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,y){return kr(this._delegate,function ac(g,l,f){return as((0,O.m9)(g),en.credential(l,f))}(this._delegate,f,y))}signInWithEmailLink(f,y){return kr(this._delegate,function Rl(g,l,f){return Ks.apply(this,arguments)}(this._delegate,f,y))}signInWithPhoneNumber(f,y){return jh(this._delegate,function mh(g,l,f){return Wl.apply(this,arguments)}(this._delegate,f,y))}signInWithPopup(f){var y=this;return(0,d.Z)(function*(){return Zu(ed(),y._delegate,"operation-not-supported-in-this-environment"),kr(y._delegate,function yh(g,l,f){return xu.apply(this,arguments)}(y._delegate,f,lo))})()}signInWithRedirect(f){var y=this;return(0,d.Z)(function*(){return Zu(ed(),y._delegate,"operation-not-supported-in-this-environment"),yield Ra(y._delegate),C(y._delegate,f,lo)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function oc(g,l){return wu.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=Qr,g})();function qu(g,l,f){let y=g;"function"!=typeof g&&({next:y,error:l,complete:f}=g);const b=y;return{next:U=>b(U&&Cs.getOrCreate(U)),error:l,complete:f}}function bs(g,l){const f=function Np(g,l){const f=Lh();if(!f)return[];const y=Si(Nc,g,l);switch(f.getItem(y)){case Qr.NONE:return[Rr];case Qr.LOCAL:return[ro,xn];case Qr.SESSION:return[xn];default:return[]}}(g,l);if(typeof self<"u"&&!f.includes(ro)&&f.push(ro),typeof window<"u")for(const y of[Bo,xn])f.includes(y)||f.push(y);return f.includes(Rr)||f.push(Rr),f}class Pa{constructor(){this.providerId="phone",this._delegate=new ms(Ko(X.Z.auth()))}static credential(l,f){return ms.credential(l,f)}verifyPhoneNumber(l,f){return this._delegate.verifyPhoneNumber(l,f)}unwrap(){return this._delegate}}Pa.PHONE_SIGN_IN_METHOD=ms.PHONE_SIGN_IN_METHOD,Pa.PROVIDER_ID=ms.PROVIDER_ID;const Xm=ue;class e_{constructor(l,f,y=X.Z.app()){var b;Xm(null===(b=y.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new kv(l,f,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Na(g){g.INTERNAL.registerComponent(new Ii.wA("auth-compat",l=>{const f=l.getProvider("app-compat").getImmediate(),y=l.getProvider("auth");return new Hh(f,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:en,FacebookAuthProvider:ap,GithubAuthProvider:is,GoogleAuthProvider:du,OAuthProvider:ec,SAMLAuthProvider:hu,PhoneAuthProvider:Pa,PhoneMultiFactorGenerator:Cc,RecaptchaVerifier:e_,TwitterAuthProvider:cp,Auth:Hh,AuthCredential:hr,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.4.2")}(X.Z)},5861:(Ve,_e,N)=>{function d(O,te,ee,z,he,se,Q){try{var P=O[se](Q),F=P.value}catch(j){return void ee(j)}P.done?te(F):Promise.resolve(F).then(z,he)}function X(O){return function(){var te=this,ee=arguments;return new Promise(function(z,he){var se=O.apply(te,ee);function Q(F){d(se,z,he,Q,P,"next",F)}function P(F){d(se,z,he,Q,P,"throw",F)}Q(void 0)})}}N.d(_e,{Z:()=>X})}},Ve=>{Ve(Ve.s=2216)}]);